.container
  - provide(:title, "Edit profile")
  .row
    .col-md-12
      %h1 Update your profile
      .well.bs-component
        = form_for(@user, url: profile_path, html: { method: :patch, multipart: true }, class: 'form-horizontal')  do |f|
          .row
            -if @user.avatar?
              .col-lg-4
                %label Avatar:
                %br/

                - if @user.avatar.url.present?
                  = image_tag(@user.avatar.url)
                  %br
                  = f.label :remove_avatar do
                    %label Delete avatar:
                    = f.check_box :remove_avatar
                %br/
                %br/
              .form-group.col-lg-offset-4
                %legend Info
                .form-group
                  = f.label "Name", class: 'col-lg-2 control-label'
                  .col-lg-10
                    = f.text_field :name, required: false, autofocus: true, class: 'form-control'
                  %br
                %br
                .form-group
                  = f.label "Email", class: 'col-lg-2 control-label'
                  .col-lg-10
                    = f.text_field :email, required: false, autofocus: true, class: 'form-control'
                  %br
                %br
                .form-group
                  = f.label "Password", class: 'col-lg-2 control-label'
                  .col-lg-10
                    = f.text_field :password, required: false, autofocus: true, class: 'form-control', type: 'password'
                  %br
                %br
                .form-group
                  = f.label "Password Confirmation", class: 'col-lg-2 control-label'
                  .col-lg-10
                    = f.text_field :password_confirmation, required: false, autofocus: true, class: 'form-control', type: 'password'
                %br
              %br
            -else
              .form-group

                .form-group
                  %legend Personal Information
                  = f.label "Name", class: 'col-lg-2 control-label'
                  .col-lg-10
                    = f.text_field :name, required: false, autofocus: true, class: 'form-control'
                  %br
                %br
                .form-group
                  = f.label "Email", class: 'col-lg-2 control-label'
                  .col-lg-10
                    = f.text_field :email, required: false, autofocus: true, class: 'form-control'
                  %br
                %br
                .form-group
                  = f.label "Password", class: 'col-lg-2 control-label'
                  .col-lg-10
                    = f.text_field :password, required: false, autofocus: true, class: 'form-control', type: 'password'
                  %br
                %br
                .form-group
                  = f.label "Password Confirmation", class: 'col-lg-2 control-label'
                  .col-lg-10
                    = f.text_field :password_confirmation, required: false, autofocus: true, class: 'form-control', type: 'password'
                %br
              %br
            .col-lg-12
              %label.control-label Select File
              = f.file_field :avatar, class: "file"
              = f.hidden_field :avatar_cache
              %br
            %br
              .form-actions.col-lg-2
                = f.submit "Save changes", class: "btn btn-primary"

= javascript_include_tag 'fileinput'
