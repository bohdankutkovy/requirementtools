/*!
 * jQuery JavaScript Library v1.11.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:19Z
 */
function addActiveScaffoldPageToHistory(e,t){if("undefined"!=typeof dhtmlHistory){var i=e.split("?"),n=new Querystring(i[1]),o=n.get("sort"),r=n.get("sort_direction"),a=n.get("page");(o||r||a)&&dhtmlHistory.add(t+":"+a+":"+o+":"+r,e)}}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t="length"in e&&e.length,i=oe.type(e);return"function"===i||oe.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e}function n(e,t,i){if(oe.isFunction(t))return oe.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return oe.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(fe.test(t))return oe.filter(t,e,i);t=oe.filter(t,e)}return oe.grep(e,function(e){return oe.inArray(e,t)>=0!==i})}function o(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function r(e){var t=we[e]={};return oe.each(e.match(be)||[],function(e,i){t[i]=!0}),t}function a(){he.addEventListener?(he.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(he.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(he.addEventListener||"load"===event.type||"complete"===he.readyState)&&(a(),oe.ready())}function l(e,t,i){if(void 0===i&&1===e.nodeType){var n="data-"+t.replace(Se,"-$1").toLowerCase();if(i=e.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:ke.test(i)?oe.parseJSON(i):i}catch(o){}oe.data(e,t,i)}else i=void 0}return i}function c(e){var t;for(t in e)if(("data"!==t||!oe.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function d(e,t,i,n){if(oe.acceptData(e)){var o,r,a=oe.expando,s=e.nodeType,l=s?oe.cache:e,c=s?e[a]:e[a]&&a;if(c&&l[c]&&(n||l[c].data)||void 0!==i||"string"!=typeof t)return c||(c=s?e[a]=X.pop()||oe.guid++:a),l[c]||(l[c]=s?{}:{toJSON:oe.noop}),("object"==typeof t||"function"==typeof t)&&(n?l[c]=oe.extend(l[c],t):l[c].data=oe.extend(l[c].data,t)),r=l[c],n||(r.data||(r.data={}),r=r.data),void 0!==i&&(r[oe.camelCase(t)]=i),"string"==typeof t?(o=r[t],null==o&&(o=r[oe.camelCase(t)])):o=r,o}}function u(e,t,i){if(oe.acceptData(e)){var n,o,r=e.nodeType,a=r?oe.cache:e,s=r?e[oe.expando]:oe.expando;if(a[s]){if(t&&(n=i?a[s]:a[s].data)){oe.isArray(t)?t=t.concat(oe.map(t,oe.camelCase)):t in n?t=[t]:(t=oe.camelCase(t),t=t in n?[t]:t.split(" ")),o=t.length;for(;o--;)delete n[t[o]];if(i?!c(n):!oe.isEmptyObject(n))return}(i||(delete a[s].data,c(a[s])))&&(r?oe.cleanData([e],!0):ie.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function f(){return!0}function p(){return!1}function h(){try{return he.activeElement}catch(e){}}function m(e){var t=Oe.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function g(e,t){var i,n,o=0,r=typeof e.getElementsByTagName!==_e?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==_e?e.querySelectorAll(t||"*"):void 0;if(!r)for(r=[],i=e.childNodes||e;null!=(n=i[o]);o++)!t||oe.nodeName(n,t)?r.push(n):oe.merge(r,g(n,t));return void 0===t||t&&oe.nodeName(e,t)?oe.merge([e],r):r}function v(e){Ae.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return oe.nodeName(e,"table")&&oe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==oe.find.attr(e,"type"))+"/"+e.type,e}function w(e){var t=Ve.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function x(e,t){for(var i,n=0;null!=(i=e[n]);n++)oe._data(i,"globalEval",!t||oe._data(t[n],"globalEval"))}function C(e,t){if(1===t.nodeType&&oe.hasData(e)){var i,n,o,r=oe._data(e),a=oe._data(t,r),s=r.events;if(s){delete a.handle,a.events={};for(i in s)for(n=0,o=s[i].length;o>n;n++)oe.event.add(t,i,s[i][n])}a.data&&(a.data=oe.extend({},a.data))}}function _(e,t){var i,n,o;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!ie.noCloneEvent&&t[oe.expando]){o=oe._data(t);for(n in o.events)oe.removeEvent(t,n,o.handle);t.removeAttribute(oe.expando)}"script"===i&&t.text!==e.text?(b(t).text=e.text,w(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),ie.html5Clone&&e.innerHTML&&!oe.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&Ae.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}}function k(t,i){var n,o=oe(i.createElement(t)).appendTo(i.body),r=e.getDefaultComputedStyle&&(n=e.getDefaultComputedStyle(o[0]))?n.display:oe.css(o[0],"display");return o.detach(),r}function S(e){var t=he,i=Je[e];return i||(i=k(e,t),"none"!==i&&i||(Ye=(Ye||oe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Ye[0].contentWindow||Ye[0].contentDocument).document,t.write(),t.close(),i=k(e,t),Ye.detach()),Je[e]=i),i}function T(e,t){return{get:function(){var i=e();if(null!=i)return i?void delete this.get:(this.get=t).apply(this,arguments)}}}function E(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,o=ft.length;o--;)if(t=ft[o]+i,t in e)return t;return n}function $(e,t){for(var i,n,o,r=[],a=0,s=e.length;s>a;a++)n=e[a],n.style&&(r[a]=oe._data(n,"olddisplay"),i=n.style.display,t?(r[a]||"none"!==i||(n.style.display=""),""===n.style.display&&$e(n)&&(r[a]=oe._data(n,"olddisplay",S(n.nodeName)))):(o=$e(n),(i&&"none"!==i||!o)&&oe._data(n,"olddisplay",o?i:oe.css(n,"display"))));for(a=0;s>a;a++)n=e[a],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[a]||"":"none"));return e}function j(e,t,i){var n=lt.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function A(e,t,i,n,o){for(var r=i===(n?"border":"content")?4:"width"===t?1:0,a=0;4>r;r+=2)"margin"===i&&(a+=oe.css(e,i+Ee[r],!0,o)),n?("content"===i&&(a-=oe.css(e,"padding"+Ee[r],!0,o)),"margin"!==i&&(a-=oe.css(e,"border"+Ee[r]+"Width",!0,o))):(a+=oe.css(e,"padding"+Ee[r],!0,o),"padding"!==i&&(a+=oe.css(e,"border"+Ee[r]+"Width",!0,o)));return a}function N(e,t,i){var n=!0,o="width"===t?e.offsetWidth:e.offsetHeight,r=et(e),a=ie.boxSizing&&"border-box"===oe.css(e,"boxSizing",!1,r);if(0>=o||null==o){if(o=tt(e,t,r),(0>o||null==o)&&(o=e.style[t]),nt.test(o))return o;n=a&&(ie.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+A(e,t,i||(a?"border":"content"),n,r)+"px"}function I(e,t,i,n,o){return new I.prototype.init(e,t,i,n,o)}function D(){return setTimeout(function(){pt=void 0}),pt=oe.now()}function F(e,t){var i,n={height:e},o=0;for(t=t?1:0;4>o;o+=2-t)i=Ee[o],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function P(e,t,i){for(var n,o=(bt[t]||[]).concat(bt["*"]),r=0,a=o.length;a>r;r++)if(n=o[r].call(i,t,e))return n}function O(e,t,i){var n,o,r,a,s,l,c,d,u=this,f={},p=e.style,h=e.nodeType&&$e(e),m=oe._data(e,"fxshow");i.queue||(s=oe._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,oe.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],c=oe.css(e,"display"),d="none"===c?oe._data(e,"olddisplay")||S(e.nodeName):c,"inline"===d&&"none"===oe.css(e,"float")&&(ie.inlineBlockNeedsLayout&&"inline"!==S(e.nodeName)?p.zoom=1:p.display="inline-block")),i.overflow&&(p.overflow="hidden",ie.shrinkWrapBlocks()||u.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in t)if(o=t[n],mt.exec(o)){if(delete t[n],r=r||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!m||void 0===m[n])continue;h=!0}f[n]=m&&m[n]||oe.style(e,n)}else c=void 0;if(oe.isEmptyObject(f))"inline"===("none"===c?S(e.nodeName):c)&&(p.display=c);else{m?"hidden"in m&&(h=m.hidden):m=oe._data(e,"fxshow",{}),r&&(m.hidden=!h),h?oe(e).show():u.done(function(){oe(e).hide()}),u.done(function(){var t;oe._removeData(e,"fxshow");for(t in f)oe.style(e,t,f[t])});for(n in f)a=P(h?m[n]:0,n,u),n in m||(m[n]=a.start,h&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}}function L(e,t){var i,n,o,r,a;for(i in e)if(n=oe.camelCase(i),o=t[n],r=e[i],oe.isArray(r)&&(o=r[1],r=e[i]=r[0]),i!==n&&(e[n]=r,delete e[i]),a=oe.cssHooks[n],a&&"expand"in a){r=a.expand(r),delete e[n];for(i in r)i in e||(e[i]=r[i],t[i]=o)}else t[n]=o}function R(e,t,i){var n,o,r=0,a=yt.length,s=oe.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=pt||D(),i=Math.max(0,c.startTime+c.duration-t),n=i/c.duration||0,r=1-n,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(r);return s.notifyWith(e,[c,r,i]),1>r&&l?i:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:oe.extend({},t),opts:oe.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:pt||D(),duration:i.duration,tweens:[],createTween:function(t,i){var n=oe.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(o)return this;for(o=!0;n>i;i++)c.tweens[i].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),d=c.props;for(L(d,c.opts.specialEasing);a>r;r++)if(n=yt[r].call(c,e,d,c.opts))return n;return oe.map(d,P,c),oe.isFunction(c.opts.start)&&c.opts.start.call(e,c),oe.fx.timer(oe.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function Q(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,o=0,r=t.toLowerCase().match(be)||[];if(oe.isFunction(i))for(;n=r[o++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function H(e,t,i,n){function o(s){var l;return r[s]=!0,oe.each(e[s]||[],function(e,s){var c=s(t,i,n);return"string"!=typeof c||a||r[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)}),l}var r={},a=e===zt;return o(t.dataTypes[0])||!r["*"]&&o("*")}function U(e,t){var i,n,o=oe.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i||(i={}))[n]=t[n]);return i&&oe.extend(!0,e,i),e}function B(e,t,i){for(var n,o,r,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(a in s)if(s[a]&&s[a].test(o)){l.unshift(a);break}if(l[0]in i)r=l[0];else{for(a in i){if(!l[0]||e.converters[a+" "+l[0]]){r=a;break}n||(n=a)}r=r||n}return r?(r!==l[0]&&l.unshift(r),i[r]):void 0}function z(e,t,i,n){var o,r,a,s,l,c={},d=e.dataTypes.slice();if(d[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(r=d.shift();r;)if(e.responseFields[r]&&(i[e.responseFields[r]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=d.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(a=c[l+" "+r]||c["* "+r],!a)for(o in c)if(s=o.split(" "),s[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[o]:c[o]!==!0&&(r=s[0],d.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(u){return{state:"parsererror",error:a?u:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function q(e,t,i,n){var o;if(oe.isArray(t))oe.each(t,function(t,o){i||Vt.test(e)?n(e,o):q(e+"["+("object"==typeof o?t:"")+"]",o,i,n)});else if(i||"object"!==oe.type(t))n(e,t);else for(o in t)q(e+"["+o+"]",t[o],i,n)}function M(){try{return new e.XMLHttpRequest}catch(t){}}function W(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function V(e){return oe.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var X=[],G=X.slice,Z=X.concat,K=X.push,Y=X.indexOf,J={},ee=J.toString,te=J.hasOwnProperty,ie={},ne="1.11.3",oe=function(e,t){return new oe.fn.init(e,t)},re=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,se=/-([\da-z])/gi,le=function(e,t){return t.toUpperCase()};oe.fn=oe.prototype={jquery:ne,constructor:oe,selector:"",length:0,toArray:function(){return G.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:G.call(this)},pushStack:function(e){var t=oe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return oe.each(this,e,t)},map:function(e){return this.pushStack(oe.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(G.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:K,sort:X.sort,splice:X.splice},oe.extend=oe.fn.extend=function(){var e,t,i,n,o,r,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||oe.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(o=arguments[s]))for(n in o)e=a[n],i=o[n],a!==i&&(c&&i&&(oe.isPlainObject(i)||(t=oe.isArray(i)))?(t?(t=!1,r=e&&oe.isArray(e)?e:[]):r=e&&oe.isPlainObject(e)?e:{},a[n]=oe.extend(c,r,i)):void 0!==i&&(a[n]=i));return a},oe.extend({expando:"jQuery"+(ne+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===oe.type(e)},isArray:Array.isArray||function(e){return"array"===oe.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!oe.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==oe.type(e)||e.nodeType||oe.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(ie.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?J[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&oe.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ae,"ms-").replace(se,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var o,r=0,a=e.length,s=i(e);if(n){if(s)for(;a>r&&(o=t.apply(e[r],n),o!==!1);r++);else for(r in e)if(o=t.apply(e[r],n),o===!1)break}else if(s)for(;a>r&&(o=t.call(e[r],r,e[r]),o!==!1);r++);else for(r in e)if(o=t.call(e[r],r,e[r]),o===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(re,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?oe.merge(n,"string"==typeof e?[e]:e):K.call(n,e)),n},inArray:function(e,t,i){var n;if(t){if(Y)return Y.call(t,e,i);for(n=t.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,n=0,o=e.length;i>n;)e[o++]=t[n++];if(i!==i)for(;void 0!==t[n];)e[o++]=t[n++];return e.length=o,e},grep:function(e,t,i){for(var n,o=[],r=0,a=e.length,s=!i;a>r;r++)n=!t(e[r],r),n!==s&&o.push(e[r]);return o},map:function(e,t,n){var o,r=0,a=e.length,s=i(e),l=[];if(s)for(;a>r;r++)o=t(e[r],r,n),null!=o&&l.push(o);else for(r in e)o=t(e[r],r,n),null!=o&&l.push(o);return Z.apply([],l)},guid:1,proxy:function(e,t){var i,n,o;return"string"==typeof t&&(o=e[t],t=e,e=o),oe.isFunction(e)?(i=G.call(arguments,2),n=function(){return e.apply(t||this,i.concat(G.call(arguments)))},n.guid=e.guid=e.guid||oe.guid++,n):void 0},now:function(){return+new Date},support:ie}),oe.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()});var ce=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(e){function t(e,t,i,n){var o,r,a,s,l,c,u,p,h,m;if((t?t.ownerDocument||t:H)!==I&&N(t),t=t||I,i=i||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return i;if(!n&&F){if(11!==s&&(o=ye.exec(e)))if(a=o[1]){if(9===s){if(r=t.getElementById(a),!r||!r.parentNode)return i;if(r.id===a)return i.push(r),i}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(a))&&R(t,r)&&r.id===a)return i.push(r),i}else{if(o[2])return Y.apply(i,t.getElementsByTagName(e)),i;if((a=o[3])&&x.getElementsByClassName)return Y.apply(i,t.getElementsByClassName(a)),i}if(x.qsa&&(!P||!P.test(e))){if(p=u=Q,h=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=S(e),(u=t.getAttribute("id"))?p=u.replace(we,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+f(c[l]);h=be.test(e)&&d(t.parentNode)||t,m=c.join(",")}if(m)try{return Y.apply(i,h.querySelectorAll(m)),i}catch(g){}finally{u||t.removeAttribute("id")}}}return E(e.replace(le,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>C.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[Q]=!0,e}function o(e){var t=I.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var i=e.split("|"),n=e.length;n--;)C.attrHandle[i[n]]=t}function a(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function s(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function c(e){return n(function(t){return t=+t,n(function(i,n){for(var o,r=e([],i.length,t),a=r.length;a--;)i[o=r[a]]&&(i[o]=!(n[o]=i[o]))})})}function d(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function u(){}function f(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function p(e,t,i){var n=t.dir,o=i&&"parentNode"===n,r=B++;return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||o)return e(t,i,r)}:function(t,i,a){var s,l,c=[U,r];if(a){for(;t=t[n];)if((1===t.nodeType||o)&&e(t,i,a))return!0}else for(;t=t[n];)if(1===t.nodeType||o){if(l=t[Q]||(t[Q]={}),(s=l[n])&&s[0]===U&&s[1]===r)return c[2]=s[2];if(l[n]=c,c[2]=e(t,i,a))return!0}}}function h(e){return e.length>1?function(t,i,n){for(var o=e.length;o--;)if(!e[o](t,i,n))return!1;return!0}:e[0]}function m(e,i,n){for(var o=0,r=i.length;r>o;o++)t(e,i[o],n);return n}function g(e,t,i,n,o){for(var r,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(r=e[s])&&(!i||i(r,n,o))&&(a.push(r),c&&t.push(s));return a}function v(e,t,i,o,r,a){return o&&!o[Q]&&(o=v(o)),r&&!r[Q]&&(r=v(r,a)),n(function(n,a,s,l){var c,d,u,f=[],p=[],h=a.length,v=n||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!n&&t?v:g(v,f,e,s,l),b=i?r||(n?e:h||o)?[]:a:y;if(i&&i(y,b,s,l),o)for(c=g(b,p),o(c,[],s,l),d=c.length;d--;)(u=c[d])&&(b[p[d]]=!(y[p[d]]=u));if(n){if(r||e){if(r){for(c=[],d=b.length;d--;)(u=b[d])&&c.push(y[d]=u);r(null,b=[],c,l)}for(d=b.length;d--;)(u=b[d])&&(c=r?ee(n,u):f[d])>-1&&(n[c]=!(a[c]=u))}}else b=g(b===a?b.splice(h,b.length):b),r?r(null,a,b,l):Y.apply(a,b)})}function y(e){for(var t,i,n,o=e.length,r=C.relative[e[0].type],a=r||C.relative[" "],s=r?1:0,l=p(function(e){return e===t},a,!0),c=p(function(e){return ee(t,e)>-1},a,!0),d=[function(e,i,n){var o=!r&&(n||i!==$)||((t=i).nodeType?l(e,i,n):c(e,i,n));return t=null,o}];o>s;s++)if(i=C.relative[e[s].type])d=[p(h(d),i)];else{if(i=C.filter[e[s].type].apply(null,e[s].matches),i[Q]){for(n=++s;o>n&&!C.relative[e[n].type];n++);return v(s>1&&h(d),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),i,n>s&&y(e.slice(s,n)),o>n&&y(e=e.slice(n)),o>n&&f(e))}d.push(i)}return h(d)}function b(e,i){var o=i.length>0,r=e.length>0,a=function(n,a,s,l,c){var d,u,f,p=0,h="0",m=n&&[],v=[],y=$,b=n||r&&C.find.TAG("*",c),w=U+=null==y?1:Math.random()||.1,x=b.length;for(c&&($=a!==I&&a);h!==x&&null!=(d=b[h]);h++){if(r&&d){for(u=0;f=e[u++];)if(f(d,a,s)){l.push(d);break}c&&(U=w)}o&&((d=!f&&d)&&p--,n&&m.push(d))}if(p+=h,o&&h!==p){for(u=0;f=i[u++];)f(m,v,a,s);if(n){if(p>0)for(;h--;)m[h]||v[h]||(v[h]=Z.call(l));v=g(v)}Y.apply(l,v),c&&!n&&v.length>0&&p+i.length>1&&t.uniqueSort(l)}return c&&(U=w,$=y),m};return o?n(a):a}var w,x,C,_,k,S,T,E,$,j,A,N,I,D,F,P,O,L,R,Q="sizzle"+1*new Date,H=e.document,U=0,B=0,z=i(),q=i(),M=i(),W=function(e,t){return e===t&&(A=!0),0},V=1<<31,X={}.hasOwnProperty,G=[],Z=G.pop,K=G.push,Y=G.push,J=G.slice,ee=function(e,t){for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return i;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe=ne.replace("w","w#"),re="\\["+ie+"*("+ne+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+oe+"))|)"+ie+"*\\]",ae=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",se=new RegExp(ie+"+","g"),le=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),ce=new RegExp("^"+ie+"*,"+ie+"*"),de=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),ue=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),fe=new RegExp(ae),pe=new RegExp("^"+oe+"$"),he={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne.replace("w","w*")+")"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,we=/'|\\/g,xe=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),Ce=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},_e=function(){N()};try{Y.apply(G=J.call(H.childNodes),H.childNodes),G[H.childNodes.length].nodeType}catch(ke){Y={apply:G.length?function(e,t){K.apply(e,J.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}x=t.support={},k=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},N=t.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:H;return n!==I&&9===n.nodeType&&n.documentElement?(I=n,D=n.documentElement,i=n.defaultView,i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",_e,!1):i.attachEvent&&i.attachEvent("onunload",_e)),F=!k(n),x.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=o(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=ve.test(n.getElementsByClassName),x.getById=o(function(e){return D.appendChild(e).id=Q,!n.getElementsByName||!n.getElementsByName(Q).length}),x.getById?(C.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&F){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},C.filter.ID=function(e){var t=e.replace(xe,Ce);return function(e){return e.getAttribute("id")===t}}):(delete C.find.ID,C.filter.ID=function(e){var t=e.replace(xe,Ce);return function(e){var i="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}),C.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;i=r[o++];)1===i.nodeType&&n.push(i);return n}return r},C.find.CLASS=x.getElementsByClassName&&function(e,t){return F?t.getElementsByClassName(e):void 0},O=[],P=[],(x.qsa=ve.test(n.querySelectorAll))&&(o(function(e){D.appendChild(e).innerHTML="<a id='"+Q+"'></a><select id='"+Q+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+ie+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||P.push("\\["+ie+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+Q+"-]").length||P.push("~="),e.querySelectorAll(":checked").length||P.push(":checked"),e.querySelectorAll("a#"+Q+"+*").length||P.push(".#.+[+~]")}),o(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&P.push("name"+ie+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(x.matchesSelector=ve.test(L=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&o(function(e){x.disconnectedMatch=L.call(e,"div"),L.call(e,"[s!='']:x"),O.push("!=",ae)}),P=P.length&&new RegExp(P.join("|")),O=O.length&&new RegExp(O.join("|")),t=ve.test(D.compareDocumentPosition),R=t||ve.test(D.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return A=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!x.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===H&&R(H,e)?-1:t===n||t.ownerDocument===H&&R(H,t)?1:j?ee(j,e)-ee(j,t):0:4&i?-1:1)}:function(e,t){if(e===t)return A=!0,0;var i,o=0,r=e.parentNode,s=t.parentNode,l=[e],c=[t];if(!r||!s)return e===n?-1:t===n?1:r?-1:s?1:j?ee(j,e)-ee(j,t):0;if(r===s)return a(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;l[o]===c[o];)o++;return o?a(l[o],c[o]):l[o]===H?-1:c[o]===H?1:0},n):I},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==I&&N(e),i=i.replace(ue,"='$1']"),x.matchesSelector&&F&&(!O||!O.test(i))&&(!P||!P.test(i)))try{var n=L.call(e,i);if(n||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(o){}return t(i,I,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==I&&N(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==I&&N(e);var i=C.attrHandle[t.toLowerCase()],n=i&&X.call(C.attrHandle,t.toLowerCase())?i(e,t,!F):void 0;return void 0!==n?n:x.attributes||!F?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,o=0;if(A=!x.detectDuplicates,j=!x.sortStable&&e.slice(0),e.sort(W),A){for(;t=e[o++];)t===e[o]&&(n=i.push(o));for(;n--;)e.splice(i[n],1)}return j=null,e},_=t.getText=function(e){var t,i="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=_(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n++];)i+=_(t);return i},C=t.selectors={cacheLength:50,createPseudo:n,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,Ce),e[3]=(e[3]||e[4]||e[5]||"").replace(xe,Ce),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&fe.test(i)&&(t=S(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,Ce).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ie+")"+e+"("+ie+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(o){var r=t.attr(o,e);return null==r?"!="===i:i?(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r.replace(se," ")+" ").indexOf(n)>-1:"|="===i?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,i,n,o){var r="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===o?function(e){return!!e.parentNode}:function(t,i,l){var c,d,u,f,p,h,m=r!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(r){for(;m;){for(u=t;u=u[m];)if(s?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(d=g[Q]||(g[Q]={}),c=d[e]||[],p=c[0]===U&&c[1],f=c[0]===U&&c[2],u=p&&g.childNodes[p];u=++p&&u&&u[m]||(f=p=0)||h.pop();)if(1===u.nodeType&&++f&&u===t){d[e]=[U,p,f];break}}else if(y&&(c=(t[Q]||(t[Q]={}))[e])&&c[0]===U)f=c[1];else for(;(u=++p&&u&&u[m]||(f=p=0)||h.pop())&&((s?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++f||(y&&((u[Q]||(u[Q]={}))[e]=[U,f]),u!==t)););return f-=o,f===n||f%n===0&&f/n>=0}}},PSEUDO:function(e,i){var o,r=C.pseudos[e]||C.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[Q]?r(i):r.length>1?(o=[e,e,"",i],C.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,o=r(e,i),a=o.length;a--;)n=ee(e,o[a]),e[n]=!(t[n]=o[a])}):function(e){return r(e,0,o)}):r}},pseudos:{not:n(function(e){var t=[],i=[],o=T(e.replace(le,"$1"));return o[Q]?n(function(e,t,i,n){for(var r,a=o(e,null,n,[]),s=e.length;s--;)(r=a[s])&&(e[s]=!(t[s]=r))}):function(e,n,r){return t[0]=e,o(t,null,r,i),t[0]=null,!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return e=e.replace(xe,Ce),function(t){return(t.textContent||t.innerText||_(t)).indexOf(e)>-1}}),lang:n(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xe,Ce).toLowerCase(),function(t){var i;do if(i=F?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===D},focus:function(e){return e===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,i){return[0>i?i+t:i]}),even:c(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:c(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:c(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:c(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}},C.pseudos.nth=C.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=l(w);return u.prototype=C.filters=C.pseudos,C.setFilters=new u,S=t.tokenize=function(e,i){var n,o,r,a,s,l,c,d=q[e+" "];if(d)return i?0:d.slice(0);for(s=e,l=[],c=C.preFilter;s;){(!n||(o=ce.exec(s)))&&(o&&(s=s.slice(o[0].length)||s),l.push(r=[])),n=!1,(o=de.exec(s))&&(n=o.shift(),r.push({value:n,type:o[0].replace(le," ")}),s=s.slice(n.length));for(a in C.filter)!(o=he[a].exec(s))||c[a]&&!(o=c[a](o))||(n=o.shift(),r.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return i?s.length:s?t.error(e):q(e,l).slice(0)},T=t.compile=function(e,t){var i,n=[],o=[],r=M[e+" "];if(!r){for(t||(t=S(e)),i=t.length;i--;)r=y(t[i]),r[Q]?n.push(r):o.push(r);r=M(e,b(o,n)),r.selector=e}return r},E=t.select=function(e,t,i,n){var o,r,a,s,l,c="function"==typeof e&&e,u=!n&&S(e=c.selector||e);if(i=i||[],1===u.length){if(r=u[0]=u[0].slice(0),r.length>2&&"ID"===(a=r[0]).type&&x.getById&&9===t.nodeType&&F&&C.relative[r[1].type]){if(t=(C.find.ID(a.matches[0].replace(xe,Ce),t)||[])[0],!t)return i;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=he.needsContext.test(e)?0:r.length;o--&&(a=r[o],!C.relative[s=a.type]);)if((l=C.find[s])&&(n=l(a.matches[0].replace(xe,Ce),be.test(r[0].type)&&d(t.parentNode)||t))){if(r.splice(o,1),e=n.length&&f(r),!e)return Y.apply(i,n),i;break}}return(c||T(e,u))(n,t,!F,i,be.test(e)&&d(t.parentNode)||t),i},x.sortStable=Q.split("").sort(W).join("")===Q,x.detectDuplicates=!!A,N(),x.sortDetached=o(function(e){return 1&e.compareDocumentPosition(I.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||r(te,function(e,t,i){var n;return i?void 0:e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);oe.find=ce,oe.expr=ce.selectors,oe.expr[":"]=oe.expr.pseudos,oe.unique=ce.uniqueSort,oe.text=ce.getText,oe.isXMLDoc=ce.isXML,oe.contains=ce.contains;var de=oe.expr.match.needsContext,ue=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,fe=/^.[^:#\[\.,]*$/;oe.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?oe.find.matchesSelector(n,e)?[n]:[]:oe.find.matches(e,oe.grep(t,function(e){return 1===e.nodeType}))},oe.fn.extend({find:function(e){var t,i=[],n=this,o=n.length;if("string"!=typeof e)return this.pushStack(oe(e).filter(function(){for(t=0;o>t;t++)if(oe.contains(n[t],this))return!0}));for(t=0;o>t;t++)oe.find(e,n[t],i);return i=this.pushStack(o>1?oe.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&de.test(e)?oe(e):e||[],!1).length}});var pe,he=e.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=oe.fn.init=function(e,t){var i,n;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:me.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||pe).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof oe?t[0]:t,oe.merge(this,oe.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:he,!0)),ue.test(i[1])&&oe.isPlainObject(t))for(i in t)oe.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if(n=he.getElementById(i[2]),n&&n.parentNode){if(n.id!==i[2])return pe.find(e);this.length=1,this[0]=n}return this.context=he,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):oe.isFunction(e)?"undefined"!=typeof pe.ready?pe.ready(e):e(oe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),oe.makeArray(e,this))};ge.prototype=oe.fn,pe=oe(he);var ve=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};oe.extend({dir:function(e,t,i){for(var n=[],o=e[t];o&&9!==o.nodeType&&(void 0===i||1!==o.nodeType||!oe(o).is(i));)1===o.nodeType&&n.push(o),o=o[t];return n},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),oe.fn.extend({has:function(e){var t,i=oe(e,this),n=i.length;return this.filter(function(){for(t=0;n>t;t++)if(oe.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,n=0,o=this.length,r=[],a=de.test(e)||"string"!=typeof e?oe(e,t||this.context):0;o>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&oe.find.matchesSelector(i,e))){r.push(i);break}return this.pushStack(r.length>1?oe.unique(r):r)},index:function(e){return e?"string"==typeof e?oe.inArray(this[0],oe(e)):oe.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(oe.unique(oe.merge(this.get(),oe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),oe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return oe.dir(e,"parentNode")},parentsUntil:function(e,t,i){return oe.dir(e,"parentNode",i)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return oe.dir(e,"nextSibling")},prevAll:function(e){return oe.dir(e,"previousSibling")},nextUntil:function(e,t,i){return oe.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return oe.dir(e,"previousSibling",i)},siblings:function(e){return oe.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return oe.sibling(e.firstChild)},contents:function(e){return oe.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:oe.merge([],e.childNodes)}},function(e,t){oe.fn[e]=function(i,n){var o=oe.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=oe.filter(n,o)),this.length>1&&(ye[e]||(o=oe.unique(o)),ve.test(e)&&(o=o.reverse())),this.pushStack(o)}});var be=/\S+/g,we={};oe.Callbacks=function(e){e="string"==typeof e?we[e]||r(e):oe.extend({},e);var t,i,n,o,a,s,l=[],c=!e.once&&[],d=function(r){for(i=e.memory&&r,n=!0,a=s||0,s=0,o=l.length,t=!0;l&&o>a;a++)if(l[a].apply(r[0],r[1])===!1&&e.stopOnFalse){i=!1;break}t=!1,l&&(c?c.length&&d(c.shift()):i?l=[]:u.disable())},u={add:function(){if(l){var n=l.length;!function r(t){oe.each(t,function(t,i){var n=oe.type(i);"function"===n?e.unique&&u.has(i)||l.push(i):i&&i.length&&"string"!==n&&r(i)})}(arguments),t?o=l.length:i&&(s=n,d(i))}return this},remove:function(){return l&&oe.each(arguments,function(e,i){for(var n;(n=oe.inArray(i,l,n))>-1;)l.splice(n,1),t&&(o>=n&&o--,a>=n&&a--)}),this},has:function(e){return e?oe.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=c=i=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,i||u.disable(),this},locked:function(){return!c},fireWith:function(e,i){return!l||n&&!c||(i=i||[],i=[e,i.slice?i.slice():i],t?c.push(i):d(i)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},oe.extend({Deferred:function(e){var t=[["resolve","done",oe.Callbacks("once memory"),"resolved"],["reject","fail",oe.Callbacks("once memory"),"rejected"],["notify","progress",oe.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return oe.Deferred(function(i){oe.each(t,function(t,r){var a=oe.isFunction(e[t])&&e[t];o[r[1]](function(){var e=a&&a.apply(this,arguments);e&&oe.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[r[0]+"With"](this===n?i.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?oe.extend(e,n):n}},o={};return n.pipe=n.then,oe.each(t,function(e,r){var a=r[2],s=r[3];n[r[1]]=a.add,s&&a.add(function(){i=s},t[1^e][2].disable,t[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?n:this,arguments),this},o[r[0]+"With"]=a.fireWith}),n.promise(o),e&&e.call(o,o),o},when:function(e){var t,i,n,o=0,r=G.call(arguments),a=r.length,s=1!==a||e&&oe.isFunction(e.promise)?a:0,l=1===s?e:oe.Deferred(),c=function(e,i,n){return function(o){i[e]=this,n[e]=arguments.length>1?G.call(arguments):o,n===t?l.notifyWith(i,n):--s||l.resolveWith(i,n)}};if(a>1)for(t=new Array(a),i=new Array(a),n=new Array(a);a>o;o++)r[o]&&oe.isFunction(r[o].promise)?r[o].promise().done(c(o,n,r)).fail(l.reject).progress(c(o,i,t)):--s;return s||l.resolveWith(n,r),l.promise()}});var xe;oe.fn.ready=function(e){return oe.ready.promise().done(e),this},oe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?oe.readyWait++:oe.ready(!0)},ready:function(e){if(e===!0?!--oe.readyWait:!oe.isReady){if(!he.body)return setTimeout(oe.ready);oe.isReady=!0,e!==!0&&--oe.readyWait>0||(xe.resolveWith(he,[oe]),oe.fn.triggerHandler&&(oe(he).triggerHandler("ready"),oe(he).off("ready")))}}}),oe.ready.promise=function(t){if(!xe)if(xe=oe.Deferred(),"complete"===he.readyState)setTimeout(oe.ready);else if(he.addEventListener)he.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{he.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var i=!1;try{i=null==e.frameElement&&he.documentElement}catch(n){}i&&i.doScroll&&!function o(){if(!oe.isReady){try{i.doScroll("left")}catch(e){return setTimeout(o,50)}a(),oe.ready()}}()}return xe.promise(t)};var Ce,_e="undefined";for(Ce in oe(ie))break;ie.ownLast="0"!==Ce,ie.inlineBlockNeedsLayout=!1,oe(function(){var e,t,i,n;i=he.getElementsByTagName("body")[0],i&&i.style&&(t=he.createElement("div"),n=he.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),typeof t.style.zoom!==_e&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ie.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(i.style.zoom=1)),i.removeChild(n))}),function(){var e=he.createElement("div");if(null==ie.deleteExpando){ie.deleteExpando=!0;try{delete e.test}catch(t){ie.deleteExpando=!1}}e=null}(),oe.acceptData=function(e){var t=oe.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return 1!==i&&9!==i?!1:!t||t!==!0&&e.getAttribute("classid")===t};var ke=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Se=/([A-Z])/g;oe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?oe.cache[e[oe.expando]]:e[oe.expando],!!e&&!c(e)},data:function(e,t,i){return d(e,t,i)},removeData:function(e,t){return u(e,t)},_data:function(e,t,i){return d(e,t,i,!0)},_removeData:function(e,t){return u(e,t,!0)}}),oe.fn.extend({data:function(e,t){var i,n,o,r=this[0],a=r&&r.attributes;if(void 0===e){if(this.length&&(o=oe.data(r),1===r.nodeType&&!oe._data(r,"parsedAttrs"))){for(i=a.length;i--;)a[i]&&(n=a[i].name,0===n.indexOf("data-")&&(n=oe.camelCase(n.slice(5)),l(r,n,o[n])));oe._data(r,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){oe.data(this,e)}):arguments.length>1?this.each(function(){oe.data(this,e,t)}):r?l(r,e,oe.data(r,e)):void 0},removeData:function(e){return this.each(function(){oe.removeData(this,e)})}}),oe.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=oe._data(e,t),i&&(!n||oe.isArray(i)?n=oe._data(e,t,oe.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=oe.queue(e,t),n=i.length,o=i.shift(),r=oe._queueHooks(e,t),a=function(){oe.dequeue(e,t)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===t&&i.unshift("inprogress"),delete r.stop,o.call(e,a,r)),!n&&r&&r.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return oe._data(e,i)||oe._data(e,i,{empty:oe.Callbacks("once memory").add(function(){oe._removeData(e,t+"queue"),oe._removeData(e,i)})})}}),oe.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?oe.queue(this[0],e):void 0===t?this:this.each(function(){var i=oe.queue(this,e,t);oe._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&oe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){oe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,o=oe.Deferred(),r=this,a=this.length,s=function(){--n||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)i=oe._data(r[a],e+"queueHooks"),i&&i.empty&&(n++,i.empty.add(s));return s(),o.promise(t)}});var Te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ee=["Top","Right","Bottom","Left"],$e=function(e,t){return e=t||e,"none"===oe.css(e,"display")||!oe.contains(e.ownerDocument,e)},je=oe.access=function(e,t,i,n,o,r,a){var s=0,l=e.length,c=null==i;if("object"===oe.type(i)){o=!0;for(s in i)oe.access(e,t,s,i[s],!0,r,a)}else if(void 0!==n&&(o=!0,oe.isFunction(n)||(a=!0),c&&(a?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(oe(e),i)})),t))for(;l>s;s++)t(e[s],i,a?n:n.call(e[s],s,t(e[s],i)));return o?e:c?t.call(e):l?t(e[0],i):r},Ae=/^(?:checkbox|radio)$/i;!function(){var e=he.createElement("input"),t=he.createElement("div"),i=he.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ie.leadingWhitespace=3===t.firstChild.nodeType,ie.tbody=!t.getElementsByTagName("tbody").length,ie.htmlSerialize=!!t.getElementsByTagName("link").length,ie.html5Clone="<:nav></:nav>"!==he.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,i.appendChild(e),ie.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ie.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,i.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ie.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ie.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ie.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ie.deleteExpando){ie.deleteExpando=!0;try{delete t.test}catch(n){ie.deleteExpando=!1}}}(),function(){var t,i,n=he.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})i="on"+t,(ie[t+"Bubbles"]=i in e)||(n.setAttribute(i,"t"),ie[t+"Bubbles"]=n.attributes[i].expando===!1);n=null}();var Ne=/^(?:input|select|textarea)$/i,Ie=/^key/,De=/^(?:mouse|pointer|contextmenu)|click/,Fe=/^(?:focusinfocus|focusoutblur)$/,Pe=/^([^.]*)(?:\.(.+)|)$/;oe.event={global:{},add:function(e,t,i,n,o){var r,a,s,l,c,d,u,f,p,h,m,g=oe._data(e);if(g){for(i.handler&&(l=i,i=l.handler,o=l.selector),i.guid||(i.guid=oe.guid++),(a=g.events)||(a=g.events={}),(d=g.handle)||(d=g.handle=function(e){return typeof oe===_e||e&&oe.event.triggered===e.type?void 0:oe.event.dispatch.apply(d.elem,arguments)},d.elem=e),t=(t||"").match(be)||[""],s=t.length;s--;)r=Pe.exec(t[s])||[],p=m=r[1],h=(r[2]||"").split(".").sort(),p&&(c=oe.event.special[p]||{},p=(o?c.delegateType:c.bindType)||p,c=oe.event.special[p]||{},u=oe.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&oe.expr.match.needsContext.test(o),namespace:h.join(".")},l),(f=a[p])||(f=a[p]=[],f.delegateCount=0,c.setup&&c.setup.call(e,n,h,d)!==!1||(e.addEventListener?e.addEventListener(p,d,!1):e.attachEvent&&e.attachEvent("on"+p,d))),c.add&&(c.add.call(e,u),u.handler.guid||(u.handler.guid=i.guid)),o?f.splice(f.delegateCount++,0,u):f.push(u),oe.event.global[p]=!0);e=null}},remove:function(e,t,i,n,o){var r,a,s,l,c,d,u,f,p,h,m,g=oe.hasData(e)&&oe._data(e);if(g&&(d=g.events)){for(t=(t||"").match(be)||[""],c=t.length;c--;)if(s=Pe.exec(t[c])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(u=oe.event.special[p]||{},p=(n?u.delegateType:u.bindType)||p,f=d[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=f.length;r--;)a=f[r],!o&&m!==a.origType||i&&i.guid!==a.guid||s&&!s.test(a.namespace)||n&&n!==a.selector&&("**"!==n||!a.selector)||(f.splice(r,1),a.selector&&f.delegateCount--,u.remove&&u.remove.call(e,a));l&&!f.length&&(u.teardown&&u.teardown.call(e,h,g.handle)!==!1||oe.removeEvent(e,p,g.handle),delete d[p])}else for(p in d)oe.event.remove(e,p+t[c],i,n,!0);oe.isEmptyObject(d)&&(delete g.handle,oe._removeData(e,"events"))}},trigger:function(t,i,n,o){var r,a,s,l,c,d,u,f=[n||he],p=te.call(t,"type")?t.type:t,h=te.call(t,"namespace")?t.namespace.split("."):[];if(s=d=n=n||he,3!==n.nodeType&&8!==n.nodeType&&!Fe.test(p+oe.event.triggered)&&(p.indexOf(".")>=0&&(h=p.split("."),p=h.shift(),h.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[oe.expando]?t:new oe.Event(p,"object"==typeof t&&t),
t.isTrigger=o?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:oe.makeArray(i,[t]),c=oe.event.special[p]||{},o||!c.trigger||c.trigger.apply(n,i)!==!1)){if(!o&&!c.noBubble&&!oe.isWindow(n)){for(l=c.delegateType||p,Fe.test(l+p)||(s=s.parentNode);s;s=s.parentNode)f.push(s),d=s;d===(n.ownerDocument||he)&&f.push(d.defaultView||d.parentWindow||e)}for(u=0;(s=f[u++])&&!t.isPropagationStopped();)t.type=u>1?l:c.bindType||p,r=(oe._data(s,"events")||{})[t.type]&&oe._data(s,"handle"),r&&r.apply(s,i),r=a&&s[a],r&&r.apply&&oe.acceptData(s)&&(t.result=r.apply(s,i),t.result===!1&&t.preventDefault());if(t.type=p,!o&&!t.isDefaultPrevented()&&(!c._default||c._default.apply(f.pop(),i)===!1)&&oe.acceptData(n)&&a&&n[p]&&!oe.isWindow(n)){d=n[a],d&&(n[a]=null),oe.event.triggered=p;try{n[p]()}catch(m){}oe.event.triggered=void 0,d&&(n[a]=d)}return t.result}},dispatch:function(e){e=oe.event.fix(e);var t,i,n,o,r,a=[],s=G.call(arguments),l=(oe._data(this,"events")||{})[e.type]||[],c=oe.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(a=oe.event.handlers.call(this,e,l),t=0;(o=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,r=0;(n=o.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(n.namespace))&&(e.handleObj=n,e.data=n.data,i=((oe.event.special[n.origType]||{}).handle||n.handler).apply(o.elem,s),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,o,r,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(o=[],r=0;s>r;r++)n=t[r],i=n.selector+" ",void 0===o[i]&&(o[i]=n.needsContext?oe(i,this).index(l)>=0:oe.find(i,this,null,[l]).length),o[i]&&o.push(n);o.length&&a.push({elem:l,handlers:o})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[oe.expando])return e;var t,i,n,o=e.type,r=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=De.test(o)?this.mouseHooks:Ie.test(o)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,e=new oe.Event(r),t=n.length;t--;)i=n[t],e[i]=r[i];return e.target||(e.target=r.srcElement||he),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,o,r=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||he,o=n.documentElement,i=n.body,e.pageX=t.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return oe.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return oe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var o=oe.extend(new oe.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?oe.event.trigger(o,null,t):oe.event.dispatch.call(t,o),o.isDefaultPrevented()&&i.preventDefault()}},oe.removeEvent=he.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var n="on"+t;e.detachEvent&&(typeof e[n]===_e&&(e[n]=null),e.detachEvent(n,i))},oe.Event=function(e,t){return this instanceof oe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?f:p):this.type=e,t&&oe.extend(this,t),this.timeStamp=e&&e.timeStamp||oe.now(),void(this[oe.expando]=!0)):new oe.Event(e,t)},oe.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=f,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},oe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){oe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,o=e.relatedTarget,r=e.handleObj;return(!o||o!==n&&!oe.contains(n,o))&&(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),ie.submitBubbles||(oe.event.special.submit={setup:function(){return oe.nodeName(this,"form")?!1:void oe.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=oe.nodeName(t,"input")||oe.nodeName(t,"button")?t.form:void 0;i&&!oe._data(i,"submitBubbles")&&(oe.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),oe._data(i,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&oe.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return oe.nodeName(this,"form")?!1:void oe.event.remove(this,"._submit")}}),ie.changeBubbles||(oe.event.special.change={setup:function(){return Ne.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(oe.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),oe.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),oe.event.simulate("change",this,e,!0)})),!1):void oe.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ne.test(t.nodeName)&&!oe._data(t,"changeBubbles")&&(oe.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||oe.event.simulate("change",this.parentNode,e,!0)}),oe._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return oe.event.remove(this,"._change"),!Ne.test(this.nodeName)}}),ie.focusinBubbles||oe.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){oe.event.simulate(t,e.target,oe.event.fix(e),!0)};oe.event.special[t]={setup:function(){var n=this.ownerDocument||this,o=oe._data(n,t);o||n.addEventListener(e,i,!0),oe._data(n,t,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=oe._data(n,t)-1;o?oe._data(n,t,o):(n.removeEventListener(e,i,!0),oe._removeData(n,t))}}}),oe.fn.extend({on:function(e,t,i,n,o){var r,a;if("object"==typeof e){"string"!=typeof t&&(i=i||t,t=void 0);for(r in e)this.on(r,t,i,e[r],o);return this}if(null==i&&null==n?(n=t,i=t=void 0):null==n&&("string"==typeof t?(n=i,i=void 0):(n=i,i=t,t=void 0)),n===!1)n=p;else if(!n)return this;return 1===o&&(a=n,n=function(e){return oe().off(e),a.apply(this,arguments)},n.guid=a.guid||(a.guid=oe.guid++)),this.each(function(){oe.event.add(this,e,n,i,t)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,t,i){var n,o;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,oe(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return(t===!1||"function"==typeof t)&&(i=t,t=void 0),i===!1&&(i=p),this.each(function(){oe.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){oe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?oe.event.trigger(e,t,i,!0):void 0}});var Oe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Le=/ jQuery\d+="(?:null|\d+)"/g,Re=new RegExp("<(?:"+Oe+")[\\s/>]","i"),Qe=/^\s+/,He=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ue=/<([\w:]+)/,Be=/<tbody/i,ze=/<|&#?\w+;/,qe=/<(?:script|style|link)/i,Me=/checked\s*(?:[^=]|=\s*.checked.)/i,We=/^$|\/(?:java|ecma)script/i,Ve=/^true\/(.*)/,Xe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ge={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ie.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ze=m(he),Ke=Ze.appendChild(he.createElement("div"));Ge.optgroup=Ge.option,Ge.tbody=Ge.tfoot=Ge.colgroup=Ge.caption=Ge.thead,Ge.th=Ge.td,oe.extend({clone:function(e,t,i){var n,o,r,a,s,l=oe.contains(e.ownerDocument,e);if(ie.html5Clone||oe.isXMLDoc(e)||!Re.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(Ke.innerHTML=e.outerHTML,Ke.removeChild(r=Ke.firstChild)),!(ie.noCloneEvent&&ie.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||oe.isXMLDoc(e)))for(n=g(r),s=g(e),a=0;null!=(o=s[a]);++a)n[a]&&_(o,n[a]);if(t)if(i)for(s=s||g(e),n=n||g(r),a=0;null!=(o=s[a]);a++)C(o,n[a]);else C(e,r);return n=g(r,"script"),n.length>0&&x(n,!l&&g(e,"script")),n=s=o=null,r},buildFragment:function(e,t,i,n){for(var o,r,a,s,l,c,d,u=e.length,f=m(t),p=[],h=0;u>h;h++)if(r=e[h],r||0===r)if("object"===oe.type(r))oe.merge(p,r.nodeType?[r]:r);else if(ze.test(r)){for(s=s||f.appendChild(t.createElement("div")),l=(Ue.exec(r)||["",""])[1].toLowerCase(),d=Ge[l]||Ge._default,s.innerHTML=d[1]+r.replace(He,"<$1></$2>")+d[2],o=d[0];o--;)s=s.lastChild;if(!ie.leadingWhitespace&&Qe.test(r)&&p.push(t.createTextNode(Qe.exec(r)[0])),!ie.tbody)for(r="table"!==l||Be.test(r)?"<table>"!==d[1]||Be.test(r)?0:s:s.firstChild,o=r&&r.childNodes.length;o--;)oe.nodeName(c=r.childNodes[o],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(oe.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else p.push(t.createTextNode(r));for(s&&f.removeChild(s),ie.appendChecked||oe.grep(g(p,"input"),v),h=0;r=p[h++];)if((!n||-1===oe.inArray(r,n))&&(a=oe.contains(r.ownerDocument,r),s=g(f.appendChild(r),"script"),a&&x(s),i))for(o=0;r=s[o++];)We.test(r.type||"")&&i.push(r);return s=null,f},cleanData:function(e,t){for(var i,n,o,r,a=0,s=oe.expando,l=oe.cache,c=ie.deleteExpando,d=oe.event.special;null!=(i=e[a]);a++)if((t||oe.acceptData(i))&&(o=i[s],r=o&&l[o])){if(r.events)for(n in r.events)d[n]?oe.event.remove(i,n):oe.removeEvent(i,n,r.handle);l[o]&&(delete l[o],c?delete i[s]:typeof i.removeAttribute!==_e?i.removeAttribute(s):i[s]=null,X.push(o))}}}),oe.fn.extend({text:function(e){return je(this,function(e){return void 0===e?oe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||he).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?oe.filter(e,this):this,o=0;null!=(i=n[o]);o++)t||1!==i.nodeType||oe.cleanData(g(i)),i.parentNode&&(t&&oe.contains(i.ownerDocument,i)&&x(g(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&oe.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&oe.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return oe.clone(this,e,t)})},html:function(e){return je(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Le,""):void 0;if("string"==typeof e&&!qe.test(e)&&(ie.htmlSerialize||!Re.test(e))&&(ie.leadingWhitespace||!Qe.test(e))&&!Ge[(Ue.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(He,"<$1></$2>");try{for(;n>i;i++)t=this[i]||{},1===t.nodeType&&(oe.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,oe.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Z.apply([],e);var i,n,o,r,a,s,l=0,c=this.length,d=this,u=c-1,f=e[0],p=oe.isFunction(f);if(p||c>1&&"string"==typeof f&&!ie.checkClone&&Me.test(f))return this.each(function(i){var n=d.eq(i);p&&(e[0]=f.call(this,i,n.html())),n.domManip(e,t)});if(c&&(s=oe.buildFragment(e,this[0].ownerDocument,!1,this),i=s.firstChild,1===s.childNodes.length&&(s=i),i)){for(r=oe.map(g(s,"script"),b),o=r.length;c>l;l++)n=s,l!==u&&(n=oe.clone(n,!0,!0),o&&oe.merge(r,g(n,"script"))),t.call(this[l],n,l);if(o)for(a=r[r.length-1].ownerDocument,oe.map(r,w),l=0;o>l;l++)n=r[l],We.test(n.type||"")&&!oe._data(n,"globalEval")&&oe.contains(a,n)&&(n.src?oe._evalUrl&&oe._evalUrl(n.src):oe.globalEval((n.text||n.textContent||n.innerHTML||"").replace(Xe,"")));s=i=null}return this}}),oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){oe.fn[e]=function(e){for(var i,n=0,o=[],r=oe(e),a=r.length-1;a>=n;n++)i=n===a?this:this.clone(!0),oe(r[n])[t](i),K.apply(o,i.get());return this.pushStack(o)}});var Ye,Je={};!function(){var e;ie.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,i,n;return i=he.getElementsByTagName("body")[0],i&&i.style?(t=he.createElement("div"),n=he.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),typeof t.style.zoom!==_e&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(he.createElement("div")).style.width="5px",e=3!==t.offsetWidth),i.removeChild(n),e):void 0}}();var et,tt,it=/^margin/,nt=new RegExp("^("+Te+")(?!px)[a-z%]+$","i"),ot=/^(top|right|bottom|left)$/;e.getComputedStyle?(et=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},tt=function(e,t,i){var n,o,r,a,s=e.style;return i=i||et(e),a=i?i.getPropertyValue(t)||i[t]:void 0,i&&(""!==a||oe.contains(e.ownerDocument,e)||(a=oe.style(e,t)),nt.test(a)&&it.test(t)&&(n=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=n,s.minWidth=o,s.maxWidth=r)),void 0===a?a:a+""}):he.documentElement.currentStyle&&(et=function(e){return e.currentStyle},tt=function(e,t,i){var n,o,r,a,s=e.style;return i=i||et(e),a=i?i[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),nt.test(a)&&!ot.test(t)&&(n=s.left,o=e.runtimeStyle,r=o&&o.left,r&&(o.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=n,r&&(o.left=r)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,i,n,o;i=he.getElementsByTagName("body")[0],i&&i.style&&(t=he.createElement("div"),n=he.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r=a=!1,l=!0,e.getComputedStyle&&(r="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,o=t.appendChild(he.createElement("div")),o.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",o.style.marginRight=o.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight),t.removeChild(o)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=t.getElementsByTagName("td"),o[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===o[0].offsetHeight,s&&(o[0].style.display="",o[1].style.display="none",s=0===o[0].offsetHeight),i.removeChild(n))}var i,n,o,r,a,s,l;i=he.createElement("div"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",o=i.getElementsByTagName("a")[0],n=o&&o.style,n&&(n.cssText="float:left;opacity:.5",ie.opacity="0.5"===n.opacity,ie.cssFloat=!!n.cssFloat,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===i.style.backgroundClip,ie.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,oe.extend(ie,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==r&&t(),r},reliableMarginRight:function(){return null==l&&t(),l}}))}(),oe.swap=function(e,t,i,n){var o,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];o=i.apply(e,n||[]);for(r in t)e.style[r]=a[r];return o};var rt=/alpha\([^)]*\)/i,at=/opacity\s*=\s*([^)]*)/,st=/^(none|table(?!-c[ea]).+)/,lt=new RegExp("^("+Te+")(.*)$","i"),ct=new RegExp("^([+-])=("+Te+")","i"),dt={position:"absolute",visibility:"hidden",display:"block"},ut={letterSpacing:"0",fontWeight:"400"},ft=["Webkit","O","Moz","ms"];oe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=tt(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ie.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,a,s=oe.camelCase(t),l=e.style;if(t=oe.cssProps[s]||(oe.cssProps[s]=E(l,s)),a=oe.cssHooks[t]||oe.cssHooks[s],void 0===i)return a&&"get"in a&&void 0!==(o=a.get(e,!1,n))?o:l[t];if(r=typeof i,"string"===r&&(o=ct.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(oe.css(e,t)),r="number"),null!=i&&i===i&&("number"!==r||oe.cssNumber[s]||(i+="px"),ie.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(i=a.set(e,i,n)))))try{l[t]=i}catch(c){}}},css:function(e,t,i,n){var o,r,a,s=oe.camelCase(t);return t=oe.cssProps[s]||(oe.cssProps[s]=E(e.style,s)),a=oe.cssHooks[t]||oe.cssHooks[s],a&&"get"in a&&(r=a.get(e,!0,i)),void 0===r&&(r=tt(e,t,n)),"normal"===r&&t in ut&&(r=ut[t]),""===i||i?(o=parseFloat(r),i===!0||oe.isNumeric(o)?o||0:r):r}}),oe.each(["height","width"],function(e,t){oe.cssHooks[t]={get:function(e,i,n){return i?st.test(oe.css(e,"display"))&&0===e.offsetWidth?oe.swap(e,dt,function(){return N(e,t,n)}):N(e,t,n):void 0},set:function(e,i,n){var o=n&&et(e);return j(e,i,n?A(e,t,n,ie.boxSizing&&"border-box"===oe.css(e,"boxSizing",!1,o),o):0)}}}),ie.opacity||(oe.cssHooks.opacity={get:function(e,t){return at.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,o=oe.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=n&&n.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===oe.trim(r.replace(rt,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=rt.test(r)?r.replace(rt,o):r+" "+o)}}),oe.cssHooks.marginRight=T(ie.reliableMarginRight,function(e,t){return t?oe.swap(e,{display:"inline-block"},tt,[e,"marginRight"]):void 0}),oe.each({margin:"",padding:"",border:"Width"},function(e,t){oe.cssHooks[e+t]={expand:function(i){for(var n=0,o={},r="string"==typeof i?i.split(" "):[i];4>n;n++)o[e+Ee[n]+t]=r[n]||r[n-2]||r[0];return o}},it.test(e)||(oe.cssHooks[e+t].set=j)}),oe.fn.extend({css:function(e,t){return je(this,function(e,t,i){var n,o,r={},a=0;if(oe.isArray(t)){for(n=et(e),o=t.length;o>a;a++)r[t[a]]=oe.css(e,t[a],!1,n);return r}return void 0!==i?oe.style(e,t,i):oe.css(e,t)},e,t,arguments.length>1)},show:function(){return $(this,!0)},hide:function(){return $(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){$e(this)?oe(this).show():oe(this).hide()})}}),oe.Tween=I,I.prototype={constructor:I,init:function(e,t,i,n,o,r){this.elem=e,this.prop=i,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=r||(oe.cssNumber[i]?"":"px")},cur:function(){var e=I.propHooks[this.prop];return e&&e.get?e.get(this):I.propHooks._default.get(this)},run:function(e){var t,i=I.propHooks[this.prop];return this.options.duration?this.pos=t=oe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=oe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){oe.fx.step[e.prop]?oe.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[oe.cssProps[e.prop]]||oe.cssHooks[e.prop])?oe.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},oe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},oe.fx=I.prototype.init,oe.fx.step={};var pt,ht,mt=/^(?:toggle|show|hide)$/,gt=new RegExp("^(?:([+-])=|)("+Te+")([a-z%]*)$","i"),vt=/queueHooks$/,yt=[O],bt={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),o=gt.exec(t),r=o&&o[3]||(oe.cssNumber[e]?"":"px"),a=(oe.cssNumber[e]||"px"!==r&&+n)&&gt.exec(oe.css(i.elem,e)),s=1,l=20;if(a&&a[3]!==r){r=r||a[3],o=o||[],a=+n||1;do s=s||".5",a/=s,oe.style(i.elem,e,a+r);while(s!==(s=i.cur()/n)&&1!==s&&--l)}return o&&(a=i.start=+a||+n||0,i.unit=r,i.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),i}]};oe.Animation=oe.extend(R,{tweener:function(e,t){oe.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,o=e.length;o>n;n++)i=e[n],bt[i]=bt[i]||[],bt[i].unshift(t)},prefilter:function(e,t){t?yt.unshift(e):yt.push(e)}}),oe.speed=function(e,t,i){var n=e&&"object"==typeof e?oe.extend({},e):{complete:i||!i&&t||oe.isFunction(e)&&e,duration:e,easing:i&&t||t&&!oe.isFunction(t)&&t};return n.duration=oe.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in oe.fx.speeds?oe.fx.speeds[n.duration]:oe.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){oe.isFunction(n.old)&&n.old.call(this),n.queue&&oe.dequeue(this,n.queue)},n},oe.fn.extend({fadeTo:function(e,t,i,n){return this.filter($e).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var o=oe.isEmptyObject(e),r=oe.speed(t,i,n),a=function(){var t=R(this,oe.extend({},e),r);(o||oe._data(this,"finish"))&&t.stop(!0)};return a.finish=a,o||r.queue===!1?this.each(a):this.queue(r.queue,a)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",r=oe.timers,a=oe._data(this);if(o)a[o]&&a[o].stop&&n(a[o]);else for(o in a)a[o]&&a[o].stop&&vt.test(o)&&n(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=e&&r[o].queue!==e||(r[o].anim.stop(i),t=!1,r.splice(o,1));(t||!i)&&oe.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=oe._data(this),n=i[e+"queue"],o=i[e+"queueHooks"],r=oe.timers,a=n?n.length:0;for(i.finish=!0,oe.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;a>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),oe.each(["toggle","show","hide"],function(e,t){var i=oe.fn[t];oe.fn[t]=function(e,n,o){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(F(t,!0),e,n,o)}}),oe.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){oe.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),oe.timers=[],oe.fx.tick=function(){var e,t=oe.timers,i=0;for(pt=oe.now();i<t.length;i++)e=t[i],e()||t[i]!==e||t.splice(i--,1);t.length||oe.fx.stop(),pt=void 0},oe.fx.timer=function(e){oe.timers.push(e),e()?oe.fx.start():oe.timers.pop()},oe.fx.interval=13,oe.fx.start=function(){ht||(ht=setInterval(oe.fx.tick,oe.fx.interval))},oe.fx.stop=function(){clearInterval(ht),ht=null},oe.fx.speeds={slow:600,fast:200,_default:400},oe.fn.delay=function(e,t){return e=oe.fx?oe.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},function(){var e,t,i,n,o;t=he.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=t.getElementsByTagName("a")[0],i=he.createElement("select"),o=i.appendChild(he.createElement("option")),e=t.getElementsByTagName("input")[0],n.style.cssText="top:1px",ie.getSetAttribute="t"!==t.className,ie.style=/top/.test(n.getAttribute("style")),ie.hrefNormalized="/a"===n.getAttribute("href"),ie.checkOn=!!e.value,ie.optSelected=o.selected,ie.enctype=!!he.createElement("form").enctype,i.disabled=!0,ie.optDisabled=!o.disabled,e=he.createElement("input"),e.setAttribute("value",""),ie.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ie.radioValue="t"===e.value}();var wt=/\r/g;oe.fn.extend({val:function(e){var t,i,n,o=this[0];{if(arguments.length)return n=oe.isFunction(e),this.each(function(i){var o;1===this.nodeType&&(o=n?e.call(this,i,oe(this).val()):e,null==o?o="":"number"==typeof o?o+="":oe.isArray(o)&&(o=oe.map(o,function(e){return null==e?"":e+""})),t=oe.valHooks[this.type]||oe.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return t=oe.valHooks[o.type]||oe.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(o,"value"))?i:(i=o.value,"string"==typeof i?i.replace(wt,""):null==i?"":i)}}}),oe.extend({valHooks:{option:{get:function(e){var t=oe.find.attr(e,"value");return null!=t?t:oe.trim(oe.text(e))}},select:{get:function(e){for(var t,i,n=e.options,o=e.selectedIndex,r="select-one"===e.type||0>o,a=r?null:[],s=r?o+1:n.length,l=0>o?s:r?o:0;s>l;l++)if(i=n[l],(i.selected||l===o)&&(ie.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!oe.nodeName(i.parentNode,"optgroup"))){if(t=oe(i).val(),r)return t;a.push(t)}return a},set:function(e,t){for(var i,n,o=e.options,r=oe.makeArray(t),a=o.length;a--;)if(n=o[a],oe.inArray(oe.valHooks.option.get(n),r)>=0)try{n.selected=i=!0}catch(s){n.scrollHeight}else n.selected=!1;return i||(e.selectedIndex=-1),o}}}}),oe.each(["radio","checkbox"],function(){oe.valHooks[this]={set:function(e,t){return oe.isArray(t)?e.checked=oe.inArray(oe(e).val(),t)>=0:void 0}},ie.checkOn||(oe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var xt,Ct,_t=oe.expr.attrHandle,kt=/^(?:checked|selected)$/i,St=ie.getSetAttribute,Tt=ie.input;oe.fn.extend({attr:function(e,t){return je(this,oe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){oe.removeAttr(this,e)})}}),oe.extend({attr:function(e,t,i){var n,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute===_e?oe.prop(e,t,i):(1===r&&oe.isXMLDoc(e)||(t=t.toLowerCase(),n=oe.attrHooks[t]||(oe.expr.match.bool.test(t)?Ct:xt)),void 0===i?n&&"get"in n&&null!==(o=n.get(e,t))?o:(o=oe.find.attr(e,t),null==o?void 0:o):null!==i?n&&"set"in n&&void 0!==(o=n.set(e,i,t))?o:(e.setAttribute(t,i+""),i):void oe.removeAttr(e,t))},removeAttr:function(e,t){var i,n,o=0,r=t&&t.match(be);if(r&&1===e.nodeType)for(;i=r[o++];)n=oe.propFix[i]||i,oe.expr.match.bool.test(i)?Tt&&St||!kt.test(i)?e[n]=!1:e[oe.camelCase("default-"+i)]=e[n]=!1:oe.attr(e,i,""),e.removeAttribute(St?i:n)},attrHooks:{type:{set:function(e,t){if(!ie.radioValue&&"radio"===t&&oe.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),Ct={set:function(e,t,i){return t===!1?oe.removeAttr(e,i):Tt&&St||!kt.test(i)?e.setAttribute(!St&&oe.propFix[i]||i,i):e[oe.camelCase("default-"+i)]=e[i]=!0,i}},oe.each(oe.expr.match.bool.source.match(/\w+/g),function(e,t){var i=_t[t]||oe.find.attr;_t[t]=Tt&&St||!kt.test(t)?function(e,t,n){var o,r;return n||(r=_t[t],_t[t]=o,o=null!=i(e,t,n)?t.toLowerCase():null,_t[t]=r),o}:function(e,t,i){return i?void 0:e[oe.camelCase("default-"+t)]?t.toLowerCase():null}}),Tt&&St||(oe.attrHooks.value={set:function(e,t,i){return oe.nodeName(e,"input")?void(e.defaultValue=t):xt&&xt.set(e,t,i)}}),St||(xt={set:function(e,t,i){var n=e.getAttributeNode(i);return n||e.setAttributeNode(n=e.ownerDocument.createAttribute(i)),n.value=t+="","value"===i||t===e.getAttribute(i)?t:void 0}},_t.id=_t.name=_t.coords=function(e,t,i){var n;return i?void 0:(n=e.getAttributeNode(t))&&""!==n.value?n.value:null},oe.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);return i&&i.specified?i.value:void 0},set:xt.set},oe.attrHooks.contenteditable={set:function(e,t,i){xt.set(e,""===t?!1:t,i)}},oe.each(["width","height"],function(e,t){oe.attrHooks[t]={set:function(e,i){return""===i?(e.setAttribute(t,"auto"),i):void 0}}})),ie.style||(oe.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Et=/^(?:input|select|textarea|button|object)$/i,$t=/^(?:a|area)$/i;oe.fn.extend({prop:function(e,t){return je(this,oe.prop,e,t,arguments.length>1)},removeProp:function(e){return e=oe.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),oe.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,i){var n,o,r,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return r=1!==a||!oe.isXMLDoc(e),r&&(t=oe.propFix[t]||t,o=oe.propHooks[t]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:e[t]=i:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=oe.find.attr(e,"tabindex");return t?parseInt(t,10):Et.test(e.nodeName)||$t.test(e.nodeName)&&e.href?0:-1}}}}),ie.hrefNormalized||oe.each(["href","src"],function(e,t){oe.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ie.optSelected||(oe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oe.propFix[this.toLowerCase()]=this}),ie.enctype||(oe.propFix.enctype="encoding");var jt=/[\t\r\n\f]/g;oe.fn.extend({addClass:function(e){var t,i,n,o,r,a,s=0,l=this.length,c="string"==typeof e&&e;if(oe.isFunction(e))return this.each(function(t){oe(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(be)||[];l>s;s++)if(i=this[s],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(jt," "):" ")){for(r=0;o=t[r++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");a=oe.trim(n),i.className!==a&&(i.className=a)}return this},removeClass:function(e){var t,i,n,o,r,a,s=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(oe.isFunction(e))return this.each(function(t){oe(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(be)||[];l>s;s++)if(i=this[s],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(jt," "):"")){
for(r=0;o=t[r++];)for(;n.indexOf(" "+o+" ")>=0;)n=n.replace(" "+o+" "," ");a=e?oe.trim(n):"",i.className!==a&&(i.className=a)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):oe.isFunction(e)?this.each(function(i){oe(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var t,n=0,o=oe(this),r=e.match(be)||[];t=r[n++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(i===_e||"boolean"===i)&&(this.className&&oe._data(this,"__className__",this.className),this.className=this.className||e===!1?"":oe._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(jt," ").indexOf(t)>=0)return!0;return!1}}),oe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){oe.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),oe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var At=oe.now(),Nt=/\?/,It=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;oe.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var i,n=null,o=oe.trim(t+"");return o&&!oe.trim(o.replace(It,function(e,t,o,r){return i&&t&&(n=0),0===n?e:(i=o||t,n+=!r-!o,"")}))?Function("return "+o)():oe.error("Invalid JSON: "+t)},oe.parseXML=function(t){var i,n;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(n=new DOMParser,i=n.parseFromString(t,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(t))}catch(o){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||oe.error("Invalid XML: "+t),i};var Dt,Ft,Pt=/#.*$/,Ot=/([?&])_=[^&]*/,Lt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Rt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Qt=/^(?:GET|HEAD)$/,Ht=/^\/\//,Ut=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Bt={},zt={},qt="*/".concat("*");try{Ft=location.href}catch(Mt){Ft=he.createElement("a"),Ft.href="",Ft=Ft.href}Dt=Ut.exec(Ft.toLowerCase())||[],oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ft,type:"GET",isLocal:Rt.test(Dt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oe.parseJSON,"text xml":oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?U(U(e,oe.ajaxSettings),t):U(oe.ajaxSettings,e)},ajaxPrefilter:Q(Bt),ajaxTransport:Q(zt),ajax:function(e,t){function i(e,t,i,n){var o,d,v,y,w,C=t;2!==b&&(b=2,s&&clearTimeout(s),c=void 0,a=n||"",x.readyState=e>0?4:0,o=e>=200&&300>e||304===e,i&&(y=B(u,x,i)),y=z(u,y,x,o),o?(u.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(oe.lastModified[r]=w),w=x.getResponseHeader("etag"),w&&(oe.etag[r]=w)),204===e||"HEAD"===u.type?C="nocontent":304===e?C="notmodified":(C=y.state,d=y.data,v=y.error,o=!v)):(v=C,(e||!C)&&(C="error",0>e&&(e=0))),x.status=e,x.statusText=(t||C)+"",o?h.resolveWith(f,[d,C,x]):h.rejectWith(f,[x,C,v]),x.statusCode(g),g=void 0,l&&p.trigger(o?"ajaxSuccess":"ajaxError",[x,u,o?d:v]),m.fireWith(f,[x,C]),l&&(p.trigger("ajaxComplete",[x,u]),--oe.active||oe.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,o,r,a,s,l,c,d,u=oe.ajaxSetup({},t),f=u.context||u,p=u.context&&(f.nodeType||f.jquery)?oe(f):oe.event,h=oe.Deferred(),m=oe.Callbacks("once memory"),g=u.statusCode||{},v={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!d)for(d={};t=Lt.exec(a);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return b||(e=y[i]=y[i]||e,v[e]=t),this},overrideMimeType:function(e){return b||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return c&&c.abort(t),i(0,t),this}};if(h.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,u.url=((e||u.url||Ft)+"").replace(Pt,"").replace(Ht,Dt[1]+"//"),u.type=t.method||t.type||u.method||u.type,u.dataTypes=oe.trim(u.dataType||"*").toLowerCase().match(be)||[""],null==u.crossDomain&&(n=Ut.exec(u.url.toLowerCase()),u.crossDomain=!(!n||n[1]===Dt[1]&&n[2]===Dt[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Dt[3]||("http:"===Dt[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=oe.param(u.data,u.traditional)),H(Bt,u,t,x),2===b)return x;l=oe.event&&u.global,l&&0===oe.active++&&oe.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!Qt.test(u.type),r=u.url,u.hasContent||(u.data&&(r=u.url+=(Nt.test(r)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=Ot.test(r)?r.replace(Ot,"$1_="+At++):r+(Nt.test(r)?"&":"?")+"_="+At++)),u.ifModified&&(oe.lastModified[r]&&x.setRequestHeader("If-Modified-Since",oe.lastModified[r]),oe.etag[r]&&x.setRequestHeader("If-None-Match",oe.etag[r])),(u.data&&u.hasContent&&u.contentType!==!1||t.contentType)&&x.setRequestHeader("Content-Type",u.contentType),x.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+qt+"; q=0.01":""):u.accepts["*"]);for(o in u.headers)x.setRequestHeader(o,u.headers[o]);if(u.beforeSend&&(u.beforeSend.call(f,x,u)===!1||2===b))return x.abort();w="abort";for(o in{success:1,error:1,complete:1})x[o](u[o]);if(c=H(zt,u,t,x)){x.readyState=1,l&&p.trigger("ajaxSend",[x,u]),u.async&&u.timeout>0&&(s=setTimeout(function(){x.abort("timeout")},u.timeout));try{b=1,c.send(v,i)}catch(C){if(!(2>b))throw C;i(-1,C)}}else i(-1,"No Transport");return x},getJSON:function(e,t,i){return oe.get(e,t,i,"json")},getScript:function(e,t){return oe.get(e,void 0,t,"script")}}),oe.each(["get","post"],function(e,t){oe[t]=function(e,i,n,o){return oe.isFunction(i)&&(o=o||n,n=i,i=void 0),oe.ajax({url:e,type:t,dataType:o,data:i,success:n})}}),oe._evalUrl=function(e){return oe.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},oe.fn.extend({wrapAll:function(e){if(oe.isFunction(e))return this.each(function(t){oe(this).wrapAll(e.call(this,t))});if(this[0]){var t=oe(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return oe.isFunction(e)?this.each(function(t){oe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=oe(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=oe.isFunction(e);return this.each(function(i){oe(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){oe.nodeName(this,"body")||oe(this).replaceWith(this.childNodes)}).end()}}),oe.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ie.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||oe.css(e,"display"))},oe.expr.filters.visible=function(e){return!oe.expr.filters.hidden(e)};var Wt=/%20/g,Vt=/\[\]$/,Xt=/\r?\n/g,Gt=/^(?:submit|button|image|reset|file)$/i,Zt=/^(?:input|select|textarea|keygen)/i;oe.param=function(e,t){var i,n=[],o=function(e,t){t=oe.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=oe.ajaxSettings&&oe.ajaxSettings.traditional),oe.isArray(e)||e.jquery&&!oe.isPlainObject(e))oe.each(e,function(){o(this.name,this.value)});else for(i in e)q(i,e[i],t,o);return n.join("&").replace(Wt,"+")},oe.fn.extend({serialize:function(){return oe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=oe.prop(this,"elements");return e?oe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!oe(this).is(":disabled")&&Zt.test(this.nodeName)&&!Gt.test(e)&&(this.checked||!Ae.test(e))}).map(function(e,t){var i=oe(this).val();return null==i?null:oe.isArray(i)?oe.map(i,function(e){return{name:t.name,value:e.replace(Xt,"\r\n")}}):{name:t.name,value:i.replace(Xt,"\r\n")}}).get()}}),oe.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&M()||W()}:M;var Kt=0,Yt={},Jt=oe.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Yt)Yt[e](void 0,!0)}),ie.cors=!!Jt&&"withCredentials"in Jt,Jt=ie.ajax=!!Jt,Jt&&oe.ajaxTransport(function(e){if(!e.crossDomain||ie.cors){var t;return{send:function(i,n){var o,r=e.xhr(),a=++Kt;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)r[o]=e.xhrFields[o];e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)void 0!==i[o]&&r.setRequestHeader(o,i[o]+"");r.send(e.hasContent&&e.data||null),t=function(i,o){var s,l,c;if(t&&(o||4===r.readyState))if(delete Yt[a],t=void 0,r.onreadystatechange=oe.noop,o)4!==r.readyState&&r.abort();else{c={},s=r.status,"string"==typeof r.responseText&&(c.text=r.responseText);try{l=r.statusText}catch(d){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=c.text?200:404}c&&n(s,l,c,r.getAllResponseHeaders())},e.async?4===r.readyState?setTimeout(t):r.onreadystatechange=Yt[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return oe.globalEval(e),e}}}),oe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),oe.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=he.head||oe("head")[0]||he.documentElement;return{send:function(n,o){t=he.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,i||o(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var ei=[],ti=/(=)\?(?=&|$)|\?\?/;oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ei.pop()||oe.expando+"_"+At++;return this[e]=!0,e}}),oe.ajaxPrefilter("json jsonp",function(t,i,n){var o,r,a,s=t.jsonp!==!1&&(ti.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ti.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(o=t.jsonpCallback=oe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ti,"$1"+o):t.jsonp!==!1&&(t.url+=(Nt.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||oe.error(o+" was not called"),a[0]},t.dataTypes[0]="json",r=e[o],e[o]=function(){a=arguments},n.always(function(){e[o]=r,t[o]&&(t.jsonpCallback=i.jsonpCallback,ei.push(o)),a&&oe.isFunction(r)&&r(a[0]),a=r=void 0}),"script"):void 0}),oe.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||he;var n=ue.exec(e),o=!i&&[];return n?[t.createElement(n[1])]:(n=oe.buildFragment([e],t,o),o&&o.length&&oe(o).remove(),oe.merge([],n.childNodes))};var ii=oe.fn.load;oe.fn.load=function(e,t,i){if("string"!=typeof e&&ii)return ii.apply(this,arguments);var n,o,r,a=this,s=e.indexOf(" ");return s>=0&&(n=oe.trim(e.slice(s,e.length)),e=e.slice(0,s)),oe.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&oe.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){o=arguments,a.html(n?oe("<div>").append(oe.parseHTML(e)).find(n):e)}).complete(i&&function(e,t){a.each(i,o||[e.responseText,t,e])}),this},oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){oe.fn[t]=function(e){return this.on(t,e)}}),oe.expr.filters.animated=function(e){return oe.grep(oe.timers,function(t){return e===t.elem}).length};var ni=e.document.documentElement;oe.offset={setOffset:function(e,t,i){var n,o,r,a,s,l,c,d=oe.css(e,"position"),u=oe(e),f={};"static"===d&&(e.style.position="relative"),s=u.offset(),r=oe.css(e,"top"),l=oe.css(e,"left"),c=("absolute"===d||"fixed"===d)&&oe.inArray("auto",[r,l])>-1,c?(n=u.position(),a=n.top,o=n.left):(a=parseFloat(r)||0,o=parseFloat(l)||0),oe.isFunction(t)&&(t=t.call(e,i,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+o),"using"in t?t.using.call(e,f):u.css(f)}},oe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){oe.offset.setOffset(this,e,t)});var t,i,n={top:0,left:0},o=this[0],r=o&&o.ownerDocument;if(r)return t=r.documentElement,oe.contains(t,o)?(typeof o.getBoundingClientRect!==_e&&(n=o.getBoundingClientRect()),i=V(r),{top:n.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),left:n.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):n},position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===oe.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),oe.nodeName(e[0],"html")||(i=e.offset()),i.top+=oe.css(e[0],"borderTopWidth",!0),i.left+=oe.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-oe.css(n,"marginTop",!0),left:t.left-i.left-oe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ni;e&&!oe.nodeName(e,"html")&&"static"===oe.css(e,"position");)e=e.offsetParent;return e||ni})}}),oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i=/Y/.test(t);oe.fn[e]=function(n){return je(this,function(e,n,o){var r=V(e);return void 0===o?r?t in r?r[t]:r.document.documentElement[n]:e[n]:void(r?r.scrollTo(i?oe(r).scrollLeft():o,i?o:oe(r).scrollTop()):e[n]=o)},e,n,arguments.length,null)}}),oe.each(["top","left"],function(e,t){oe.cssHooks[t]=T(ie.pixelPosition,function(e,i){return i?(i=tt(e,t),nt.test(i)?oe(e).position()[t]+"px":i):void 0})}),oe.each({Height:"height",Width:"width"},function(e,t){oe.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){oe.fn[n]=function(n,o){var r=arguments.length&&(i||"boolean"!=typeof n),a=i||(n===!0||o===!0?"margin":"border");return je(this,function(t,i,n){var o;return oe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===n?oe.css(t,i,a):oe.style(t,i,n,a)},t,r?n:void 0,r,null)}})}),oe.fn.size=function(){return this.length},oe.fn.andSelf=oe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return oe});var oi=e.jQuery,ri=e.$;return oe.noConflict=function(t){return e.$===oe&&(e.$=ri),t&&e.jQuery===oe&&(e.jQuery=oi),oe},typeof t===_e&&(e.jQuery=e.$=oe),oe}),function(e,t){"use strict";e.rails!==t&&e.error("jquery-ujs has already been loaded!");var i,n=e(document);e.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return e("meta[name=csrf-token]").attr("content")},csrfParam:function(){return e("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=i.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){e('form input[name="'+i.csrfParam()+'"]').val(i.csrfToken())},fire:function(t,i,n){var o=e.Event(i);return t.trigger(o,n),o.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==t&&e.data("remote")!==!1},handleRemote:function(n){var o,r,a,s,l,c;if(i.fire(n,"ajax:before")){if(s=n.data("with-credentials")||null,l=n.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,n.is("form")){o=n.attr("method"),r=n.attr("action"),a=n.serializeArray();var d=n.data("ujs:submit-button");d&&(a.push(d),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(o=n.data("method"),r=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(o=n.data("method")||"get",r=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):(o=n.data("method"),r=i.href(n),a=n.data("params")||null);return c={type:o||"GET",data:a,dataType:l,beforeSend:function(e,o){return o.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),i.fire(n,"ajax:beforeSend",[e,o])?void n.trigger("ajax:send",e):!1},success:function(e,t,i){n.trigger("ajax:success",[e,t,i])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,i){n.trigger("ajax:error",[e,t,i])},crossDomain:i.isCrossDomain(r)},s&&(c.xhrFields={withCredentials:s}),r&&(c.url=r),i.ajax(c)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var i=document.createElement("a");try{return i.href=e,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||t.protocol+"//"+t.host==i.protocol+"//"+i.host)}catch(n){return!0}},handleMethod:function(n){var o=i.href(n),r=n.data("method"),a=n.attr("target"),s=i.csrfToken(),l=i.csrfParam(),c=e('<form method="post" action="'+o+'"></form>'),d='<input name="_method" value="'+r+'" type="hidden" />';l===t||s===t||i.isCrossDomain(o)||(d+='<input name="'+l+'" value="'+s+'" type="hidden" />'),a&&c.attr("target",a),c.hide().append(d).appendTo("body"),c.submit()},formElements:function(t,i){return t.is("form")?e(t[0].elements).filter(i):t.find(i)},disableFormElements:function(t){i.formElements(t,i.disableSelector).each(function(){i.disableFormElement(e(this))})},disableFormElement:function(e){var i,n;i=e.is("button")?"html":"val",n=e.data("disable-with"),e.data("ujs:enable-with",e[i]()),n!==t&&e[i](n),e.prop("disabled",!0)},enableFormElements:function(t){i.formElements(t,i.enableSelector).each(function(){i.enableFormElement(e(this))})},enableFormElement:function(e){var t=e.is("button")?"html":"val";"undefined"!=typeof e.data("ujs:enable-with")&&e[t](e.data("ujs:enable-with")),e.prop("disabled",!1)},allowAction:function(e){var t,n=e.data("confirm"),o=!1;if(!n)return!0;if(i.fire(e,"confirm")){try{o=i.confirm(n)}catch(r){(console.error||console.log).call(console,r.stack||r)}t=i.fire(e,"confirm:complete",[o])}return o&&t},blankInputs:function(t,i,n){var o,r,a=e(),s=i||"input,textarea",l=t.find(s);return l.each(function(){if(o=e(this),r=o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):!!o.val(),r===n){if(o.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+o.attr("name")+'"]').length)return!0;a=a.add(o)}}),a.length?a:!1},nonBlankInputs:function(e,t){return i.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var n=e.data("disable-with");e.data("ujs:enable-with",e.html()),n!==t&&e.html(n),e.bind("click.railsDisable",function(e){return i.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},i.fire(n,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,n){e.crossDomain||i.CSRFProtection(n)}),e(window).on("pageshow.rails",function(){e(e.rails.enableSelector).each(function(){var t=e(this);t.data("ujs:enable-with")&&e.rails.enableFormElement(t)}),e(e.rails.linkDisableSelector).each(function(){var t=e(this);t.data("ujs:enable-with")&&e.rails.enableElement(t)})}),n.delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(e(this))}),n.delegate(i.buttonDisableSelector,"ajax:complete",function(){i.enableFormElement(e(this))}),n.delegate(i.linkClickSelector,"click.rails",function(t){var n=e(this),o=n.data("method"),r=n.data("params"),a=t.metaKey||t.ctrlKey;if(!i.allowAction(n))return i.stopEverything(t);if(!a&&n.is(i.linkDisableSelector)&&i.disableElement(n),i.isRemote(n)){if(a&&(!o||"GET"===o)&&!r)return!0;var s=i.handleRemote(n);return s===!1?i.enableElement(n):s.fail(function(){i.enableElement(n)}),!1}return o?(i.handleMethod(n),!1):void 0}),n.delegate(i.buttonClickSelector,"click.rails",function(t){var n=e(this);if(!i.allowAction(n)||!i.isRemote(n))return i.stopEverything(t);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var o=i.handleRemote(n);return o===!1?i.enableFormElement(n):o.fail(function(){i.enableFormElement(n)}),!1}),n.delegate(i.inputChangeSelector,"change.rails",function(t){var n=e(this);return i.allowAction(n)&&i.isRemote(n)?(i.handleRemote(n),!1):i.stopEverything(t)}),n.delegate(i.formSubmitSelector,"submit.rails",function(n){var o,r,a=e(this),s=i.isRemote(a);if(!i.allowAction(a))return i.stopEverything(n);if(a.attr("novalidate")===t&&(o=i.blankInputs(a,i.requiredInputSelector,!1),o&&i.fire(a,"ajax:aborted:required",[o])))return i.stopEverything(n);if(s){if(r=i.nonBlankInputs(a,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(a)},13);var l=i.fire(a,"ajax:aborted:file",[r]);return l||setTimeout(function(){i.enableFormElements(a)},13),l}return i.handleRemote(a),!1}setTimeout(function(){i.disableFormElements(a)},13)}),n.delegate(i.formInputClickSelector,"click.rails",function(t){var n=e(this);if(!i.allowAction(n))return i.stopEverything(t);var o=n.attr("name"),r=o?{name:o,value:n.val()}:null;n.closest("form").data("ujs:submit-button",r)}),n.delegate(i.formSubmitSelector,"ajax:send.rails",function(t){this===t.target&&i.disableFormElements(e(this))}),n.delegate(i.formSubmitSelector,"ajax:complete.rails",function(t){this===t.target&&i.enableFormElements(e(this))}),e(function(){i.refreshCSRFTokens()}))}(jQuery),function(){var e,t,i,n,o,r,a,s,l,c,d,u,f,p,h,m,g,v,y,b,w,x,C,_,k,S,T,E,$,j,A,N,I,D,F,P,O,L,R,Q,H,U,B,z,q,M,W,V,X,G,Z,K,Y,J,ee,te,ie=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1},ne=function(e,t){function i(){this.constructor=e}for(var n in t)oe.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},oe={}.hasOwnProperty,re=[].slice,ae=function(e,t){return function(){return e.apply(t,arguments)}};D={},f=10,K=!1,R=null,y=null,N=null,U=null,te=null,n={BEFORE_CHANGE:"page:before-change",FETCH:"page:fetch",RECEIVE:"page:receive",CHANGE:"page:change",UPDATE:"page:update",LOAD:"page:load",RESTORE:"page:restore",BEFORE_UNLOAD:"page:before-unload",EXPIRE:"page:expire"},_=function(e){var t;return e=new i(e),W(),u(),null!=R&&R.start(),K&&(t=Y(e.absolute))?(k(t),S(e,null,!1)):S(e,G)},Y=function(e){var t;return t=D[e],t&&!t.transitionCacheDisabled?t:void 0},w=function(e){return null==e&&(e=!0),K=e},b=function(e){return null==e&&(e=!0),c?e?null!=R?R:R=new r("html"):(null!=R&&R.uninstall(),R=null):void 0},S=function(e,t,i){return null==i&&(i=!0),J(n.FETCH,{url:e.absolute}),null!=te&&te.abort(),te=new XMLHttpRequest,te.open("GET",e.withoutHashForIE10compatibility(),!0),te.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),te.setRequestHeader("X-XHR-Referer",U),te.onload=function(){var i;return J(n.RECEIVE,{url:e.absolute}),(i=L())?(B(e),z(),p.apply(null,C(i)),I(),"function"==typeof t&&t(),J(n.LOAD)):document.location.href=v()||e.absolute},R&&i&&(te.onprogress=function(e){return function(e){var t;return t=e.lengthComputable?e.loaded/e.total*100:R.value+(100-R.value)/10,R.advanceTo(t)}}(this)),te.onloadend=function(){return te=null},te.onerror=function(){return document.location.href=e.absolute},te.send()},k=function(e){return null!=te&&te.abort(),p(e.title,e.body),Q(e),J(n.RESTORE)},u=function(){var e;return e=new i(y.url),D[e.absolute]={url:e.relative,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")},m(f)},P=function(e){return null==e&&(e=f),/^[\d]+$/.test(e)?f=parseInt(e):void 0},m=function(e){var t,i,o,r,a,s;for(a=Object.keys(D),t=a.map(function(e){return D[e].cachedAt}).sort(function(e,t){return t-e}),s=[],i=0,r=a.length;r>i;i++)o=a[i],D[o].cachedAt<=t[e]&&(J(n.EXPIRE,D[o]),s.push(delete D[o]));return s},p=function(t,i,o,r){return J(n.BEFORE_UNLOAD),document.title=t,document.documentElement.replaceChild(i,document.body),null!=o&&e.update(o),Z(),r&&x(),y=window.history.state,null!=R&&R.done(),J(n.CHANGE),J(n.UPDATE)},x=function(){var e,t,i,n,o,r,a,s,l,c,d,u;for(u=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),i=0,o=u.length;o>i;i++)if(d=u[i],""===(l=d.type)||"text/javascript"===l){for(t=document.createElement("script"),c=d.attributes,n=0,r=c.length;r>n;n++)e=c[n],t.setAttribute(e.name,e.value);d.hasAttribute("async")||(t.async=!1),t.appendChild(document.createTextNode(d.innerHTML)),s=d.parentNode,a=d.nextSibling,s.removeChild(d),s.insertBefore(t,a)}},V=function(e){return e.innerHTML=e.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),e},Z=function(){var e,t;return e=(t=document.querySelectorAll("input[autofocus], textarea[autofocus]"))[t.length-1],e&&document.activeElement!==e?e.focus():void 0},B=function(e){return(e=new i(e)).absolute!==U?window.history.pushState({turbolinks:!0,url:e.absolute},"",e.absolute):void 0},z=function(){var e,t;return(e=te.getResponseHeader("X-XHR-Redirected-To"))?(e=new i(e),t=e.hasNoHash()?document.location.hash:"",window.history.replaceState(window.history.state,"",e.href+t)):void 0},v=function(){var e;return null!=(e=te.getResponseHeader("Location"))&&new i(e).crossOrigin()?e:void 0},W=function(){return U=document.location.href},M=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},q=function(){return y=window.history.state},I=function(){var e;return navigator.userAgent.match(/Firefox/)&&!(e=new i).hasNoHash()?(window.history.replaceState(y,"",e.withoutHash()),document.location.hash=e.hash):void 0},Q=function(e){return window.scrollTo(e.positionX,e.positionY)},G=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},h=function(e){var t,i,n;if(null==e||"object"!=typeof e)return e;t=new e.constructor;for(i in e)n=e[i],t[i]=h(n);return t},O=function(e){var t,i;return i=(null!=(t=document.cookie.match(new RegExp(e+"=(\\w+)")))?t[1].toUpperCase():void 0)||"",document.cookie=e+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",i},J=function(e,t){var i;return"undefined"!=typeof Prototype&&Event.fire(document,e,t,!0),i=document.createEvent("Events"),t&&(i.data=t),i.initEvent(e,!0,!0),document.dispatchEvent(i)},F=function(e){return!J(n.BEFORE_CHANGE,{url:e})},L=function(){var e,t,i,n,o,r;return t=function(){var e;return 400<=(e=te.status)&&600>e},r=function(){var e;return null!=(e=te.getResponseHeader("Content-Type"))&&e.match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},n=function(e){var t,i,n,o,r;for(o=e.querySelector("head").childNodes,r=[],t=0,i=o.length;i>t;t++)n=o[t],null!=("function"==typeof n.getAttribute?n.getAttribute("data-turbolinks-track"):void 0)&&r.push(n.getAttribute("src")||n.getAttribute("href"));return r},e=function(e){var t;return N||(N=n(document)),t=n(e),t.length!==N.length||o(t,N).length!==N.length},o=function(e,t){var i,n,o,r,a;for(e.length>t.length&&(o=[t,e],e=o[0],t=o[1]),r=[],i=0,n=e.length;n>i;i++)a=e[i],ie.call(t,a)>=0&&r.push(a);return r},!t()&&r()&&(i=g(te.responseText),i&&!e(i))?i:void 0},C=function(t){var i;return i=t.querySelector("title"),[null!=i?i.textContent:void 0,V(t.querySelector("body")),e.get(t).token,"runScripts"]},e={get:function(e){var t;return null==e&&(e=document),{node:t=e.querySelector('meta[name="csrf-token"]'),token:null!=t&&"function"==typeof t.getAttribute?t.getAttribute("content"):void 0}},update:function(e){var t;return t=this.get(),null!=t.token&&null!=e&&t.token!==e?t.node.setAttribute("content",e):void 0}},g=function(e){var t;return t=document.documentElement.cloneNode(),t.innerHTML=e,t.head=t.querySelector("head"),t.body=t.querySelector("body"),t},i=function(){function e(t){return this.original=null!=t?t:document.location.href,this.original.constructor===e?this.original:void this._parse()}return e.prototype.withoutHash=function(){return this.href.replace(this.hash,"").replace("#","")},e.prototype.withoutHashForIE10compatibility=function(){return this.withoutHash()},e.prototype.hasNoHash=function(){return 0===this.hash.length},e.prototype.crossOrigin=function(){return this.origin!==(new e).origin},e.prototype._parse=function(){var e;return(null!=this.link?this.link:this.link=document.createElement("a")).href=this.original,e=this.link,this.href=e.href,this.protocol=e.protocol,this.host=e.host,this.hostname=e.hostname,this.port=e.port,this.pathname=e.pathname,this.search=e.search,this.hash=e.hash,this.origin=[this.protocol,"//",this.hostname].join(""),0!==this.port.length&&(this.origin+=":"+this.port),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href},e}(),o=function(e){function t(e){return this.link=e,this.link.constructor===t?this.link:(this.original=this.link.href,this.originalElement=this.link,this.link=this.link.cloneNode(!1),void t.__super__.constructor.apply(this,arguments))}return ne(t,e),t.HTML_EXTENSIONS=["html"],t.allowExtensions=function(){var e,i,n,o;for(i=1<=arguments.length?re.call(arguments,0):[],n=0,o=i.length;o>n;n++)e=i[n],t.HTML_EXTENSIONS.push(e);return t.HTML_EXTENSIONS},t.prototype.shouldIgnore=function(){return this.crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()},t.prototype._anchored=function(){return(this.hash.length>0||"#"===this.href.charAt(this.href.length-1))&&this.withoutHash()===(new i).withoutHash()},t.prototype._nonHtml=function(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp("\\.(?:"+t.HTML_EXTENSIONS.join("|")+")?$","g"))},t.prototype._optOut=function(){var e,t;for(t=this.originalElement;!e&&t!==document;)e=null!=t.getAttribute("data-no-turbolink"),t=t.parentNode;return e},t.prototype._target=function(){return 0!==this.link.target.length},t}(i),t=function(){function e(e){this.event=e,this.event.defaultPrevented||(this._extractLink(),this._validForTurbolinks()&&(F(this.link.absolute)||ee(this.link.href),this.event.preventDefault()))}return e.installHandlerLast=function(t){return t.defaultPrevented?void 0:(document.removeEventListener("click",e.handle,!1),document.addEventListener("click",e.handle,!1))},e.handle=function(t){return new e(t)},e.prototype._extractLink=function(){var e;for(e=this.event.target;e.parentNode&&"A"!==e.nodeName;)e=e.parentNode;return"A"===e.nodeName&&0!==e.href.length?this.link=new o(e):void 0},e.prototype._validForTurbolinks=function(){return null!=this.link&&!(this.link.shouldIgnore()||this._nonStandardClick());
},e.prototype._nonStandardClick=function(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey},e}(),r=function(){function e(e){this.elementSelector=e,this._trickle=ae(this._trickle,this),this.value=0,this.content="",this.speed=300,this.opacity=.99,this.install()}var t;return t="turbolinks-progress-bar",e.prototype.install=function(){return this.element=document.querySelector(this.elementSelector),this.element.classList.add(t),this.styleElement=document.createElement("style"),document.head.appendChild(this.styleElement),this._updateStyle()},e.prototype.uninstall=function(){return this.element.classList.remove(t),document.head.removeChild(this.styleElement)},e.prototype.start=function(){return this.advanceTo(5)},e.prototype.advanceTo=function(e){var t;if(e>(t=this.value)&&100>=t){if(this.value=e,this._updateStyle(),100===this.value)return this._stopTrickle();if(this.value>0)return this._startTrickle()}},e.prototype.done=function(){return this.value>0?(this.advanceTo(100),this._reset()):void 0},e.prototype._reset=function(){var e;return e=this.opacity,setTimeout(function(e){return function(){return e.opacity=0,e._updateStyle()}}(this),this.speed/2),setTimeout(function(t){return function(){return t.value=0,t.opacity=e,t._withSpeed(0,function(){return t._updateStyle(!0)})}}(this),this.speed)},e.prototype._startTrickle=function(){return this.trickling?void 0:(this.trickling=!0,setTimeout(this._trickle,this.speed))},e.prototype._stopTrickle=function(){return delete this.trickling},e.prototype._trickle=function(){return this.trickling?(this.advanceTo(this.value+Math.random()/2),setTimeout(this._trickle,this.speed)):void 0},e.prototype._withSpeed=function(e,t){var i,n;return i=this.speed,this.speed=e,n=t(),this.speed=i,n},e.prototype._updateStyle=function(e){return null==e&&(e=!1),e&&this._changeContentToForceRepaint(),this.styleElement.textContent=this._createCSSRule()},e.prototype._changeContentToForceRepaint=function(){return this.content=""===this.content?" ":""},e.prototype._createCSSRule=function(){return this.elementSelector+"."+t+"::before {\n  content: '"+this.content+"';\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 2000;\n  background-color: #0076ff;\n  height: 3px;\n  opacity: "+this.opacity+";\n  width: "+this.value+"%;\n  transition: width "+this.speed+"ms ease-out, opacity "+this.speed/2+"ms ease-in;\n  transform: translate3d(0,0,0);\n}"},e}(),d=function(e){return setTimeout(e,500)},$=function(){return document.addEventListener("DOMContentLoaded",function(){return J(n.CHANGE),J(n.UPDATE)},!0)},A=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(e,t,i){return jQuery.trim(t.responseText)?J(n.UPDATE):void 0}):void 0},j=function(e){var t,n;return(null!=(n=e.state)?n.turbolinks:void 0)?(t=D[new i(e.state.url).absolute])?(u(),k(t)):ee(e.target.location.href):void 0},E=function(){return M(),q(),document.addEventListener("click",t.installHandlerLast,!0),window.addEventListener("hashchange",function(e){return M(),q()},!1),d(function(){return window.addEventListener("popstate",j,!1)})},T=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),l=window.history&&window.history.pushState&&window.history.replaceState&&T,a=!navigator.userAgent.match(/CriOS\//),X="GET"===(H=O("request_method"))||""===H,c=l&&a&&X,s=document.addEventListener&&document.createEvent,s&&($(),A()),c?(ee=_,E()):ee=function(e){return document.location.href=e},this.Turbolinks={visit:ee,pagesCached:P,enableTransitionCache:w,enableProgressBar:b,allowLinkExtensions:o.allowExtensions,supported:c,EVENTS:h(n)}}.call(this),/*
 * bootstrap-filestyle
 * doc: http://markusslima.github.io/bootstrap-filestyle/
 * github: https://github.com/markusslima/bootstrap-filestyle
 *
 * Copyright (c) 2014 Markus Vinicius da Silva Lima
 * Version 1.2.1
 * Licensed under the MIT license.
 */
function(e){"use strict";var t=0,i=function(t,i){this.options=i,this.$elementFilestyle=[],this.$element=e(t)};i.prototype={clear:function(){this.$element.val(""),this.$elementFilestyle.find(":text").val(""),this.$elementFilestyle.find(".badge").remove()},destroy:function(){this.$element.removeAttr("style").removeData("filestyle"),this.$elementFilestyle.remove()},disabled:function(e){if(e===!0)this.options.disabled||(this.$element.attr("disabled","true"),this.$elementFilestyle.find("label").attr("disabled","true"),this.options.disabled=!0);else{if(e!==!1)return this.options.disabled;this.options.disabled&&(this.$element.removeAttr("disabled"),this.$elementFilestyle.find("label").removeAttr("disabled"),this.options.disabled=!1)}},buttonBefore:function(e){if(e===!0)this.options.buttonBefore||(this.options.buttonBefore=!0,this.options.input&&(this.$elementFilestyle.remove(),this.constructor(),this.pushNameFiles()));else{if(e!==!1)return this.options.buttonBefore;this.options.buttonBefore&&(this.options.buttonBefore=!1,this.options.input&&(this.$elementFilestyle.remove(),this.constructor(),this.pushNameFiles()))}},icon:function(e){if(e===!0)this.options.icon||(this.options.icon=!0,this.$elementFilestyle.find("label").prepend(this.htmlIcon()));else{if(e!==!1)return this.options.icon;this.options.icon&&(this.options.icon=!1,this.$elementFilestyle.find(".icon-span-filestyle").remove())}},input:function(e){if(e===!0)this.options.input||(this.options.input=!0,this.options.buttonBefore?this.$elementFilestyle.append(this.htmlInput()):this.$elementFilestyle.prepend(this.htmlInput()),this.$elementFilestyle.find(".badge").remove(),this.pushNameFiles(),this.$elementFilestyle.find(".group-span-filestyle").addClass("input-group-btn"));else{if(e!==!1)return this.options.input;if(this.options.input){this.options.input=!1,this.$elementFilestyle.find(":text").remove();var t=this.pushNameFiles();t.length>0&&this.options.badge&&this.$elementFilestyle.find("label").append(' <span class="badge">'+t.length+"</span>"),this.$elementFilestyle.find(".group-span-filestyle").removeClass("input-group-btn")}}},size:function(e){if(void 0===e)return this.options.size;var t=this.$elementFilestyle.find("label"),i=this.$elementFilestyle.find("input");t.removeClass("btn-lg btn-sm"),i.removeClass("input-lg input-sm"),"nr"!=e&&(t.addClass("btn-"+e),i.addClass("input-"+e))},placeholder:function(e){return void 0===e?this.options.placeholder:(this.options.placeholder=e,void this.$elementFilestyle.find("input").attr("placeholder",e))},buttonText:function(e){return void 0===e?this.options.buttonText:(this.options.buttonText=e,void this.$elementFilestyle.find("label .buttonText").html(this.options.buttonText))},buttonName:function(e){return void 0===e?this.options.buttonName:(this.options.buttonName=e,void this.$elementFilestyle.find("label").attr({"class":"btn "+this.options.buttonName}))},iconName:function(e){return void 0===e?this.options.iconName:void this.$elementFilestyle.find(".icon-span-filestyle").attr({"class":"icon-span-filestyle "+this.options.iconName})},htmlIcon:function(){return this.options.icon?'<span class="icon-span-filestyle '+this.options.iconName+'"></span> ':""},htmlInput:function(){return this.options.input?'<input type="text" class="form-control '+("nr"==this.options.size?"":"input-"+this.options.size)+'" placeholder="'+this.options.placeholder+'" disabled> ':""},pushNameFiles:function(){var e="",t=[];void 0===this.$element[0].files?t[0]={name:this.$element[0]&&this.$element[0].value}:t=this.$element[0].files;for(var i=0;i<t.length;i++)e+=t[i].name.split("\\").pop()+", ";return""!==e?this.$elementFilestyle.find(":text").val(e.replace(/\, $/g,"")):this.$elementFilestyle.find(":text").val(""),t},constructor:function(){var i=this,n="",o=i.$element.attr("id"),r="";""!==o&&o||(o="filestyle-"+t,i.$element.attr({id:o}),t++),r='<span class="group-span-filestyle '+(i.options.input?"input-group-btn":"")+'"><label for="'+o+'" class="btn '+i.options.buttonName+" "+("nr"==i.options.size?"":"btn-"+i.options.size)+'" '+(i.options.disabled?'disabled="true"':"")+">"+i.htmlIcon()+'<span class="buttonText">'+i.options.buttonText+"</span></label></span>",n=i.options.buttonBefore?r+i.htmlInput():i.htmlInput()+r,i.$elementFilestyle=e('<div class="bootstrap-filestyle input-group">'+n+"</div>"),i.$elementFilestyle.find(".group-span-filestyle").attr("tabindex","0").keypress(function(e){return 13===e.keyCode||32===e.charCode?(i.$elementFilestyle.find("label").click(),!1):void 0}),i.$element.css({position:"absolute",clip:"rect(0px 0px 0px 0px)"}).attr("tabindex","-1").after(i.$elementFilestyle),i.options.disabled&&i.$element.attr("disabled","true"),i.$element.change(function(){var e=i.pushNameFiles();0==i.options.input&&i.options.badge?0==i.$elementFilestyle.find(".badge").length?i.$elementFilestyle.find("label").append(' <span class="badge">'+e.length+"</span>"):0==e.length?i.$elementFilestyle.find(".badge").remove():i.$elementFilestyle.find(".badge").html(e.length):i.$elementFilestyle.find(".badge").remove()}),window.navigator.userAgent.search(/firefox/i)>-1&&i.$elementFilestyle.find("label").click(function(){return i.$element.click(),!1})}};var n=e.fn.filestyle;e.fn.filestyle=function(t,n){var o="",r=this.each(function(){if("file"===e(this).attr("type")){var r=e(this),a=r.data("filestyle"),s=e.extend({},e.fn.filestyle.defaults,t,"object"==typeof t&&t);a||(r.data("filestyle",a=new i(this,s)),a.constructor()),"string"==typeof t&&(o=a[t](n))}});return void 0!==typeof o?o:r},e.fn.filestyle.defaults={buttonText:"Choose file",iconName:"glyphicon glyphicon-folder-open",buttonName:"btn-default",size:"nr",input:!0,badge:!0,icon:!0,buttonBefore:!1,disabled:!1,placeholder:""},e.fn.filestyle.noConflict=function(){return e.fn.filestyle=n,this},e(function(){e(".filestyle").each(function(){var t=e(this),i={input:"false"===t.attr("data-input")?!1:!0,icon:"false"===t.attr("data-icon")?!1:!0,buttonBefore:"true"===t.attr("data-buttonBefore")?!0:!1,disabled:"true"===t.attr("data-disabled")?!0:!1,size:t.attr("data-size"),buttonText:t.attr("data-buttonText"),buttonName:t.attr("data-buttonName"),iconName:t.attr("data-iconName"),badge:"false"===t.attr("data-badge")?!1:!0,placeholder:t.attr("data-placeholder")};t.filestyle(i)})})}(window.jQuery),function(e){var t=0,i=function(t,i){this.options=i,this.$elementFilestyle=[],this.$element=e(t)};i.prototype={clear:function(){this.$element.val(""),this.$elementFilestyle.find(":text").val(""),this.$elementFilestyle.find(".badge").remove()},destroy:function(){this.$element.removeAttr("style").removeData("filestyle"),this.$elementFilestyle.remove()},disabled:function(e){if(e===!0)this.options.disabled||(this.$element.attr("disabled","true"),this.$elementFilestyle.find("label").attr("disabled","true"),this.options.disabled=!0);else{if(e!==!1)return this.options.disabled;this.options.disabled&&(this.$element.removeAttr("disabled"),this.$elementFilestyle.find("label").removeAttr("disabled"),this.options.disabled=!1)}},buttonBefore:function(e){if(e===!0)this.options.buttonBefore||(this.options.buttonBefore=!0,this.options.input&&(this.$elementFilestyle.remove(),this.constructor(),this.pushNameFiles()));else{if(e!==!1)return this.options.buttonBefore;this.options.buttonBefore&&(this.options.buttonBefore=!1,this.options.input&&(this.$elementFilestyle.remove(),this.constructor(),this.pushNameFiles()))}},icon:function(e){if(e===!0)this.options.icon||(this.options.icon=!0,this.$elementFilestyle.find("label").prepend(this.htmlIcon()));else{if(e!==!1)return this.options.icon;this.options.icon&&(this.options.icon=!1,this.$elementFilestyle.find(".icon-span-filestyle").remove())}},input:function(e){if(e===!0)this.options.input||(this.options.input=!0,this.options.buttonBefore?this.$elementFilestyle.append(this.htmlInput()):this.$elementFilestyle.prepend(this.htmlInput()),this.$elementFilestyle.find(".badge").remove(),this.pushNameFiles(),this.$elementFilestyle.find(".group-span-filestyle").addClass("input-group-btn"));else{if(e!==!1)return this.options.input;if(this.options.input){this.options.input=!1,this.$elementFilestyle.find(":text").remove();var t=this.pushNameFiles();t.length>0&&this.options.badge&&this.$elementFilestyle.find("label").append(' <span class="badge">'+t.length+"</span>"),this.$elementFilestyle.find(".group-span-filestyle").removeClass("input-group-btn")}}},size:function(e){if(void 0===e)return this.options.size;var t=this.$elementFilestyle.find("label"),i=this.$elementFilestyle.find("input");t.removeClass("btn-lg btn-sm"),i.removeClass("input-lg input-sm"),"nr"!=e&&(t.addClass("btn-"+e),i.addClass("input-"+e))},placeholder:function(e){return void 0===e?this.options.placeholder:(this.options.placeholder=e,void this.$elementFilestyle.find("input").attr("placeholder",e))},buttonText:function(e){return void 0===e?this.options.buttonText:(this.options.buttonText=e,void this.$elementFilestyle.find("label .buttonText").html(this.options.buttonText))},buttonName:function(e){return void 0===e?this.options.buttonName:(this.options.buttonName=e,void this.$elementFilestyle.find("label").attr({"class":"btn "+this.options.buttonName}))},iconName:function(e){return void 0===e?this.options.iconName:void this.$elementFilestyle.find(".icon-span-filestyle").attr({"class":"icon-span-filestyle "+this.options.iconName})},htmlIcon:function(){return this.options.icon?'<span class="icon-span-filestyle '+this.options.iconName+'"></span> ':""},htmlInput:function(){return this.options.input?'<input type="text" class="form-control '+("nr"==this.options.size?"":"input-"+this.options.size)+'" placeholder="'+this.options.placeholder+'" disabled> ':""},pushNameFiles:function(){var e="",t=[];void 0===this.$element[0].files?t[0]={name:this.$element[0]&&this.$element[0].value}:t=this.$element[0].files;for(var i=0;i<t.length;i++)e+=t[i].name.split("\\").pop()+", ";return""!==e?this.$elementFilestyle.find(":text").val(e.replace(/\, $/g,"")):this.$elementFilestyle.find(":text").val(""),t},constructor:function(){var i=this,n="",o=i.$element.attr("id"),r="";""!==o&&o||(o="filestyle-"+t,i.$element.attr({id:o}),t++),r='<span class="group-span-filestyle '+(i.options.input?"input-group-btn":"")+'"><label for="'+o+'" class="btn '+i.options.buttonName+" "+("nr"==i.options.size?"":"btn-"+i.options.size)+'" '+(i.options.disabled?'disabled="true"':"")+">"+i.htmlIcon()+'<span class="buttonText">'+i.options.buttonText+"</span></label></span>",n=i.options.buttonBefore?r+i.htmlInput():i.htmlInput()+r,i.$elementFilestyle=e('<div class="bootstrap-filestyle input-group">'+n+"</div>"),i.$elementFilestyle.find(".group-span-filestyle").attr("tabindex","0").keypress(function(e){return 13===e.keyCode||32===e.charCode?(i.$elementFilestyle.find("label").click(),!1):void 0}),i.$element.css({position:"absolute",clip:"rect(0px 0px 0px 0px)"}).attr("tabindex","-1").after(i.$elementFilestyle),i.options.disabled&&i.$element.attr("disabled","true"),i.$element.change(function(){var e=i.pushNameFiles();0==i.options.input&&i.options.badge?0==i.$elementFilestyle.find(".badge").length?i.$elementFilestyle.find("label").append(' <span class="badge">'+e.length+"</span>"):0==e.length?i.$elementFilestyle.find(".badge").remove():i.$elementFilestyle.find(".badge").html(e.length):i.$elementFilestyle.find(".badge").remove()}),window.navigator.userAgent.search(/firefox/i)>-1&&i.$elementFilestyle.find("label").click(function(){return i.$element.click(),!1})}};var n=e.fn.filestyle;e.fn.filestyle=function(t,n){var o="",r=this.each(function(){if("file"===e(this).attr("type")){var r=e(this),a=r.data("filestyle"),s=e.extend({},e.fn.filestyle.defaults,t,"object"==typeof t&&t);a||(r.data("filestyle",a=new i(this,s)),a.constructor()),"string"==typeof t&&(o=a[t](n))}});return void 0!==typeof o?o:r},e.fn.filestyle.defaults={buttonText:"Choose file",iconName:"glyphicon glyphicon-folder-open",buttonName:"btn-default",size:"nr",input:!0,badge:!0,icon:!0,buttonBefore:!1,disabled:!1,placeholder:""},e.fn.filestyle.noConflict=function(){return e.fn.filestyle=n,this},e(function(){e(".filestyle").each(function(){var t=e(this),i={input:"false"===t.attr("data-input")?!1:!0,icon:"false"===t.attr("data-icon")?!1:!0,buttonBefore:"true"===t.attr("data-buttonBefore")?!0:!1,disabled:"true"===t.attr("data-disabled")?!0:!1,size:t.attr("data-size"),buttonText:t.attr("data-buttonText"),buttonName:t.attr("data-buttonName"),iconName:t.attr("data-iconName"),badge:"false"===t.attr("data-badge")?!1:!0,placeholder:t.attr("data-placeholder")};t.filestyle(i)})})}(window.jQuery),function(e,t,i,n){"use strict";var o="treeview",r={};r.settings={injectStyle:!0,levels:2,expandIcon:"glyphicon glyphicon-plus",collapseIcon:"glyphicon glyphicon-minus",emptyIcon:"glyphicon",nodeIcon:"",selectedIcon:"",checkedIcon:"glyphicon glyphicon-check",uncheckedIcon:"glyphicon glyphicon-unchecked",color:n,backColor:n,borderColor:n,onhoverColor:"#F5F5F5",selectedColor:"#FFFFFF",selectedBackColor:"#428bca",searchResultColor:"#D9534F",searchResultBackColor:n,enableLinks:!1,highlightSelected:!0,highlightSearchResults:!0,showBorder:!0,showIcon:!0,showCheckbox:!1,showTags:!1,multiSelect:!1,onNodeChecked:n,onNodeCollapsed:n,onNodeDisabled:n,onNodeEnabled:n,onNodeExpanded:n,onNodeSelected:n,onNodeUnchecked:n,onNodeUnselected:n,onSearchComplete:n,onSearchCleared:n},r.options={silent:!1,ignoreChildren:!1},r.searchOptions={ignoreCase:!0,exactMatch:!1,revealResults:!0};var a=function(t,i){return this.$element=e(t),this.elementId=t.id,this.styleId=this.elementId+"-style",this.init(i),{options:this.options,init:e.proxy(this.init,this),remove:e.proxy(this.remove,this),getNode:e.proxy(this.getNode,this),getParent:e.proxy(this.getParent,this),getSiblings:e.proxy(this.getSiblings,this),getSelected:e.proxy(this.getSelected,this),getUnselected:e.proxy(this.getUnselected,this),getExpanded:e.proxy(this.getExpanded,this),getCollapsed:e.proxy(this.getCollapsed,this),getChecked:e.proxy(this.getChecked,this),getUnchecked:e.proxy(this.getUnchecked,this),getDisabled:e.proxy(this.getDisabled,this),getEnabled:e.proxy(this.getEnabled,this),selectNode:e.proxy(this.selectNode,this),unselectNode:e.proxy(this.unselectNode,this),toggleNodeSelected:e.proxy(this.toggleNodeSelected,this),collapseAll:e.proxy(this.collapseAll,this),collapseNode:e.proxy(this.collapseNode,this),expandAll:e.proxy(this.expandAll,this),expandNode:e.proxy(this.expandNode,this),toggleNodeExpanded:e.proxy(this.toggleNodeExpanded,this),revealNode:e.proxy(this.revealNode,this),checkAll:e.proxy(this.checkAll,this),checkNode:e.proxy(this.checkNode,this),uncheckAll:e.proxy(this.uncheckAll,this),uncheckNode:e.proxy(this.uncheckNode,this),toggleNodeChecked:e.proxy(this.toggleNodeChecked,this),disableAll:e.proxy(this.disableAll,this),disableNode:e.proxy(this.disableNode,this),enableAll:e.proxy(this.enableAll,this),enableNode:e.proxy(this.enableNode,this),toggleNodeDisabled:e.proxy(this.toggleNodeDisabled,this),search:e.proxy(this.search,this),clearSearch:e.proxy(this.clearSearch,this)}};a.prototype.init=function(t){this.tree=[],this.nodes=[],t.data&&("string"==typeof t.data&&(t.data=e.parseJSON(t.data)),this.tree=e.extend(!0,[],t.data),delete t.data),this.options=e.extend({},r.settings,t),this.destroy(),this.subscribeEvents(),this.setInitialStates({nodes:this.tree},0),this.render()},a.prototype.remove=function(){this.destroy(),e.removeData(this,o),e("#"+this.styleId).remove()},a.prototype.destroy=function(){this.initialized&&(this.$wrapper.remove(),this.$wrapper=null,this.unsubscribeEvents(),this.initialized=!1)},a.prototype.unsubscribeEvents=function(){this.$element.off("click"),this.$element.off("nodeChecked"),this.$element.off("nodeCollapsed"),this.$element.off("nodeDisabled"),this.$element.off("nodeEnabled"),this.$element.off("nodeExpanded"),this.$element.off("nodeSelected"),this.$element.off("nodeUnchecked"),this.$element.off("nodeUnselected"),this.$element.off("searchComplete"),this.$element.off("searchCleared")},a.prototype.subscribeEvents=function(){this.unsubscribeEvents(),this.$element.on("click",e.proxy(this.clickHandler,this)),"function"==typeof this.options.onNodeChecked&&this.$element.on("nodeChecked",this.options.onNodeChecked),"function"==typeof this.options.onNodeCollapsed&&this.$element.on("nodeCollapsed",this.options.onNodeCollapsed),"function"==typeof this.options.onNodeDisabled&&this.$element.on("nodeDisabled",this.options.onNodeDisabled),"function"==typeof this.options.onNodeEnabled&&this.$element.on("nodeEnabled",this.options.onNodeEnabled),"function"==typeof this.options.onNodeExpanded&&this.$element.on("nodeExpanded",this.options.onNodeExpanded),"function"==typeof this.options.onNodeSelected&&this.$element.on("nodeSelected",this.options.onNodeSelected),"function"==typeof this.options.onNodeUnchecked&&this.$element.on("nodeUnchecked",this.options.onNodeUnchecked),"function"==typeof this.options.onNodeUnselected&&this.$element.on("nodeUnselected",this.options.onNodeUnselected),"function"==typeof this.options.onSearchComplete&&this.$element.on("searchComplete",this.options.onSearchComplete),"function"==typeof this.options.onSearchCleared&&this.$element.on("searchCleared",this.options.onSearchCleared)},a.prototype.setInitialStates=function(t,i){if(t.nodes){i+=1;var n=t,o=this;e.each(t.nodes,function(e,t){t.nodeId=o.nodes.length,t.parentId=n.nodeId,t.hasOwnProperty("selectable")||(t.selectable=!0),t.state=t.state||{},t.state.hasOwnProperty("checked")||(t.state.checked=!1),t.state.hasOwnProperty("disabled")||(t.state.disabled=!1),t.state.hasOwnProperty("expanded")||(!t.state.disabled&&i<o.options.levels&&t.nodes&&t.nodes.length>0?t.state.expanded=!0:t.state.expanded=!1),t.state.hasOwnProperty("selected")||(t.state.selected=!1),o.nodes.push(t),t.nodes&&o.setInitialStates(t,i)})}},a.prototype.clickHandler=function(t){this.options.enableLinks||t.preventDefault();var i=e(t.target),n=this.findNode(i);if(n&&!n.state.disabled){var o=i.attr("class")?i.attr("class").split(" "):[];-1!==o.indexOf("expand-icon")?(this.toggleExpandedState(n,r.options),this.render()):-1!==o.indexOf("check-icon")?(this.toggleCheckedState(n,r.options),this.render()):(n.selectable?this.toggleSelectedState(n,r.options):this.toggleExpandedState(n,r.options),this.render())}},a.prototype.findNode=function(e){var t=e.closest("li.list-group-item").attr("data-nodeid"),i=this.nodes[t];return i||console.log("Error: node does not exist"),i},a.prototype.toggleExpandedState=function(e,t){e&&this.setExpandedState(e,!e.state.expanded,t)},a.prototype.setExpandedState=function(t,i,n){i!==t.state.expanded&&(i&&t.nodes?(t.state.expanded=!0,n.silent||this.$element.trigger("nodeExpanded",e.extend(!0,{},t))):i||(t.state.expanded=!1,n.silent||this.$element.trigger("nodeCollapsed",e.extend(!0,{},t)),t.nodes&&!n.ignoreChildren&&e.each(t.nodes,e.proxy(function(e,t){this.setExpandedState(t,!1,n)},this))))},a.prototype.toggleSelectedState=function(e,t){e&&this.setSelectedState(e,!e.state.selected,t)},a.prototype.setSelectedState=function(t,i,n){i!==t.state.selected&&(i?(this.options.multiSelect||e.each(this.findNodes("true","g","state.selected"),e.proxy(function(e,t){this.setSelectedState(t,!1,n)},this)),t.state.selected=!0,n.silent||this.$element.trigger("nodeSelected",e.extend(!0,{},t))):(t.state.selected=!1,n.silent||this.$element.trigger("nodeUnselected",e.extend(!0,{},t))))},a.prototype.toggleCheckedState=function(e,t){e&&this.setCheckedState(e,!e.state.checked,t)},a.prototype.setCheckedState=function(t,i,n){i!==t.state.checked&&(i?(t.state.checked=!0,n.silent||this.$element.trigger("nodeChecked",e.extend(!0,{},t))):(t.state.checked=!1,n.silent||this.$element.trigger("nodeUnchecked",e.extend(!0,{},t))))},a.prototype.setDisabledState=function(t,i,n){i!==t.state.disabled&&(i?(t.state.disabled=!0,this.setExpandedState(t,!1,n),this.setSelectedState(t,!1,n),this.setCheckedState(t,!1,n),n.silent||this.$element.trigger("nodeDisabled",e.extend(!0,{},t))):(t.state.disabled=!1,n.silent||this.$element.trigger("nodeEnabled",e.extend(!0,{},t))))},a.prototype.render=function(){this.initialized||(this.$element.addClass(o),this.$wrapper=e(this.template.list),this.injectStyle(),this.initialized=!0),this.$element.empty().append(this.$wrapper.empty()),this.buildTree(this.tree,0)},a.prototype.buildTree=function(t,i){if(t){i+=1;var n=this;e.each(t,function(t,o){for(var r=e(n.template.item).addClass("node-"+n.elementId).addClass(o.state.checked?"node-checked":"").addClass(o.state.disabled?"node-disabled":"").addClass(o.state.selected?"node-selected":"").addClass(o.searchResult?"search-result":"").attr("data-nodeid",o.nodeId).attr("style",n.buildStyleOverride(o)),a=0;i-1>a;a++)r.append(n.template.indent);var s=[];if(o.nodes?(s.push("expand-icon"),o.state.expanded?s.push(n.options.collapseIcon):s.push(n.options.expandIcon)):s.push(n.options.emptyIcon),r.append(e(n.template.icon).addClass(s.join(" "))),n.options.showIcon){var s=["node-icon"];s.push(o.icon||n.options.nodeIcon),o.state.selected&&(s.pop(),s.push(o.selectedIcon||n.options.selectedIcon||o.icon||n.options.nodeIcon)),r.append(e(n.template.icon).addClass(s.join(" ")))}if(n.options.showCheckbox){var s=["check-icon"];o.state.checked?s.push(n.options.checkedIcon):s.push(n.options.uncheckedIcon),r.append(e(n.template.icon).addClass(s.join(" ")))}return n.options.enableLinks?r.append(e(n.template.link).attr("href",o.href).append(o.text)):r.append(o.text),n.options.showTags&&o.tags&&e.each(o.tags,function(t,i){r.append(e(n.template.badge).append(i))}),n.$wrapper.append(r),o.nodes&&o.state.expanded&&!o.state.disabled?n.buildTree(o.nodes,i):void 0})}},a.prototype.buildStyleOverride=function(e){if(e.state.disabled)return"";var t=e.color,i=e.backColor;return this.options.highlightSelected&&e.state.selected&&(this.options.selectedColor&&(t=this.options.selectedColor),this.options.selectedBackColor&&(i=this.options.selectedBackColor)),this.options.highlightSearchResults&&e.searchResult&&!e.state.disabled&&(this.options.searchResultColor&&(t=this.options.searchResultColor),this.options.searchResultBackColor&&(i=this.options.searchResultBackColor)),"color:"+t+";background-color:"+i+";"},a.prototype.injectStyle=function(){this.options.injectStyle&&!i.getElementById(this.styleId)&&e('<style type="text/css" id="'+this.styleId+'"> '+this.buildStyle()+" </style>").appendTo("head")},a.prototype.buildStyle=function(){var e=".node-"+this.elementId+"{";return this.options.color&&(e+="color:"+this.options.color+";"),this.options.backColor&&(e+="background-color:"+this.options.backColor+";"),this.options.showBorder?this.options.borderColor&&(e+="border:1px solid "+this.options.borderColor+";"):e+="border:none;",e+="}",this.options.onhoverColor&&(e+=".node-"+this.elementId+":not(.node-disabled):hover{background-color:"+this.options.onhoverColor+";}"),this.css+e},a.prototype.template={list:'<ul class="list-group"></ul>',item:'<li class="list-group-item"></li>',indent:'<span class="indent"></span>',icon:'<span class="icon"></span>',link:'<a href="#" style="color:inherit;"></a>',badge:'<span class="badge"></span>'},a.prototype.css=".treeview .list-group-item{cursor:pointer}.treeview span.indent{margin-left:10px;margin-right:10px}.treeview span.icon{width:12px;margin-right:5px}.treeview .node-disabled{color:silver;cursor:not-allowed}",a.prototype.getNode=function(e){return this.nodes[e]},a.prototype.getParent=function(e){var t=this.identifyNode(e);return this.nodes[t.parentId]},a.prototype.getSiblings=function(e){var t=this.identifyNode(e),i=this.getParent(t),n=i?i.nodes:this.tree;return n.filter(function(e){return e.nodeId!==t.nodeId})},a.prototype.getSelected=function(){return this.findNodes("true","g","state.selected")},a.prototype.getUnselected=function(){return this.findNodes("false","g","state.selected")},a.prototype.getExpanded=function(){return this.findNodes("true","g","state.expanded")},a.prototype.getCollapsed=function(){return this.findNodes("false","g","state.expanded")},a.prototype.getChecked=function(){return this.findNodes("true","g","state.checked")},a.prototype.getUnchecked=function(){return this.findNodes("false","g","state.checked")},a.prototype.getDisabled=function(){return this.findNodes("true","g","state.disabled")},a.prototype.getEnabled=function(){return this.findNodes("false","g","state.disabled")},a.prototype.selectNode=function(t,i){this.forEachIdentifier(t,i,e.proxy(function(e,t){this.setSelectedState(e,!0,t)},this)),this.render()},a.prototype.unselectNode=function(t,i){this.forEachIdentifier(t,i,e.proxy(function(e,t){this.setSelectedState(e,!1,t)},this)),this.render()},a.prototype.toggleNodeSelected=function(t,i){this.forEachIdentifier(t,i,e.proxy(function(e,t){this.toggleSelectedState(e,t)},this)),this.render()},a.prototype.collapseAll=function(t){var i=this.findNodes("true","g","state.expanded");this.forEachIdentifier(i,t,e.proxy(function(e,t){this.setExpandedState(e,!1,t)},this)),this.render()},a.prototype.collapseNode=function(t,i){this.forEachIdentifier(t,i,e.proxy(function(e,t){this.setExpandedState(e,!1,t)},this)),this.render()},a.prototype.expandAll=function(t){if(t=e.extend({},r.options,t),t&&t.levels)this.expandLevels(this.tree,t.levels,t);else{var i=this.findNodes("false","g","state.expanded");this.forEachIdentifier(i,t,e.proxy(function(e,t){this.setExpandedState(e,!0,t)},this))}this.render()},a.prototype.expandNode=function(t,i){this.forEachIdentifier(t,i,e.proxy(function(e,t){this.setExpandedState(e,!0,t),e.nodes&&t&&t.levels&&this.expandLevels(e.nodes,t.levels-1,t)},this)),this.render()},a.prototype.expandLevels=function(t,i,n){n=e.extend({},r.options,n),e.each(t,e.proxy(function(e,t){this.setExpandedState(t,i>0?!0:!1,n),t.nodes&&this.expandLevels(t.nodes,i-1,n)},this))},a.prototype.revealNode=function(t,i){this.forEachIdentifier(t,i,e.proxy(function(e,t){for(var i=this.getParent(e);i;)this.setExpandedState(i,!0,t),i=this.getParent(i)},this)),this.render()},a.prototype.toggleNodeExpanded=function(t,i){this.forEachIdentifier(t,i,e.proxy(function(e,t){this.toggleExpandedState(e,t)},this)),this.render()},a.prototype.checkAll=function(t){var i=this.findNodes("false","g","state.checked");this.forEachIdentifier(i,t,e.proxy(function(e,t){this.setCheckedState(e,!0,t)},this)),this.render()},a.prototype.checkNode=function(t,i){this.forEachIdentifier(t,i,e.proxy(function(e,t){this.setCheckedState(e,!0,t)},this)),this.render()},a.prototype.uncheckAll=function(t){var i=this.findNodes("true","g","state.checked");this.forEachIdentifier(i,t,e.proxy(function(e,t){this.setCheckedState(e,!1,t)},this)),this.render()},a.prototype.uncheckNode=function(t,i){this.forEachIdentifier(t,i,e.proxy(function(e,t){this.setCheckedState(e,!1,t)},this)),this.render()},a.prototype.toggleNodeChecked=function(t,i){this.forEachIdentifier(t,i,e.proxy(function(e,t){this.toggleCheckedState(e,t)},this)),this.render()},a.prototype.disableAll=function(t){var i=this.findNodes("false","g","state.disabled");this.forEachIdentifier(i,t,e.proxy(function(e,t){this.setDisabledState(e,!0,t)},this)),this.render()},a.prototype.disableNode=function(t,i){this.forEachIdentifier(t,i,e.proxy(function(e,t){this.setDisabledState(e,!0,t)},this)),this.render()},a.prototype.enableAll=function(t){var i=this.findNodes("true","g","state.disabled");this.forEachIdentifier(i,t,e.proxy(function(e,t){this.setDisabledState(e,!1,t)},this)),this.render()},a.prototype.enableNode=function(t,i){this.forEachIdentifier(t,i,e.proxy(function(e,t){this.setDisabledState(e,!1,t)},this)),this.render()},a.prototype.toggleNodeDisabled=function(t,i){this.forEachIdentifier(t,i,e.proxy(function(e,t){this.setDisabledState(e,!e.state.disabled,t)},this)),this.render()},a.prototype.forEachIdentifier=function(t,i,n){i=e.extend({},r.options,i),t instanceof Array||(t=[t]),e.each(t,e.proxy(function(e,t){n(this.identifyNode(t),i)},this))},a.prototype.identifyNode=function(e){return"number"==typeof e?this.nodes[e]:e},a.prototype.search=function(t,i){i=e.extend({},r.searchOptions,i),this.clearSearch({render:!1});var n=[];if(t&&t.length>0){i.exactMatch&&(t="^"+t+"$");var o="g";i.ignoreCase&&(o+="i"),n=this.findNodes(t,o),e.each(n,function(e,t){t.searchResult=!0})}return i.revealResults?this.revealNode(n):this.render(),this.$element.trigger("searchComplete",e.extend(!0,{},n)),n},a.prototype.clearSearch=function(t){t=e.extend({},{render:!0},t);var i=e.each(this.findNodes("true","g","searchResult"),function(e,t){t.searchResult=!1});t.render&&this.render(),this.$element.trigger("searchCleared",e.extend(!0,{},i))},a.prototype.findNodes=function(t,i,n){i=i||"g",n=n||"text";var o=this;return e.grep(this.nodes,function(e){var r=o.getNodeValue(e,n);return"string"==typeof r?r.match(new RegExp(t,i)):void 0})},a.prototype.getNodeValue=function(e,t){var i=t.indexOf(".");if(i>0){var o=e[t.substring(0,i)],r=t.substring(i+1,t.length);return this.getNodeValue(o,r)}return e.hasOwnProperty(t)?e[t].toString():n};var s=function(e){t.console&&t.console.error(e)};e.fn[o]=function(t,i){var n;return this.each(function(){var r=e.data(this,o);"string"==typeof t?r?e.isFunction(r[t])&&"_"!==t.charAt(0)?(i instanceof Array||(i=[i]),n=r[t].apply(r,i)):s("No such method : "+t):s("Not initialized, can not call method : "+t):"boolean"==typeof t?n=r:e.data(this,o,new a(this,e.extend(!0,{},t)))}),n||this}}(jQuery,window,document),$(function(){function e(){var e=$("#project_select_id option:selected").val();t("/projects/"+e)}function t(e){$.get(e,function(e){$("#myFrame").html(e),$("#version_table").hide()})}function i(e){return $.ajax({type:"POST",url:e+"/clear",success:function(e){t(e.page),r()}}),!1}function n(e,i){$.ajax({type:"POST",url:i,data:e,dataType:"JSON",processData:!1,contentType:!1,success:function(e){t(e.page),r()},error:function(e,t,i){var n=e.responseText.split("\n");alert(n[2])}})}function o(e){return $.ajax({type:"POST",url:e,success:function(e){t(e.page),r()}}),!1}function r(){var e=$("#project_select_id option:selected").val();$.ajax("requirements",{type:"GET",dataType:"json",data:{project_id:e},success:function(e){project_id=$("#project_select_id option:selected").val(),$.isNumeric(project_id)?$("#project_assign").attr("href","/assignments/"+project_id):($("#project_select_modal option:selected").removeAttr("selected"),$("#project_modal").modal("show"),$("#project_assign").removeAttr("href")),buildRequirementsTree(e.requirements)}})}r(),e(),$(document).on("change","#project_select_id",function(t){r(),e()}),$(document).on("change","#project_select_modal",function(e){$("#project_modal").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove(),$("#project_select_id").val($("#project_select_modal option:selected").val()).trigger("change")}),$(document).on("click",".frame-link",function(e){e.preventDefault(),t($(this).attr("href"))}),$(document).on("click",".delete-frame-link",function(e){e.preventDefault(),i($(this).attr("href"))}),$(document).on("click",".create-frame-link",function(e){e.preventDefault(),n($(this).attr("href"))}),$(document).on("click",".version-frame-link",function(e){e.preventDefault(),o($(this).attr("href"))}),$(document).on("submit","form.new_assignment",function(e){e.preventDefault(),n(new FormData($(this)[0]),$(this).attr("action"))}),$(document).on("submit","form.edit_assignment",function(e){e.preventDefault(),n(new FormData($(this)[0]),$(this).attr("action"))}),$(document).on("submit","form.new_requirement",function(e){e.preventDefault(),n(new FormData($(this)[0]),$(this).attr("action")),r()}),$(document).on("submit","form.edit_requirement",function(e){e.preventDefault(),n(new FormData($(this)[0]),$(this).attr("action")),r()}),$(document).on("submit","form.new_attachment",function(e){e.preventDefault(),$("#myModal").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove(),n(new FormData($(this)[0]),$(this).attr("action"))}),$(document).ready(function(){$.isNumeric($("#project_select_id option:selected").val())?($("#project_assign").show(),$(".tree_block").show("slow")):($("#project_select_modal option:selected").removeAttr("selected"),$("#project_modal").modal("show"),$("#project_assign").hide(),$(".tree_block").hide())}),$(document).on("change","#project_select_id",function(e){$.isNumeric($("#project_select_id option:selected").val())?($("#project_assign").show(),$(".tree_block").show("slow")):($("#project_select_modal option:selected").removeAttr("selected"),$("#project_modal").modal("show"),$("#project_assign").hide(),$(".tree_block").hide("slow"))}),$(document).on("click",".fileupload",function(e){e.preventDefault(),$("form.edit_requirement").submit()}),$(document).on("click","#version_toggler",function(e){e.preventDefault(),$("#version_table").toggle()})}),/*!
 * @copyright Copyright &copy; Kartik Visweswaran, Krajee.com, 2014 - 2015
 * @version 4.2.8
 *
 * File input styled for Bootstrap 3.0 that utilizes HTML5 File Input's advanced 
 * features including the FileReader API. 
 * 
 * The plugin drastically enhances the HTML file input to preview multiple files on the client before
 * upload. In addition it provides the ability to preview content of images, text, videos, audio, html, 
 * flash and other objects. It also offers the ability to upload and delete files using AJAX, and add 
 * files in batches (i.e. preview, append, or remove before upload).
 * 
 * Author: Kartik Visweswaran
 * Copyright: 2015, Kartik Visweswaran, Krajee.com
 * For more JQuery plugins visit http://plugins.krajee.com
 * For more Yii related demos visit http://demos.krajee.com
 */
function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(window.jQuery)}(function(e){"use strict";e.fn.fileinputLocales={};var t,i,n,o,r,a,s,l,c,d,u,f,p,h,m,g,v,y,b,w,x,C,_,k,S,T,E,$,j,A,N,I,D,F,P,O,L,R,Q,H,U,B,z,q,M,W,V,X,G,Z,K,Y;t=function(e){if("Microsoft Internet Explorer"!==navigator.appName)return!1;if(10===e)return new RegExp("msie\\s"+e,"i").test(navigator.userAgent);var t,i=document.createElement("div");return i.innerHTML="<!--[if IE "+e+"]> <i></i> <![endif]-->",t=i.getElementsByTagName("i").length,document.body.appendChild(i),i.parentNode.removeChild(i),t},i=function(){return new RegExp("Edge/[0-9]+","i").test(navigator.userAgent)},n=function(e,t,i,n){var o=n?t:t+".fileinput";e.off(o).on(o,i)},o={data:{},init:function(e){var t=e.initialPreview,i=e.id;t.length>0&&!M(t)&&(t=t.split(e.initialPreviewDelimiter)),o.data[i]={content:t,config:e.initialPreviewConfig,tags:e.initialPreviewThumbTags,delimiter:e.initialPreviewDelimiter,template:e.previewGenericTemplate,msg:function(t){return e.getMsgSelected(t)},initId:e.previewInitId,footer:e.getLayoutTemplate("footer").replace(/\{progress}/g,e.renderThumbProgress()),isDelete:e.initialPreviewShowDelete,caption:e.initialCaption,actions:function(t,i,n,o,r){return e.renderFileActions(t,i,n,o,r)}}},fetch:function(e){return o.data[e].content.filter(function(e){return null!==e})},count:function(e,t){return o.data[e]&&o.data[e].content?t?o.data[e].content.length:o.fetch(e).length:0},get:function(t,i,n){var r,a,s="init_"+i,l=o.data[t],c=l.config[i],d=l.initId+"-"+s,u=" file-preview-initial";return n=void 0===n?!0:n,null===l.content[i]?"":(q(c)||q(c.frameClass)||(u+=" "+c.frameClass),r=l.template.replace(/\{previewId}/g,d).replace(/\{frameClass}/g,u).replace(/\{fileindex}/g,s).replace(/\{content}/g,l.content[i]).replace(/\{footer}/g,o.footer(t,i,n)),l.tags.length&&l.tags[i]&&(r=Z(r,l.tags[i])),q(c)||q(c.frameAttr)||(a=e(document.createElement("div")).html(r),a.find(".file-preview-initial").attr(c.frameAttr),r=a.html(),a.remove()),r)},add:function(t,i,n,r,a){var s,l=e.extend(!0,{},o.data[t]);return M(i)||(i=i.split(l.delimiter)),a?(s=l.content.push(i)-1,l.config[s]=n,l.tags[s]=r):(s=i.length,l.content=i,l.config=n,l.tags=r),o.data[t]=l,s},set:function(t,i,n,r,a){var s,l,c=e.extend(!0,{},o.data[t]);if(i&&i.length&&(M(i)||(i=i.split(c.delimiter)),l=i.filter(function(e){return null!==e}),l.length)){if(void 0===c.content&&(c.content=[]),void 0===c.config&&(c.config=[]),void 0===c.tags&&(c.tags=[]),a){for(s=0;s<i.length;s++)i[s]&&c.content.push(i[s]);for(s=0;s<n.length;s++)n[s]&&c.config.push(n[s]);for(s=0;s<r.length;s++)r[s]&&c.tags.push(r[s])}else c.content=i,c.config=n,c.tags=r;o.data[t]=c}},unset:function(e,t){var i=o.count(e);if(i){if(1===i)return o.data[e].content=[],void(o.data[e].config=[]);o.data[e].content[t]=null,o.data[e].config[t]=null}},out:function(e){var t,i="",n=o.data[e],r=o.count(e,!0);if(0===r)return{content:"",caption:""};for(var a=0;r>a;a++)i+=o.get(e,a);return t=n.msg(o.count(e)),{content:i,caption:t}},footer:function(e,t,i){var n=o.data[e];if(i=void 0===i?!0:i,0===n.config.length||q(n.config[t]))return"";var r=n.config[t],a=W("caption",r)?r.caption:"",s=W("width",r)?r.width:"auto",l=W("url",r)?r.url:!1,c=W("key",r)?r.key:null,d=l===!1&&i,u=n.isDelete?n.actions(!1,!0,d,l,c):"",f=n.footer.replace(/\{actions}/g,u);return f.replace(/\{caption}/g,a).replace(/\{width}/g,s).replace(/\{indicator}/g,"").replace(/\{indicatorTitle}/g,"")}},r=function(e,t){return t=t||0,"number"==typeof e?e:("string"==typeof e&&(e=parseFloat(e)),isNaN(e)?t:e)},a=function(){return window.File&&window.FileReader},s=function(){var e=document.createElement("div");return!t(9)&&!i()&&(void 0!==e.draggable||void 0!==e.ondragstart&&void 0!==e.ondrop)},l=function(){return a()&&window.FormData},c=function(e,t){e.removeClass(t).addClass(t)},d='style="width:{width};height:{height};"',u='      <param name="controller" value="true" />\n      <param name="allowFullScreen" value="true" />\n      <param name="allowScriptAccess" value="always" />\n      <param name="autoPlay" value="false" />\n      <param name="autoStart" value="false" />\n      <param name="quality" value="high" />\n',f='<div class="file-preview-other">\n   <span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>',p={removeIcon:'<i class="glyphicon glyphicon-trash text-danger"></i>',removeClass:"btn btn-xs btn-default",removeTitle:"Remove file",uploadIcon:'<i class="glyphicon glyphicon-upload text-info"></i>',uploadClass:"btn btn-xs btn-default",uploadTitle:"Upload file",indicatorNew:'<i class="glyphicon glyphicon-hand-down text-warning"></i>',indicatorSuccess:'<i class="glyphicon glyphicon-ok-sign text-success"></i>',indicatorError:'<i class="glyphicon glyphicon-exclamation-sign text-danger"></i>',indicatorLoading:'<i class="glyphicon glyphicon-hand-up text-muted"></i>',indicatorNewTitle:"Not uploaded yet",indicatorSuccessTitle:"Uploaded",indicatorErrorTitle:"Upload Error",indicatorLoadingTitle:"Uploading ..."},h='{preview}\n<div class="kv-upload-progress hide"></div>\n<div class="input-group {class}">\n   {caption}\n   <div class="input-group-btn">\n       {remove}\n       {cancel}\n       {upload}\n       {browse}\n   </div>\n</div>',m='{preview}\n<div class="kv-upload-progress hide"></div>\n{remove}\n{cancel}\n{upload}\n{browse}\n',g='<div class="file-preview {class}">\n    {close}    <div class="{dropClass}">\n    <div class="file-preview-thumbnails">\n    </div>\n    <div class="clearfix"></div>    <div class="file-preview-status text-center text-success"></div>\n    <div class="kv-fileinput-error"></div>\n    </div>\n</div>',y='<div class="close fileinput-remove">&times;</div>\n',v='<span class="glyphicon glyphicon-file kv-caption-icon"></span>',b='<div tabindex="500" class="form-control file-caption {class}">\n   <div class="file-caption-name"></div>\n</div>\n',w='<button type="{type}" tabindex="500" title="{title}" class="{css}" {status}>{icon}{label}</button>',x='<a href="{href}" tabindex="500" title="{title}" class="{css}" {status}>{icon}{label}</a>',C='<div tabindex="500" class="{css}" {status}>{icon}{label}</div>',_='<div id="{id}" class="file-preview-detail-modal modal fade" tabindex="-1">\n  <div class="modal-dialog modal-lg">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n        <h3 class="modal-title">{heading} <small>{title}</small></h3>\n      </div>\n      <div class="modal-body">\n           <pre>{body}</pre>\n      </div>\n    </div>\n  </div>\n</div>',k='<div class="progress">\n    <div class="{class}" role="progressbar" aria-valuenow="{percent}" aria-valuemin="0" aria-valuemax="100" style="width:{percent}%;">\n        {percent}%\n     </div>\n</div>',S='<div class="file-thumbnail-footer">\n    <div class="file-footer-caption" title="{caption}">{caption}</div>\n    {progress} {actions}\n</div>',T='<div class="file-actions">\n    <div class="file-footer-buttons">\n        {upload}{delete}{other}    </div>\n    <div class="file-upload-indicator" title="{indicatorTitle}">{indicator}</div>\n    <div class="clearfix"></div>\n</div>',E='<button type="button" class="kv-file-remove {removeClass}" title="{removeTitle}"{dataUrl}{dataKey}>{removeIcon}</button>\n',$='<button type="button" class="kv-file-upload {uploadClass}" title="{uploadTitle}">   {uploadIcon}\n</button>\n',j='<button type="button" class="btn btn-default btn-xs btn-block" title="{zoomTitle}: {caption}" onclick="{dialog}">\n   {zoomInd}\n</button>\n',A='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}">\n   {content}\n   {footer}\n</div>\n',N='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}">\n    <object class="file-object" data="{data}" type="{type}" width="{width}" height="{height}">\n       '+f+"\n    </object>\n   {footer}\n</div>",I='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}">\n   <img src="{data}" class="file-preview-image" title="{caption}" alt="{caption}" '+d+">\n   {footer}\n</div>\n",D='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}">\n   <pre class="file-preview-text" title="{caption}" '+d+">{data}</pre>\n   {zoom}\n   {footer}\n</div>",F='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" '+d+'>\n   <video width="{width}" height="{height}" controls>\n       <source src="{data}" type="{type}">\n       '+f+"\n   </video>\n   {footer}\n</div>\n",P='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" '+d+'>\n   <audio controls>\n       <source src="{data}" type="{type}">\n       '+f+"\n   </audio>\n   {footer}\n</div>",O='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" '+d+'>\n   <object class="file-object" type="application/x-shockwave-flash" width="{width}" height="{height}" data="{data}">\n'+u+"       "+f+"\n   </object>\n   {footer}\n</div>\n",L='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" '+d+'>\n   <object class="file-object" data="{data}" type="{type}" width="{width}" height="{height}">\n       <param name="movie" value="{caption}" />\n'+u+"         "+f+"\n   </object>\n   {footer}\n</div>",R='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" '+d+'>\n   <div class="file-preview-other-frame">\n   '+f+'\n   </div>\n   <div class="file-preview-other-footer">{footer}</div>\n</div>',Q={main1:h,main2:m,preview:g,close:y,zoom:j,icon:v,caption:b,modal:_,progress:k,footer:S,actions:T,actionDelete:E,actionUpload:$,btnDefault:w,btnLink:x,btnBrowse:C},H={generic:A,html:N,image:I,text:D,video:F,audio:P,flash:O,object:L,other:R},U=["image","html","text","video","audio","flash","object"],B={image:{width:"auto",height:"160px"},html:{width:"213px",height:"160px"},text:{width:"160px",height:"136px"},video:{width:"213px",height:"160px"},audio:{width:"213px",height:"80px"},flash:{width:"213px",height:"160px"},object:{width:"160px",height:"160px"},other:{width:"160px",height:"160px"}},z={image:function(e,t){return void 0!==e?e.match("image.*"):t.match(/\.(gif|png|jpe?g)$/i)},html:function(e,t){return void 0!==e?"text/html"===e:t.match(/\.(htm|html)$/i)},text:function(e,t){return void 0!==e&&e.match("text.*")||t.match(/\.(txt|md|csv|nfo|ini|json|php|js|css)$/i)},video:function(e,t){return void 0!==e&&e.match(/\.video\/(ogg|mp4|webm|3gp)$/i)||t.match(/\.(og?|mp4|webm|3gp)$/i)},audio:function(e,t){return void 0!==e&&e.match(/\.audio\/(ogg|mp3|wav)$/i)||t.match(/\.(ogg|mp3|wav)$/i)},flash:function(e,t){return void 0!==e&&"application/x-shockwave-flash"===e||t.match(/\.(swf)$/i)},object:function(){return!0},other:function(){return!0}},q=function(t,i){return void 0===t||null===t||0===t.length||i&&""===e.trim(t)},M=function(e){return Array.isArray(e)||"[object Array]"===Object.prototype.toString.call(e)},W=function(e,t){return"object"==typeof t&&e in t},V=function(t,i,n){return q(t)||q(t[i])?n:e(t[i])},X=function(){return Math.round((new Date).getTime()+100*Math.random())},G=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},Z=function(t,i){var n=t;return i?(e.each(i,function(e,t){"function"==typeof t&&(t=t()),n=n.split(e).join(t)}),n):n},K=window.URL||window.webkitURL,Y=function(i,n){var o=this;o.$element=e(i),o.validate()&&(o.isPreviewable=a(),o.isIE9=t(9),o.isIE10=t(10),o.isPreviewable||o.isIE9?(o.init(n),o.listen()):o.$element.removeClass("file-loading"))},Y.prototype={constructor:Y,validate:function(){var e,t=this;return"file"===t.$element.attr("type")?!0:(e='<div class="help-block alert alert-warning"><h4>Invalid Input Type</h4>You must set an input <code>type = file</code> for <b>bootstrap-fileinput</b> plugin to initialize.</div>',t.$element.after(e),!1)},init:function(t){var i,n=this,a=n.$element;e.each(t,function(e,t){switch(e){case"minFileCount":case"maxFileCount":case"maxFileSize":n[e]=r(t);break;default:n[e]=t}}),n.fileInputCleared=!1,n.fileBatchCompleted=!0,n.isPreviewable||(n.showPreview=!1),n.uploadFileAttr=q(a.attr("name"))?"file_data":a.attr("name"),n.reader=null,n.formdata={},n.clearStack(),n.uploadCount=0,n.uploadStatus={},n.uploadLog=[],n.uploadAsyncCount=0,n.loadedImages=[],n.totalImagesCount=0,n.ajaxRequests=[],n.isError=!1,n.ajaxAborted=!1,n.cancelling=!1,i=n.getLayoutTemplate("progress"),n.progressTemplate=i.replace("{class}",n.progressClass),n.progressCompleteTemplate=i.replace("{class}",n.progressCompleteClass),n.dropZoneEnabled=s()&&n.dropZoneEnabled,n.isDisabled=n.$element.attr("disabled")||n.$element.attr("readonly"),n.isUploadable=l()&&!q(n.uploadUrl),n.slug="function"==typeof t.slugCallback?t.slugCallback:n.slugDefault,n.mainTemplate=n.showCaption?n.getLayoutTemplate("main1"):n.getLayoutTemplate("main2"),n.captionTemplate=n.getLayoutTemplate("caption"),n.previewGenericTemplate=n.getPreviewTemplate("generic"),n.resizeImage&&(n.maxImageWidth||n.maxImageHeight)&&(n.imageCanvas=document.createElement("canvas"),n.imageCanvasContext=n.imageCanvas.getContext("2d")),q(n.$element.attr("id"))&&n.$element.attr("id",X()),void 0===n.$container?n.$container=n.createContainer():n.refreshContainer(),n.$progress=n.$container.find(".kv-upload-progress"),n.$btnUpload=n.$container.find(".fileinput-upload"),n.$captionContainer=V(t,"elCaptionContainer",n.$container.find(".file-caption")),n.$caption=V(t,"elCaptionText",n.$container.find(".file-caption-name")),n.$previewContainer=V(t,"elPreviewContainer",n.$container.find(".file-preview")),n.$preview=V(t,"elPreviewImage",n.$container.find(".file-preview-thumbnails")),n.$previewStatus=V(t,"elPreviewStatus",n.$container.find(".file-preview-status")),n.$errorContainer=V(t,"elErrorContainer",n.$previewContainer.find(".kv-fileinput-error")),q(n.msgErrorClass)||c(n.$errorContainer,n.msgErrorClass),n.$errorContainer.hide(),n.fileActionSettings=e.extend(p,t.fileActionSettings),n.previewInitId="preview-"+X(),n.id=n.$element.attr("id"),o.init(n),n.initPreview(!0),n.initPreviewDeletes(),n.options=t,n.setFileDropZoneTitle(),n.$element.removeClass("file-loading"),n.$element.attr("disabled")&&n.disable()},parseError:function(t,i,n){var o=this,r=e.trim(i+""),a="."===r.slice(-1)?"":".",s=void 0!==t.responseJSON&&void 0!==t.responseJSON.error?t.responseJSON.error:t.responseText;return o.cancelling&&o.msgUploadAborted&&(r=o.msgUploadAborted),o.showAjaxErrorDetails&&s?(s=e.trim(s.replace(/\n\s*\n/g,"\n")),s=s.length>0?"<pre>"+s+"</pre>":"",r+=a+s):r+=a,o.cancelling=!1,n?"<b>"+n+": </b>"+r:r},raise:function(t,i){var n=this,o=e.Event(t);if(void 0!==i?n.$element.trigger(o,i):n.$element.trigger(o),o.isDefaultPrevented())return!1;if(!o.result)return o.result;switch(t){case"filebatchuploadcomplete":case"filebatchuploadsuccess":case"fileuploaded":case"fileclear":case"filecleared":case"filereset":case"fileerror":case"filefoldererror":case"fileuploaderror":case"filebatchuploaderror":case"filedeleteerror":case"filecustomerror":case"filesuccessremove":break;default:n.ajaxAborted=o.result}return!0},getLayoutTemplate:function(e){var t=this,i=W(e,t.layoutTemplates)?t.layoutTemplates[e]:Q[e];return q(t.customLayoutTags)?i:Z(i,t.customLayoutTags)},getPreviewTemplate:function(e){var t=this,i=W(e,t.previewTemplates)?t.previewTemplates[e]:H[e];return q(t.customPreviewTags)?i:Z(i,t.customPreviewTags)},parseFilePreviewIcon:function(t,i){var n,o=this,r=o.previewFileIcon;return i&&i.indexOf(".")>-1&&(n=i.split(".").pop(),o.previewFileIconSettings&&o.previewFileIconSettings[n]&&(r=o.previewFileIconSettings[n]),o.previewFileExtSettings&&e.each(o.previewFileExtSettings,function(e,t){o.previewFileIconSettings[e]&&t(n)&&(r=o.previewFileIconSettings[e])})),t.indexOf("{previewFileIcon}")>-1?t.replace(/\{previewFileIconClass}/g,o.previewFileIconClass).replace(/\{previewFileIcon}/g,r):t},getOutData:function(e,t,i){var n=this;return e=e||{},t=t||{},i=i||n.filestack.slice(0)||{},{form:n.formdata,files:i,filenames:n.filenames,extra:n.getExtraData(),response:t,reader:n.reader,jqXHR:e}},listen:function(){var t=this,i=t.$element,o=t.$captionContainer,r=t.$btnFile,a=i.closest("form"),s=t.$container;n(i,"change",e.proxy(t.change,t)),n(r,"click",function(){t.raise("filebrowse"),t.isError&&!t.isUploadable&&t.clear(),o.focus()}),n(a,"reset",e.proxy(t.reset,t)),n(s.find(".fileinput-remove:not([disabled])"),"click",e.proxy(t.clear,t)),n(s.find(".fileinput-cancel"),"click",e.proxy(t.cancel,t)),t.isUploadable&&t.dropZoneEnabled&&t.showPreview&&t.initDragDrop(),t.isUploadable||n(a,"submit",e.proxy(t.submitForm,t)),n(t.$container.find(".fileinput-upload"),"click",function(i){var n,o=e(this),r=!o.hasClass("disabled")&&q(o.attr("disabled"));return t.isUploadable?(i.preventDefault(),void(r&&t.upload())):void(r&&"submit"!==o.attr("type")&&(n=o.closest("form"),n.length&&n.trigger("submit"),i.preventDefault()))})},submitForm:function(){var e=this,t=e.$element,i=t.get(0).files;return i&&e.minFileCount>0&&e.getFileCount(i.length)<e.minFileCount?(e.noFilesError({}),!1):!e.abort({})},abort:function(t){var i,n=this;return n.ajaxAborted&&"object"==typeof n.ajaxAborted&&void 0!==n.ajaxAborted.message?(i=e.extend(n.getOutData(),t),i.abortData=n.ajaxAborted.data||{},i.abortMessage=n.ajaxAborted.message,n.cancel(),n.setProgress(100),n.showUploadError(n.ajaxAborted.message,i,"filecustomerror"),!0):!1},noFilesError:function(e){var t=this,i=t.minFileCount>1?t.filePlural:t.fileSingle,n=t.msgFilesTooLess.replace("{n}",t.minFileCount).replace("{files}",i),o=t.$errorContainer;t.addError(n),t.isError=!0,t.updateFileDetails(0),o.fadeIn(800),t.raise("fileerror",[e]),t.clearFileInput(),c(t.$container,"has-error")},setProgress:function(e,t){var i=this,n=Math.min(e,100),o=100>n?i.progressTemplate:i.progressCompleteTemplate;t=t||i.$progress,q(o)||t.html(o.replace(/\{percent}/g,n))},lock:function(){var e=this;e.resetErrors(),e.disable(),e.showRemove&&c(e.$container.find(".fileinput-remove"),"hide"),e.showCancel&&e.$container.find(".fileinput-cancel").removeClass("hide"),e.raise("filelock",[e.filestack,e.getExtraData()])},unlock:function(e){var t=this;void 0===e&&(e=!0),t.enable(),t.showCancel&&c(t.$container.find(".fileinput-cancel"),"hide"),t.showRemove&&t.$container.find(".fileinput-remove").removeClass("hide"),e&&t.resetFileStack(),t.raise("fileunlock",[t.filestack,t.getExtraData()])},resetFileStack:function(){var t=this,i=0,n=[],o=[];t.getThumbs().each(function(){var r=e(this),a=r.attr("data-fileindex"),s=t.filestack[a];-1!==a&&(void 0!==s?(n[i]=s,o[i]=t.getFileName(s),r.attr({id:t.previewInitId+"-"+i,"data-fileindex":i}),i++):r.attr({id:"uploaded-"+X(),"data-fileindex":"-1"}))}),t.filestack=n,t.filenames=o},destroy:function(){var e=this,t=e.$container;t.find(".file-drop-zone").off(),e.$element.insertBefore(t).off(".fileinput").removeData(),t.off().remove()},refresh:function(t){var i=this,n=i.$element;t=t?e.extend(i.options,t):i.options,i.destroy(),n.fileinput(t),n.val()&&n.trigger("change.fileinput")},initDragDrop:function(){var t=this,i=t.$container.find(".file-drop-zone"),o="dragenter.fileinput dragover.fileinput drop.fileinput";n(i,"dragenter.fileinput dragover.fileinput",function(i){var n=e.inArray("Files",i.originalEvent.dataTransfer.types)>-1;return i.stopPropagation(),i.preventDefault(),t.isDisabled||!n?(i.originalEvent.dataTransfer.effectAllowed="none",void(i.originalEvent.dataTransfer.dropEffect="none")):void c(e(this),"file-highlighted")},!0),n(i,"dragleave",function(i){i.stopPropagation(),i.preventDefault(),t.isDisabled||e(this).removeClass("file-highlighted")}),n(i,"drop",function(i){i.preventDefault(),t.isDisabled||q(i.originalEvent.dataTransfer.files)||(t.change(i,"dragdrop"),e(this).removeClass("file-highlighted"))}),n(e(document),o,function(e){e.stopPropagation(),e.preventDefault()},!0)},setFileDropZoneTitle:function(){var e=this,t=e.$container.find(".file-drop-zone");t.find("."+e.dropZoneTitleClass).remove(),e.isUploadable&&e.showPreview&&0!==t.length&&!(e.getFileStack().length>0)&&e.dropZoneEnabled&&(0===t.find(".file-preview-frame").length&&q(e.defaultPreviewContent)&&t.prepend('<div class="'+e.dropZoneTitleClass+'">'+e.dropZoneTitle+"</div>"),e.$container.removeClass("file-input-new"),c(e.$container,"file-input-ajax-new"))},errorsExist:function(){var t,i=this;return i.$errorContainer.find("li").length?!0:(t=e(document.createElement("div")).html(i.$errorContainer.html()),t.find("span.kv-error-close").remove(),t.find("ul").remove(),e.trim(t.text()).length?!0:!1)},getMsgSelected:function(e){var t=this,i=1===e?t.fileSingle:t.filePlural;return t.msgSelected.replace("{n}",e).replace("{files}",i)},renderThumbProgress:function(){return'<div class="file-thumb-progress hide">'+this.progressTemplate.replace(/\{percent}/g,"0")+"</div>"},renderFileFooter:function(e,t){var i,n,o=this,r=o.fileActionSettings,a=o.getLayoutTemplate("footer");return o.isUploadable?(i=a.replace(/\{actions}/g,o.renderFileActions(!0,!0,!1,!1,!1)),n=i.replace(/\{caption}/g,e).replace(/\{width}/g,t).replace(/\{progress}/g,o.renderThumbProgress()).replace(/\{indicator}/g,r.indicatorNew).replace(/\{indicatorTitle}/g,r.indicatorNewTitle)):n=a.replace(/\{actions}/g,"").replace(/\{caption}/g,e).replace(/\{progress}/g,"").replace(/\{width}/g,t).replace(/\{indicator}/g,"").replace(/\{indicatorTitle}/g,""),n=Z(n,o.previewThumbTags)},renderFileActions:function(e,t,i,n,o){if(!e&&!t)return"";var r=this,a=n===!1?"":' data-url="'+n+'"',s=o===!1?"":' data-key="'+o+'"',l=r.getLayoutTemplate("actionDelete"),c="",d=r.getLayoutTemplate("actions"),u=r.otherActionButtons.replace(/\{dataKey}/g,s),f=r.fileActionSettings,p=i?f.removeClass+" disabled":f.removeClass;return l=l.replace(/\{removeClass}/g,p).replace(/\{removeIcon}/g,f.removeIcon).replace(/\{removeTitle}/g,f.removeTitle).replace(/\{dataUrl}/g,a).replace(/\{dataKey}/g,s),e&&(c=r.getLayoutTemplate("actionUpload").replace(/\{uploadClass}/g,f.uploadClass).replace(/\{uploadIcon}/g,f.uploadIcon).replace(/\{uploadTitle}/g,f.uploadTitle)),d.replace(/\{delete}/g,l).replace(/\{upload}/g,c).replace(/\{other}/g,u)},setThumbStatus:function(e,t){var i=this;if(i.showPreview){var n="indicator"+t,o=n+"Title",r="file-preview-"+t.toLowerCase(),a=e.find(".file-upload-indicator"),s=i.fileActionSettings;e.removeClass("file-preview-success file-preview-error file-preview-loading"),"Error"===t&&e.find(".kv-file-upload").attr("disabled",!0),a.html(s[n]),a.attr("title",s[o]),e.addClass(r)}},clearPreview:function(){var e=this,t=e.showUploadedThumbs?e.$preview.find(".file-preview-frame:not(.file-preview-success)"):e.$preview.find(".file-preview-frame");t.remove(),e.$preview.find(".file-preview-frame").length&&e.showPreview||e.resetUpload(),e.validateDefaultPreview()},initPreview:function(e){var t,i=this,n=i.initialCaption||"";return o.count(i.id)?(t=o.out(i.id),n=e&&i.initialCaption?i.initialCaption:t.caption,i.$preview.html(t.content),i.setCaption(n),void(q(t.content)||i.$container.removeClass("file-input-new"))):(i.clearPreview(),void(e?i.setCaption(n):i.initCaption()))},initPreviewDeletes:function(){var t=this,i=t.deleteExtraData||{},r=function(){var e=t.isUploadable?o.count(t.id):t.$element.get(0).files.length;0!==t.$preview.find(".kv-file-remove").length||e||(t.reset(),t.initialCaption="")};t.$preview.find(".kv-file-remove").each(function(){var a=e(this),s=a.data("url")||t.deleteUrl,l=a.data("key");if(!q(s)&&void 0!==l){var d,u,f,p,h=a.closest(".file-preview-frame"),m=o.data[t.id],g=h.data("fileindex");g=parseInt(g.replace("init_","")),f=q(m.config)&&q(m.config[g])?null:m.config[g],p=q(f)||q(f.extra)?i:f.extra,"function"==typeof p&&(p=p()),u={id:a.attr("id"),key:l,extra:p},d=e.extend({url:s,type:"POST",dataType:"json",data:e.extend({key:l},p),beforeSend:function(e){t.ajaxAborted=!1,t.raise("filepredelete",[l,e,p]),t.ajaxAborted?e.abort():(c(h,"file-uploading"),c(a,"disabled"))},success:function(e,i,n){var s,c;return q(e)||q(e.error)?(o.unset(t.id,g),s=o.count(t.id),c=s>0?t.getMsgSelected(s):"",t.raise("filedeleted",[l,n,p]),t.setCaption(c),h.removeClass("file-uploading").addClass("file-deleted"),void h.fadeOut("slow",function(){t.clearObjects(h),h.remove(),r(),s||0!==t.getFileStack().length||(t.setCaption(""),t.reset())})):(u.jqXHR=n,u.response=e,t.showError(e.error,u,"filedeleteerror"),h.removeClass("file-uploading"),a.removeClass("disabled"),void r())},error:function(e,i,n){var o=t.parseError(e,n);u.jqXHR=e,u.response={},t.showError(o,u,"filedeleteerror"),h.removeClass("file-uploading"),r()}},t.ajaxDeleteSettings),n(a,"click",function(){return t.validateMinCount()?void e.ajax(d):!1})}})},clearObjects:function(t){t.find("video audio").each(function(){this.pause(),e(this).remove()}),t.find("img object div").each(function(){e(this).remove()})},clearFileInput:function(){var t,i,n,o=this,r=o.$element;q(r.val())||(o.isIE9||o.isIE10?(t=r.closest("form"),i=e(document.createElement("form")),n=e(document.createElement("div")),r.before(n),t.length?t.after(i):n.after(i),i.append(r).trigger("reset"),n.before(r).remove(),i.remove()):r.val(""),o.fileInputCleared=!0)},resetUpload:function(){var e=this;e.uploadCache={content:[],config:[],tags:[],append:!0},e.uploadCount=0,e.uploadStatus={},e.uploadLog=[],e.uploadAsyncCount=0,e.loadedImages=[],e.totalImagesCount=0,e.$btnUpload.removeAttr("disabled"),e.setProgress(0),c(e.$progress,"hide"),e.resetErrors(!1),e.ajaxAborted=!1,e.ajaxRequests=[],e.resetCanvas()},resetCanvas:function(){var e=this;e.canvas&&e.imageCanvasContext&&e.imageCanvasContext.clearRect(0,0,e.canvas.width,e.canvas.height)},cancel:function(){var t,i=this,n=i.ajaxRequests,o=n.length;if(o>0)for(t=0;o>t;t+=1)i.cancelling=!0,n[t].abort();i.getThumbs().each(function(){var t=e(this),n=t.attr("data-fileindex");t.removeClass("file-uploading"),void 0!==i.filestack[n]&&(t.find(".kv-file-upload").removeClass("disabled").removeAttr("disabled"),t.find(".kv-file-remove").removeClass("disabled").removeAttr("disabled")),i.unlock()})},cleanMemory:function(e){var t=e.is("img")?e.attr("src"):e.find("source").attr("src");K.revokeObjectURL(t)},hasInitialPreview:function(){var e=this;return!e.overwriteInitial&&o.count(e.id)},clear:function(){var t,i=this;i.$btnUpload.removeAttr("disabled"),i.getThumbs().find("video,audio,img").each(function(){i.cleanMemory(e(this))}),i.resetUpload(),i.clearStack(),i.clearFileInput(),i.resetErrors(!0),i.raise("fileclear"),i.hasInitialPreview()?(i.showFileIcon(),i.resetPreview(),i.initPreviewDeletes(),i.$container.removeClass("file-input-new")):(i.getThumbs().each(function(){i.clearObjects(e(this))}),i.isUploadable&&(o.data[i.id]={}),i.$preview.html(""),t=!i.overwriteInitial&&i.initialCaption.length>0?i.initialCaption:"",i.setCaption(t),i.$caption.attr("title",""),c(i.$container,"file-input-new"),i.validateDefaultPreview()),0===i.$container.find(".file-preview-frame").length&&(i.initCaption()||i.$captionContainer.find(".kv-caption-icon").hide()),i.hideFileIcon(),i.raise("filecleared"),i.$captionContainer.focus(),i.setFileDropZoneTitle()},resetPreview:function(){var e,t,i=this;o.count(i.id)?(e=o.out(i.id),i.$preview.html(e.content),t=i.initialCaption?i.initialCaption:e.caption,i.setCaption(t)):(i.clearPreview(),i.initCaption())},clearDefaultPreview:function(){var e=this;e.$preview.find(".file-default-preview").remove()},validateDefaultPreview:function(){var e=this;e.showPreview&&!q(e.defaultPreviewContent)&&(e.$preview.html('<div class="file-default-preview">'+e.defaultPreviewContent+"</div>"),e.$container.removeClass("file-input-new"))},resetPreviewThumbs:function(e){var t,i=this;return e?(i.clearPreview(),void i.clearStack()):void(i.hasInitialPreview()?(t=o.out(i.id),i.$preview.html(t.content),i.setCaption(t.caption),i.initPreviewDeletes()):i.clearPreview())},reset:function(){var e=this;e.resetPreview(),e.$container.find(".fileinput-filename").text(""),e.raise("filereset"),c(e.$container,"file-input-new"),(e.$preview.find(".file-preview-frame").length||e.isUploadable&&e.dropZoneEnabled)&&e.$container.removeClass("file-input-new"),e.setFileDropZoneTitle(),e.clearStack(),e.formdata={}},disable:function(){var e=this;e.isDisabled=!0,e.raise("filedisabled"),e.$element.attr("disabled","disabled"),e.$container.find(".kv-fileinput-caption").addClass("file-caption-disabled"),e.$container.find(".btn-file, .fileinput-remove, .fileinput-upload, .file-preview-frame button").attr("disabled",!0),e.initDragDrop()},enable:function(){var e=this;e.isDisabled=!1,e.raise("fileenabled"),e.$element.removeAttr("disabled"),e.$container.find(".kv-fileinput-caption").removeClass("file-caption-disabled"),e.$container.find(".btn-file, .fileinput-remove, .fileinput-upload, .file-preview-frame button").removeAttr("disabled"),e.initDragDrop()},getThumbs:function(e){return e=e||"",this.$preview.find(".file-preview-frame:not(.file-preview-initial)"+e)},getExtraData:function(e,t){var i=this,n=i.uploadExtraData;return"function"==typeof i.uploadExtraData&&(n=i.uploadExtraData(e,t)),n},uploadExtra:function(t,i){var n=this,o=n.getExtraData(t,i);0!==o.length&&e.each(o,function(e,t){n.formdata.append(e,t)})},setAsyncUploadStatus:function(t,i,n){var o=this,r=0;o.setProgress(i,e("#"+t).find(".file-thumb-progress")),o.uploadStatus[t]=i,e.each(o.uploadStatus,function(e,t){r+=t}),o.setProgress(Math.ceil(r/n))},initXhr:function(e,t,i){var n=this;return e.upload&&e.upload.addEventListener("progress",function(e){var o=0,r=e.loaded||e.position,a=e.total;e.lengthComputable&&(o=Math.ceil(r/a*100)),t?n.setAsyncUploadStatus(t,o,i):n.setProgress(Math.ceil(o))},!1),e},ajaxSubmit:function(t,i,n,o,r,a){var s,l=this;l.raise("filepreajax",[r,a]),l.uploadExtra(r,a),s=e.extend({xhr:function(){var t=e.ajaxSettings.xhr();return l.initXhr(t,r,l.getFileStack().length)},url:l.uploadUrl,type:"POST",dataType:"json",data:l.formdata,cache:!1,processData:!1,contentType:!1,beforeSend:t,success:i,complete:n,error:o},l.ajaxSettings),l.ajaxRequests.push(e.ajax(s))},initUploadSuccess:function(t,i,n){var r,a,s,l,c,d,u,f,p=this;p.showPreview&&"object"==typeof t&&!e.isEmptyObject(t)&&void 0!==t.initialPreview&&t.initialPreview.length>0&&(p.hasInitData=!0,c=t.initialPreview||[],d=t.initialPreviewConfig||[],u=t.initialPreviewThumbTags||[],r=void 0===t.append||t.append?!0:!1,p.overwriteInitial=!1,void 0!==i?n?(f=i.attr("data-fileindex"),p.uploadCache.content[f]=c[0],p.uploadCache.config[f]=d[0],p.uploadCache.tags[f]=u[0],p.uploadCache.append=r):(s=o.add(p.id,c,d[0],u[0],r),a=o.get(p.id,s,!1),l=e(a).hide(),i.after(l).fadeOut("slow",function(){l.fadeIn("slow").css("display:inline-block"),p.initPreviewDeletes(),p.clearFileInput(),i.remove()})):(o.set(p.id,c,d,u,r),p.initPreview(),p.initPreviewDeletes()))},initSuccessThumbs:function(){var t=this;t.showPreview&&t.getThumbs(".file-preview-success").each(function(){var i=e(this),o=i.find(".kv-file-remove");o.removeAttr("disabled"),n(o,"click",function(){var e=t.raise("filesuccessremove",[i.attr("id"),i.data("fileindex")]);t.cleanMemory(i),e!==!1&&i.fadeOut("slow",function(){i.remove(),t.$preview.find(".file-preview-frame").length||t.reset()})})})},checkAsyncComplete:function(){var t,i,n=this;for(i=0;i<n.filestack.length;i++)if(n.filestack[i]&&(t=n.previewInitId+"-"+i,-1===e.inArray(t,n.uploadLog)))return!1;return n.uploadAsyncCount===n.uploadLog.length},uploadSingle:function(t,i,n){var r,a,s,l,d,u,f,p,h,m,g=this,v=g.getFileStack().length,y=new FormData,b=g.previewInitId+"-"+t,w=g.filestack.length>0||!e.isEmptyObject(g.uploadExtraData),x={id:b,index:t};g.formdata=y,g.showPreview&&(a=e("#"+b+":not(.file-preview-initial)"),l=a.find(".kv-file-upload"),d=a.find(".kv-file-remove"),e("#"+b).find(".file-thumb-progress").removeClass("hide")),0===v||!w||l&&l.hasClass("disabled")||g.abort(x)||(m=function(e,t){g.updateStack(e,void 0),g.uploadLog.push(t),g.checkAsyncComplete()&&(g.fileBatchCompleted=!0)},s=function(){g.fileBatchCompleted&&setTimeout(function(){g.showPreview&&(o.set(g.id,g.uploadCache.content,g.uploadCache.config,g.uploadCache.tags,g.uploadCache.append),g.hasInitData&&(g.initPreview(),g.initPreviewDeletes())),g.unlock(),g.clearFileInput(),g.raise("filebatchuploadcomplete",[g.filestack,g.getExtraData()]),g.uploadCount=0,g.uploadStatus={},g.uploadLog=[],g.setProgress(100)},100)},u=function(i){r=g.getOutData(i),g.fileBatchCompleted=!1,g.showPreview&&(a.hasClass("file-preview-success")||(g.setThumbStatus(a,"Loading"),c(a,"file-uploading")),l.attr("disabled",!0),d.attr("disabled",!0)),
n||g.lock(),g.raise("filepreupload",[r,b,t]),x=e.extend(x,r),g.abort(x)&&(i.abort(),g.setProgress(100))},f=function(i,o,s){r=g.getOutData(s,i),x=e.extend(x,r),setTimeout(function(){q(i)||q(i.error)?(g.showPreview&&(g.setThumbStatus(a,"Success"),l.hide(),g.initUploadSuccess(i,a,n)),g.raise("fileuploaded",[r,b,t]),n?m(t,b):g.updateStack(t,void 0)):(g.setThumbStatus(a,"Error"),g.showUploadError(i.error,x),n&&m(t,b))},100)},p=function(){setTimeout(function(){g.showPreview&&(l.removeAttr("disabled"),d.removeAttr("disabled"),a.removeClass("file-uploading")),n?s():g.unlock(!1),g.initSuccessThumbs()},100)},h=function(o,r,s){var l=g.parseError(o,s,n?i[t].name:null);setTimeout(function(){n&&m(t,b),g.uploadStatus[b]=100,g.setThumbStatus(a,"Error"),x=e.extend(x,g.getOutData(o)),g.showUploadError(l,x)},100)},y.append(g.uploadFileAttr,i[t],g.filenames[t]),y.append("file_id",t),g.ajaxSubmit(u,f,p,h,b,t))},uploadBatch:function(){var t,i,n,o,r,a=this,s=a.filestack,l=s.length,d={},u=a.filestack.length>0||!e.isEmptyObject(a.uploadExtraData);a.formdata=new FormData,0!==l&&u&&!a.abort(d)&&(t=function(){e.each(s,function(e){a.updateStack(e,void 0)}),a.clearFileInput()},i=function(t){a.lock();var i=a.getOutData(t);a.showPreview&&a.getThumbs().each(function(){var t=e(this),i=t.find(".kv-file-upload"),n=t.find(".kv-file-remove");t.hasClass("file-preview-success")||(a.setThumbStatus(t,"Loading"),c(t,"file-uploading")),i.attr("disabled",!0),n.attr("disabled",!0)}),a.raise("filebatchpreupload",[i]),a.abort(i)&&(t.abort(),a.setProgress(100))},n=function(i,n,o){var r=a.getOutData(o,i),s=a.getThumbs(),l=0,c=q(i)||q(i.errorkeys)?[]:i.errorkeys;q(i)||q(i.error)?(a.raise("filebatchuploadsuccess",[r]),t(),a.showPreview?(s.each(function(){var t=e(this),i=t.find(".kv-file-upload");t.find(".kv-file-upload").hide(),a.setThumbStatus(t,"Success"),t.removeClass("file-uploading"),i.removeAttr("disabled")}),a.initUploadSuccess(i)):a.reset()):(a.showPreview&&(s.each(function(){var t=e(this),i=t.find(".kv-file-remove"),n=t.find(".kv-file-upload");return t.removeClass("file-uploading"),n.removeAttr("disabled"),i.removeAttr("disabled"),0===c.length?void a.setThumbStatus(t,"Error"):(-1!==e.inArray(l,c)?a.setThumbStatus(t,"Error"):(t.find(".kv-file-upload").hide(),a.setThumbStatus(t,"Success"),a.updateStack(l,void 0)),void l++)}),a.initUploadSuccess(i)),a.showUploadError(i.error,r,"filebatchuploaderror"))},o=function(){a.setProgress(100),a.unlock(),a.initSuccessThumbs(),a.clearFileInput(),a.raise("filebatchuploadcomplete",[a.filestack,a.getExtraData()])},r=function(t,i,n){var o=a.getOutData(t),r=a.parseError(t,n);a.showUploadError(r,o,"filebatchuploaderror"),a.uploadFileCount=l-1,a.showPreview&&(a.getThumbs().each(function(){var t=e(this),i=t.attr("data-fileindex");t.removeClass("file-uploading"),void 0!==a.filestack[i]&&a.setThumbStatus(t,"Error")}),a.getThumbs().removeClass("file-uploading"),a.getThumbs(" .kv-file-upload").removeAttr("disabled"),a.getThumbs(" .kv-file-delete").removeAttr("disabled"))},e.each(s,function(e,t){q(s[e])||a.formdata.append(a.uploadFileAttr,t,a.filenames[e])}),a.ajaxSubmit(i,n,o,r))},uploadExtraOnly:function(){var e,t,i,n,o=this,r={};o.formdata=new FormData,o.abort(r)||(e=function(e){o.lock();var t=o.getOutData(e);o.raise("filebatchpreupload",[t]),o.setProgress(50),r.data=t,r.xhr=e,o.abort(r)&&(e.abort(),o.setProgress(100))},t=function(e,t,i){var n=o.getOutData(i,e);q(e)||q(e.error)?(o.raise("filebatchuploadsuccess",[n]),o.clearFileInput(),o.initUploadSuccess(e)):o.showUploadError(e.error,n,"filebatchuploaderror")},i=function(){o.setProgress(100),o.unlock(),o.clearFileInput(),o.raise("filebatchuploadcomplete",[o.filestack,o.getExtraData()])},n=function(e,t,i){var n=o.getOutData(e),a=o.parseError(e,i);r.data=n,o.showUploadError(a,n,"filebatchuploaderror")},o.ajaxSubmit(e,t,i,n))},upload:function(){var t,i,n,o=this,r=o.getFileStack().length,a={},s=!e.isEmptyObject(o.getExtraData());if(o.minFileCount>0&&o.getFileCount(r)<o.minFileCount)return void o.noFilesError(a);if(o.isUploadable&&!o.isDisabled&&(0!==r||s)){if(o.resetUpload(),o.$progress.removeClass("hide"),o.uploadCount=0,o.uploadStatus={},o.uploadLog=[],o.lock(),o.setProgress(2),0===r&&s)return void o.uploadExtraOnly();if(n=o.filestack.length,o.hasInitData=!1,o.uploadAsync){for(i=o.getOutData(),o.raise("filebatchpreupload",[i]),o.fileBatchCompleted=!1,o.uploadCache={content:[],config:[],tags:[],append:!0},o.uploadAsyncCount=o.getFileStack().length,t=0;n>t;t++)o.uploadCache.content[t]=null,o.uploadCache.config[t]=null,o.uploadCache.tags[t]=null;for(t=0;n>t;t++)void 0!==o.filestack[t]&&o.uploadSingle(t,o.filestack,!0)}else o.uploadBatch()}},initFileActions:function(){var t=this;t.showPreview&&(t.$preview.find(".kv-file-remove").each(function(){var i,r,a,s,l=e(this),c=l.closest(".file-preview-frame"),d=c.attr("id"),u=c.attr("data-fileindex");n(l,"click",function(){return s=t.raise("filepreremove",[d,u]),s!==!1&&t.validateMinCount()?(i=c.hasClass("file-preview-error"),t.cleanMemory(c),void c.fadeOut("slow",function(){t.updateStack(u,void 0),t.clearObjects(c),c.remove(),d&&i&&t.$errorContainer.find('li[data-file-id="'+d+'"]').fadeOut("fast",function(){e(this).remove(),t.errorsExist()||t.resetErrors()});var n=t.getFileStack(!0),s=n.length,l=o.count(t.id),f=t.showPreview&&t.$preview.find(".file-preview-frame").length;t.clearFileInput(),0!==s||0!==l||f?(r=l+s,a=r>1?t.getMsgSelected(r):n[0]?t.getFileNames()[0]:"",t.setCaption(a)):t.reset(),t.raise("fileremoved",[d,u])})):!1})}),t.$preview.find(".kv-file-upload").each(function(){var i=e(this);n(i,"click",function(){var e=i.closest(".file-preview-frame"),n=e.attr("data-fileindex");e.hasClass("file-preview-error")||t.uploadSingle(n,t.filestack,!1)})}))},hideFileIcon:function(){this.overwriteInitial&&this.$captionContainer.find(".kv-caption-icon").hide()},showFileIcon:function(){this.$captionContainer.find(".kv-caption-icon").show()},addError:function(e){var t=this,i=t.$errorContainer;e&&i.length&&(i.html(t.errorCloseButton+e),i.find(".kv-error-close").off("click").on("click",function(){i.fadeOut("slow")}))},resetErrors:function(e){var t=this,i=t.$errorContainer;t.isError=!1,t.$container.removeClass("has-error"),i.html(""),e?i.fadeOut("slow"):i.hide()},showFolderError:function(e){var t=this,i=t.$errorContainer;e&&(t.addError(t.msgFoldersNotAllowed.replace(/\{n}/g,e)),i.fadeIn(800),c(t.$container,"has-error"),t.raise("filefoldererror",[e]))},showUploadError:function(e,t,i){var n=this,o=n.$errorContainer,r=i||"fileuploaderror",a=t&&t.id?'<li data-file-id="'+t.id+'">'+e+"</li>":"<li>"+e+"</li>";return 0===o.find("ul").length?n.addError("<ul>"+a+"</ul>"):o.find("ul").append(a),o.fadeIn(800),n.raise(r,[t]),n.$container.removeClass("file-input-new"),c(n.$container,"has-error"),!0},showError:function(e,t,i){var n=this,o=n.$errorContainer,r=i||"fileerror";return t=t||{},t.reader=n.reader,n.addError(e),o.fadeIn(800),n.raise(r,[t]),n.isUploadable||n.clearFileInput(),n.$container.removeClass("file-input-new"),c(n.$container,"has-error"),n.$btnUpload.attr("disabled",!0),!0},errorHandler:function(e,t){var i=this,n=e.target.error;n.code===n.NOT_FOUND_ERR?i.showError(i.msgFileNotFound.replace("{name}",t)):n.code===n.SECURITY_ERR?i.showError(i.msgFileSecured.replace("{name}",t)):n.code===n.NOT_READABLE_ERR?i.showError(i.msgFileNotReadable.replace("{name}",t)):n.code===n.ABORT_ERR?i.showError(i.msgFilePreviewAborted.replace("{name}",t)):i.showError(i.msgFilePreviewError.replace("{name}",t))},parseFileType:function(e){var t,i,n,o,r=this;for(o=0;o<U.length;o+=1)if(n=U[o],t=W(n,r.fileTypeSettings)?r.fileTypeSettings[n]:z[n],i=t(e.type,e.name)?n:"",!q(i))return i;return"other"},previewDefault:function(t,i,n){if(this.showPreview){var o=this,r="",a=t?t.name:"",s=K.createObjectURL(t),l=i.slice(i.lastIndexOf("-")+1),c=o.previewSettings.other||B.other,d=o.renderFileFooter(t.name,c.width),u=o.parseFilePreviewIcon(o.getPreviewTemplate("other"),a);n===!0&&(o.isUploadable||(d+='<div class="file-other-error" title="'+o.fileActionSettings.indicatorErrorTitle+'">'+o.fileActionSettings.indicatorError+"</div>")),o.clearDefaultPreview(),o.$preview.append("\n"+u.replace(/\{previewId}/g,i).replace(/\{frameClass}/g,r).replace(/\{fileindex}/g,l).replace(/\{caption}/g,o.slug(t.name)).replace(/\{width}/g,c.width).replace(/\{height}/g,c.height).replace(/\{type}/g,t.type).replace(/\{data}/g,s).replace(/\{footer}/g,d)),n===!0&&o.isUploadable&&o.setThumbStatus(e("#"+i),"Error")}},previewFile:function(e,t,i,n,o){if(this.showPreview){var r,a,s,l=this,c=l.parseFileType(t),d=t?t.name:"",u=l.slug(d),f=l.allowedPreviewTypes,p=l.allowedPreviewMimeTypes,h=l.getPreviewTemplate(c),m=f&&f.indexOf(c)>=0,g=W(c,l.previewSettings)?l.previewSettings[c]:B[c],v=p&&-1!==p.indexOf(t.type),y=l.renderFileFooter(u,g.width),b="",w=n.slice(n.lastIndexOf("-")+1);m||v?(h=l.parseFilePreviewIcon(h,d.split(".").pop()),"text"===c?(a=G(i.target.result),s="text-"+X(),r=h.replace(/\{zoom}/g,l.getLayoutTemplate("zoom")),b=l.getLayoutTemplate("modal").replace("{id}",s).replace(/\{title}/g,u).replace(/\{body}/g,a).replace(/\{heading}/g,l.msgZoomModalHeading),r=r.replace(/\{previewId}/g,n).replace(/\{caption}/g,u).replace(/\{width}/g,g.width).replace(/\{height}/g,g.height).replace(/\{frameClass}/g,"").replace(/\{zoomInd}/g,l.zoomIndicator).replace(/\{footer}/g,y).replace(/\{fileindex}/g,w).replace(/\{type}/g,t.type).replace(/\{zoomTitle}/g,l.msgZoomTitle).replace(/\{dialog}/g,"$('#"+s+"').modal('show')").replace(/\{data}/g,a)+b):r=h.replace(/\{previewId}/g,n).replace(/\{caption}/g,u).replace(/\{frameClass}/g,"").replace(/\{type}/g,t.type).replace(/\{fileindex}/g,w).replace(/\{width}/g,g.width).replace(/\{height}/g,g.height).replace(/\{footer}/g,y).replace(/\{data}/g,o),l.clearDefaultPreview(),l.$preview.append("\n"+r),l.validateImage(e,n,u,t.type)):l.previewDefault(t,n)}},slugDefault:function(e){return q(e)?"":e.split(/(\\|\/)/g).pop().replace(/[^\w\u00C0-\u017F\-.\\\/ ]+/g,"")},readFiles:function(t){this.reader=new FileReader;var i,n=this,o=n.$element,r=n.$preview,a=n.reader,s=n.$previewContainer,l=n.$previewStatus,c=n.msgLoading,d=n.msgProgress,u=n.previewInitId,f=t.length,p=n.fileTypeSettings,h=n.filestack.length,m=function(o,r,a,s){var l=e.extend(n.getOutData({},{},t),{id:a,index:s}),c={id:a,index:s,file:r,files:t};return n.previewDefault(r,a,!0),n.isUploadable&&n.pushStack(void 0),setTimeout(i(s+1),100),n.initFileActions(),n.isUploadable?n.showUploadError(o,l):n.showError(o,c)};n.loadedImages=[],n.totalImagesCount=0,e.each(t,function(e,t){var i="image",o=W(i,n.fileTypeSettings)?n.fileTypeSettings[i]:z[i];o&&o(t.type)&&n.totalImagesCount++}),i=function(e){if(q(o.attr("multiple"))&&(f=1),e>=f)return n.isUploadable&&n.filestack.length>0?n.raise("filebatchselected",[n.getFileStack()]):n.raise("filebatchselected",[t]),s.removeClass("file-thumb-loading"),void l.html("");var g,v,y,b,w,x,C=h+e,_=u+"-"+C,k=t[e],S=n.slug(k.name),T=(k.size||0)/1e3,E="",$=K.createObjectURL(k),j=0,A=n.allowedFileTypes,N=q(A)?"":A.join(", "),I=n.allowedFileExtensions,D=q(I)?"":I.join(", ");if(q(I)||(E=new RegExp("\\.("+I.join("|")+")$","i")),T=T.toFixed(2),n.maxFileSize>0&&T>n.maxFileSize)return b=n.msgSizeTooLarge.replace("{name}",S).replace("{size}",T).replace("{maxSize}",n.maxFileSize),void(n.isError=m(b,k,_,e));if(!q(A)&&M(A)){for(y=0;y<A.length;y+=1)w=A[y],v=p[w],x=void 0!==v&&v(k.type,S),j+=q(x)?0:x.length;if(0===j)return b=n.msgInvalidFileType.replace("{name}",S).replace("{types}",N),void(n.isError=m(b,k,_,e))}return 0!==j||q(I)||!M(I)||q(E)||(x=S.match(E),j+=q(x)?0:x.length,0!==j)?n.showPreview?(r.length>0&&void 0!==FileReader?(l.html(c.replace("{show}",e+1).replace("{files}",f)),s.addClass("file-thumb-loading"),a.onerror=function(e){n.errorHandler(e,S)},a.onload=function(t){n.previewFile(e,k,t,_,$),n.initFileActions()},a.onloadend=function(){b=d.replace("{show}",e+1).replace("{files}",f).replace("{percent}",50).replace("{name}",S),setTimeout(function(){l.html(b),n.updateFileDetails(f),i(e+1)},100),n.raise("fileloaded",[k,_,e,a])},a.onprogress=function(t){if(t.lengthComputable){var i=t.loaded/t.total*100,n=Math.ceil(i);b=d.replace("{show}",e+1).replace("{files}",f).replace("{percent}",n).replace("{name}",S),setTimeout(function(){l.html(b)},100)}},g=W("text",p)?p.text:z.text,g(k.type,S)?a.readAsText(k,n.textEncoding):a.readAsArrayBuffer(k)):(n.previewDefault(k,_),setTimeout(function(){i(e+1),n.updateFileDetails(f)},100),n.raise("fileloaded",[k,_,e,a])),void n.pushStack(k)):(n.pushStack(k),setTimeout(i(e+1),100),void n.raise("fileloaded",[k,_,e,a])):(b=n.msgInvalidFileExtension.replace("{name}",S).replace("{extensions}",D),void(n.isError=m(b,k,_,e)))},i(0),n.updateFileDetails(f,!1)},updateFileDetails:function(e){var t=this,i=t.$element,n=t.getFileStack(),r=i.val()||n.length&&n[0].name||"",a=t.slug(r),s=t.isUploadable?n.length:e,l=o.count(t.id)+s,c=s>1?t.getMsgSelected(l):a;t.isError?(t.$previewContainer.removeClass("file-thumb-loading"),t.$previewStatus.html(""),t.$captionContainer.find(".kv-caption-icon").hide()):t.showFileIcon(),t.setCaption(c,t.isError),t.$container.removeClass("file-input-new file-input-ajax-new"),1===arguments.length&&t.raise("fileselect",[e,a]),o.count(t.id)&&t.initPreviewDeletes()},validateMinCount:function(){var e=this,t=e.isUploadable?e.getFileStack().length:e.$element.get(0).files.length;return e.validateInitialCount&&e.minFileCount>0&&e.getFileCount(t-1)<e.minFileCount?(e.noFilesError({}),!1):!0},getFileCount:function(e){var t=this,i=0;return t.validateInitialCount&&!t.overwriteInitial&&(i=o.count(t.id),e+=i),e},change:function(t){var i=this,n=i.$element;if(!i.isUploadable&&q(n.val())&&i.fileInputCleared)return void(i.fileInputCleared=!1);i.fileInputCleared=!1;var r,a,s,l,c,d,u=arguments.length>1,f=u?t.originalEvent.dataTransfer.files:n.get(0).files,p=q(n.attr("multiple")),h=0,m=0,g=i.filestack.length,v=i.isUploadable,y=p&&g>0,b=function(t,n,o,r){var a=e.extend(i.getOutData({},{},f),{id:o,index:r}),s={id:o,index:r,file:n,files:f};return i.isUploadable?i.showUploadError(t,a):i.showError(t,s)};if(i.reader=null,i.resetUpload(),i.hideFileIcon(),i.isUploadable&&i.$container.find(".file-drop-zone ."+i.dropZoneTitleClass).remove(),u)for(r=[];f[h];)l=f[h],l.type||l.size%4096!==0?r.push(l):m++,h++;else r=void 0===t.target.files?t.target&&t.target.value?[{name:t.target.value.replace(/^.+\\/,"")}]:[]:t.target.files;if(q(r)||0===r.length)return v||i.clear(),i.showFolderError(m),void i.raise("fileselectnone");if(i.resetErrors(),d=r.length,s=i.isUploadable?i.getFileStack().length+d:d,s=i.getFileCount(s),i.maxFileCount>0&&s>i.maxFileCount){if(!i.autoReplace||d>i.maxFileCount)return c=i.autoReplace&&d>i.maxFileCount?d:s,a=i.msgFilesTooMany.replace("{m}",i.maxFileCount).replace("{n}",c),i.isError=b(a,null,null,null),i.$captionContainer.find(".kv-caption-icon").hide(),i.setCaption("",!0),void i.$container.removeClass("file-input-new file-input-ajax-new");s>i.maxFileCount&&i.resetPreviewThumbs(v)}else!v||y?(i.resetPreviewThumbs(!1),y&&i.clearStack()):!v||0!==g||o.count(i.id)&&!i.overwriteInitial||i.resetPreviewThumbs(!0);i.isPreviewable?i.readFiles(r):i.updateFileDetails(1),i.showFolderError(m)},getFileName:function(e){return e&&e.name?this.slug(e.name):void 0},getFileNames:function(e){var t=this;return t.filenames.filter(function(t){return e?void 0!==t:void 0!==t&&null!==t})},getFileStack:function(e){var t=this;return t.filestack.filter(function(t){return e?void 0!==t:void 0!==t&&null!==t})},clearStack:function(){var e=this;e.filestack=[],e.filenames=[]},updateStack:function(e,t){var i=this;i.filestack[e]=t,i.filenames[e]=i.getFileName(t)},pushStack:function(e){var t=this;t.filestack.push(e),t.filenames.push(t.getFileName(e))},checkDimensions:function(e,t,i,n,o,r,a){var s,l,c,d,u=this,f="Small"===t?"min":"max",p=u[f+"Image"+r];!q(p)&&i.length&&(c=i[0],l="Width"===r?c.naturalWidth||c.width:c.naturalHeight||c.height,d="Small"===t?l>=p:p>=l,d||(s=u["msgImage"+r+t].replace("{name}",o).replace("{size}",p),u.showUploadError(s,a),u.setThumbStatus(n,"Error"),u.updateStack(e,null)))},validateImage:function(e,t,i,o){var r,a,s,l=this,c=l.$preview,d=c.find("#"+t),u=d.find("img");i=i||"Untitled",u.length&&n(u,"load",function(){a=d.width(),s=c.width(),a>s&&(u.css("width","100%"),d.css("width","97%")),r={ind:e,id:t},l.checkDimensions(e,"Small",u,d,i,"Width",r),l.checkDimensions(e,"Small",u,d,i,"Height",r),l.resizeImage||(l.checkDimensions(e,"Large",u,d,i,"Width",r),l.checkDimensions(e,"Large",u,d,i,"Height",r)),l.raise("fileimageloaded",[t]),l.loadedImages.push({ind:e,img:u,thumb:d,pid:t,typ:o}),l.validateAllImages(),K.revokeObjectURL(u.attr("src"))})},validateAllImages:function(){var e,t,i,n,o,r,a,s=this,l={};if(s.loadedImages.length===s.totalImagesCount&&(s.raise("fileimagesloaded"),s.resizeImage)){for(a=s.isUploadable?s.showUploadError:s.showError,e=0;e<s.loadedImages.length;e++)t=s.loadedImages[e],i=t.img,n=t.thumb,o=t.pid,r=t.ind,l={id:o,index:r},s.getResizedImage(i[0],t.typ,o,r)||(a(s.msgImageResizeError,l,"fileimageresizeerror"),s.setThumbStatus(n,"Error"),s.updateStack(r,void 0));s.raise("fileimagesresized")}},getResizedImage:function(e,t,i,n){var o,r,a=this,s=e.naturalWidth,l=e.naturalHeight,c=1,d=a.maxImageWidth||s,u=a.maxImageHeight||l,f=s&&l,p=a.imageCanvas,h=a.imageCanvasContext;if(!f)return!1;if(s===d&&l===u)return!0;t=t||a.resizeDefaultImageType,o=s>d,r=l>u,c="width"===a.resizePreference?o?d/s:r?u/l:1:r?u/l:o?d/s:1,a.resetCanvas(),s*=c,l*=c,p.width=s,p.height=l;try{return h.drawImage(e,0,0,s,l),p.toBlob(function(e){a.raise("fileimageresized",[i,n]),a.filestack[n]=e},t,a.resizeQuality),!0}catch(m){return!1}},initCaption:function(){var e=this,t=e.initialCaption||"";return e.overwriteInitial||q(t)?(e.$caption.html(""),!1):(e.setCaption(t),!0)},setCaption:function(t,i){var n,o,r=this;if(i)n=e("<div>"+r.msgValidationError+"</div>").text(),o='<span class="'+r.msgValidationErrorClass+'">'+r.msgValidationErrorIcon+n+"</span>";else{if(q(t)||0===r.$caption.length)return;n=e("<div>"+t+"</div>").text(),o=r.getLayoutTemplate("icon")+n}r.$caption.html(o),r.$caption.attr("title",n),r.$captionContainer.find(".file-caption-ellipsis").attr("title",n)},initBrowse:function(e){var t=this;t.$btnFile=e.find(".btn-file"),t.$btnFile.append(t.$element)},createContainer:function(){var t=this,i=e(document.createElement("div")).attr({"class":"file-input file-input-new"}).html(t.renderMain());return t.$element.before(i),t.initBrowse(i),i},refreshContainer:function(){var e=this,t=e.$container;t.before(e.$element),t.html(e.renderMain()),e.initBrowse(t)},renderMain:function(){var e=this,t=e.isUploadable&&e.dropZoneEnabled?" file-drop-zone":"file-drop-disabled",i=e.showClose?e.getLayoutTemplate("close"):"",n=e.showPreview?e.getLayoutTemplate("preview").replace(/\{class}/g,e.previewClass).replace(/\{dropClass}/g,t):"",o=e.isDisabled?e.captionClass+" file-caption-disabled":e.captionClass,r=e.captionTemplate.replace(/\{class}/g,o+" kv-fileinput-caption");return e.mainTemplate.replace(/\{class}/g,e.mainClass).replace(/\{preview}/g,n).replace(/\{close}/g,i).replace(/\{caption}/g,r).replace(/\{upload}/g,e.renderButton("upload")).replace(/\{remove}/g,e.renderButton("remove")).replace(/\{cancel}/g,e.renderButton("cancel")).replace(/\{browse}/g,e.renderButton("browse"))},renderButton:function(e){var t=this,i=t.getLayoutTemplate("btnDefault"),n=t[e+"Class"],o=t[e+"Title"],r=t[e+"Icon"],a=t[e+"Label"],s=t.isDisabled?" disabled":"",l="button";switch(e){case"remove":if(!t.showRemove)return"";break;case"cancel":if(!t.showCancel)return"";n+=" hide";break;case"upload":if(!t.showUpload)return"";t.isUploadable&&!t.isDisabled?i=t.getLayoutTemplate("btnLink").replace("{href}",t.uploadUrl):l="submit";break;case"browse":i=t.getLayoutTemplate("btnBrowse");break;default:return""}return n+="browse"===e?" btn-file":" fileinput-"+e+" fileinput-"+e+"-button",q(a)||(a=' <span class="'+t.buttonLabelClass+'">'+a+"</span>"),i.replace("{type}",l).replace("{css}",n).replace("{title}",o).replace("{status}",s).replace("{icon}",r).replace("{label}",a)}},e.fn.fileinput=function(i){if(a()||t(9)){var n=Array.apply(null,arguments),o=[];switch(n.shift(),this.each(function(){var t,r=e(this),a=r.data("fileinput"),s="object"==typeof i&&i,l=s.language||r.data("language")||"en";a||(t=e.extend({},e.fn.fileinput.defaults),"en"===l||q(e.fn.fileinputLocales[l])||(t=e.extend(t,e.fn.fileinputLocales[l])),a=new Y(this,e.extend(t,s,r.data())),r.data("fileinput",a)),"string"==typeof i&&o.push(a[i].apply(a,n))}),o.length){case 0:return this;case 1:return o[0];default:return o}}},e.fn.fileinput.defaults={language:"en",showCaption:!0,showPreview:!0,showRemove:!0,showUpload:!0,showCancel:!0,showClose:!0,showUploadedThumbs:!0,autoReplace:!1,mainClass:"",previewClass:"",captionClass:"",mainTemplate:null,initialCaption:"",initialPreview:[],initialPreviewDelimiter:"*$$*",initialPreviewConfig:[],initialPreviewThumbTags:[],previewThumbTags:{},initialPreviewShowDelete:!0,deleteUrl:"",deleteExtraData:{},overwriteInitial:!0,layoutTemplates:Q,previewTemplates:H,allowedPreviewTypes:U,allowedPreviewMimeTypes:null,allowedFileTypes:null,allowedFileExtensions:null,defaultPreviewContent:null,customLayoutTags:{},customPreviewTags:{},previewSettings:B,fileTypeSettings:z,previewFileIcon:'<i class="glyphicon glyphicon-file"></i>',previewFileIconClass:"file-icon-4x",previewFileIconSettings:{},previewFileExtSettings:{},buttonLabelClass:"hidden-xs",browseIcon:'<i class="glyphicon glyphicon-folder-open"></i>',browseClass:"btn btn-primary",removeIcon:'<i class="glyphicon glyphicon-trash"></i>',removeClass:"btn btn-default",cancelIcon:'<i class="glyphicon glyphicon-ban-circle"></i>',cancelClass:"btn btn-default",uploadIcon:'<i class="glyphicon glyphicon-upload"></i>',uploadClass:"btn btn-default",uploadUrl:null,uploadAsync:!0,uploadExtraData:{},minImageWidth:null,minImageHeight:null,maxImageWidth:null,maxImageHeight:null,resizeImage:!1,resizePreference:"width",resizeQuality:.92,resizeDefaultImageType:"image/jpeg",maxFileSize:0,minFileCount:0,maxFileCount:0,validateInitialCount:!1,msgValidationErrorClass:"text-danger",msgValidationErrorIcon:'<i class="glyphicon glyphicon-exclamation-sign"></i> ',msgErrorClass:"file-error-message",progressThumbClass:"progress-bar progress-bar-success progress-bar-striped active",progressClass:"progress-bar progress-bar-success progress-bar-striped active",progressCompleteClass:"progress-bar progress-bar-success",previewFileType:"image",zoomIndicator:'<i class="glyphicon glyphicon-zoom-in"></i>',elCaptionContainer:null,elCaptionText:null,elPreviewContainer:null,elPreviewImage:null,elPreviewStatus:null,elErrorContainer:null,errorCloseButton:'<span class="close kv-error-close">&times;</span>',slugCallback:null,dropZoneEnabled:!0,dropZoneTitleClass:"file-drop-zone-title",fileActionSettings:{},otherActionButtons:"",textEncoding:"UTF-8",ajaxSettings:{},ajaxDeleteSettings:{},showAjaxErrorDetails:!0},e.fn.fileinputLocales.en={fileSingle:"file",filePlural:"files",browseLabel:"Browse &hellip;",removeLabel:"Remove",removeTitle:"Clear selected files",cancelLabel:"Cancel",cancelTitle:"Abort ongoing upload",uploadLabel:"Upload",uploadTitle:"Upload selected files",msgZoomTitle:"View details",msgZoomModalHeading:"Detailed Preview",msgSizeTooLarge:'File "{name}" (<b>{size} KB</b>) exceeds maximum allowed upload size of <b>{maxSize} KB</b>.',msgFilesTooLess:"You must select at least <b>{n}</b> {files} to upload.",msgFilesTooMany:"Number of files selected for upload <b>({n})</b> exceeds maximum allowed limit of <b>{m}</b>.",msgFileNotFound:'File "{name}" not found!',msgFileSecured:'Security restrictions prevent reading the file "{name}".',msgFileNotReadable:'File "{name}" is not readable.',msgFilePreviewAborted:'File preview aborted for "{name}".',msgFilePreviewError:'An error occurred while reading the file "{name}".',msgInvalidFileType:'Invalid type for file "{name}". Only "{types}" files are supported.',msgInvalidFileExtension:'Invalid extension for file "{name}". Only "{extensions}" files are supported.',msgUploadAborted:"The file upload was aborted",msgValidationError:"File Upload Error",msgLoading:"Loading file {show} of {files} &hellip;",msgProgress:"Loading file {show} of {files} - {name} - {percent}% completed.",msgSelected:"{n} {files} selected",msgFoldersNotAllowed:"Drag & drop files only! {n} folder(s) dropped were skipped.",msgImageWidthSmall:'Width of image file "{name}" must be at least {size} px.',msgImageHeightSmall:'Height of image file "{name}" must be at least {size} px.',msgImageWidthLarge:'Width of image file "{name}" cannot exceed {size} px.',msgImageHeightLarge:'Height of image file "{name}" cannot exceed {size} px.',msgImageResizeError:"Could not get the image dimensions to resize.",msgImageResizeException:"Error while resizing the image.<pre>{errors}</pre>",dropZoneTitle:"Drag & drop files here &hellip;"},e.extend(e.fn.fileinput.defaults,e.fn.fileinputLocales.en),e.fn.fileinput.Constructor=Y,e(document).ready(function(){var t=e("input.file[type=file]");t.length&&t.fileinput()})}),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),buildRequirementsTree=function(e){return $("#tree").treeview({enableLinks:!0,data:e})},function(){}.call(this),/*
 * Gritter for jQuery
 * http://www.boedesign.com/
 *
 * Copyright (c) 2011 Jordan Boesch
 * Dual licensed under the MIT and GPL licenses.
 *
 * Date: March 29, 2011
 * Version: 1.7.1
 */
window.GritterModernizr=function(e,t,i){function n(e,t){var i=e.charAt(0).toUpperCase()+e.substr(1),n=(e+" "+v.join(i+" ")+i).split(" ");return o(n,t)}function o(e,t){for(var n in e)if(g[e[n]]!==i)return"pfx"==t?e[n]:!0;return!1}function r(e,t){return!!~(""+e).indexOf(t)}function a(e,t){return typeof e===t}function s(e){g.cssText=e}var l,c,d,u="2.0.6",f={},p=t.documentElement,h=(t.head||t.getElementsByTagName("head")[0],"modernizr"),m=t.createElement(h),g=m.style,v=(Object.prototype.toString,"Webkit Moz O ms Khtml".split(" ")),y={},b=[],w=function(e,i,n,o){var r,a,s,l=t.createElement("div");if(parseInt(n,10))for(;n--;)s=t.createElement("div"),s.id=o?o[n]:h+(n+1),l.appendChild(s);return r=["&shy;","<style>",e,"</style>"].join(""),l.id=h,l.innerHTML+=r,p.appendChild(l),a=i(l,e),l.parentNode.removeChild(l),!!a},x={}.hasOwnProperty;d=a(x,i)||a(x.call,i)?function(e,t){return t in e&&a(e.constructor.prototype[t],i)}:function(e,t){return x.call(e,t)},y.rgba=function(){return s("background-color:rgba(150,255,150,.5)"),r(g.backgroundColor,"rgba")},y.borderradius=function(){return n("borderRadius")};for(var C in y)d(y,C)&&(c=C.toLowerCase(),f[c]=y[C](),b.push((f[c]?"":"no-")+c));return s(""),m=l=null,f._version=u,f._domPrefixes=v,f.testProp=function(e){return o([e])},f.testAllProps=n,f.testStyles=w,f}(this,this.document),function(e){e.gritter={},e.gritter.options={position:"",fade_in_speed:"medium",fade_out_speed:1e3,time:6e3},e.gritter.add=function(e){try{return n.add(e||{})}catch(t){var i="Gritter Error: "+t;"undefined"!=typeof console&&console.error?console.error(i,e):alert(i)}},e.gritter.remove=function(e,t){n.removeSpecific(e,t||{})},e.gritter.removeAll=function(e){n.stop(e||{})};var t,i='[[close]][[image]]<div class="[[class_name]]"><span class="gritter-title">[[username]]</span><p>[[text]]</p></div><div style="clear:both"></div>';t=GritterModernizr.borderradius&&GritterModernizr.rgba?'<div class="gritter-item gritter-css3">'+i+"</div>":'<div class="gritter-top"></div><div class="gritter-item gritter-css2">'+i+'</div><div class="gritter-bottom"></div>';var n={position:"",fade_in_speed:"",fade_out_speed:"",time:"",_custom_timer:0,_item_count:0,_is_setup:0,_tpl_close:'<div class="gritter-close"></div>',_tpl_item:'<div id="gritter-item-[[number]]" class="gritter-item-wrapper [[item_class]]" style="display:none">'+t+"</div>",_tpl_wrap:'<div id="gritter-notice-wrapper"></div>',add:function(t){if(!t.title||!t.text)throw'You need to fill out the first 2 params: "title" and "text"';this._is_setup||this._runSetup();var i=t.title,o=t.text,r=t.image||"",a=t.sticky||!1,s=t.class_name||"",l=e.gritter.options.position,c=t.time||"";this._verifyWrapper(),this._item_count++;var d=this._item_count,u=this._tpl_item;e(["before_open","after_open","before_close","after_close","on_click"]).each(function(i,o){n["_"+o+"_"+d]=e.isFunction(t[o])?t[o]:function(){}}),this._custom_timer=0,c&&(this._custom_timer=c);var f=""!=r?'<img src="'+r+'" class="gritter-image" />':"",p=""!=r?"gritter-with-image":"gritter-without-image";u=this._str_replace(["[[username]]","[[text]]","[[close]]","[[image]]","[[number]]","[[class_name]]","[[item_class]]"],[i,o,this._tpl_close,f,this._item_count,p,s],u),this["_before_open_"+d](),e("#gritter-notice-wrapper").addClass(l).append(u);var h=e("#gritter-item-"+this._item_count);return h.fadeIn(this.fade_in_speed,function(){n["_after_open_"+d](e(this))}),a||this._setFadeTimer(h,d),e(h).click(function(){n["_on_click_"+d](e(this))}),e(h).find(".gritter-close").bind("mouseenter mouseleave",function(t){"mouseenter"==t.type?e(h).off("click"):e(h).on("click",function(){n["_on_click_"+d](e(this))})}),e(h).bind("mouseenter mouseleave",function(t){"mouseenter"==t.type?a||n._restoreItemIfFading(e(this),d):a||n._setFadeTimer(e(this),d),n._hoverState(e(this),t.type)}),d},_countRemoveWrapper:function(t,i,n){i.remove(),this["_after_close_"+t](i,n),0==e(".gritter-item-wrapper").length&&e("#gritter-notice-wrapper").remove()},_fade:function(e,t,i,o){var i=i||{},r="undefined"!=typeof i.fade?i.fade:!0;fade_out_speed=i.speed||this.fade_out_speed,manual_close=o,this["_before_close_"+t](e,manual_close),o&&e.unbind("mouseenter mouseleave"),r?e.fadeOut(fade_out_speed,function(){e.animate({height:0},300,function(){n._countRemoveWrapper(t,e,manual_close)})}):this._countRemoveWrapper(t,e)},_hoverState:function(e,t){"mouseenter"==t?(e.addClass("hover"),e.find(".gritter-close").show(),e.find(".gritter-close").click(function(){var t=e.attr("id").split("-")[2];n.removeSpecific(t,{},e,!0)})):(e.removeClass("hover"),e.find(".gritter-close").hide())},removeSpecific:function(t,i,n,o){if(!n)var n=e("#gritter-item-"+t);this._fade(n,t,i||{},o)},_restoreItemIfFading:function(e,t){clearTimeout(this["_int_id_"+t]),e.stop().css({opacity:""})},_runSetup:function(){for(var t in e.gritter.options)this[t]=e.gritter.options[t];this._is_setup=1},_setFadeTimer:function(e,t){var i=this._custom_timer?this._custom_timer:this.time;this["_int_id_"+t]=setTimeout(function(){n._fade(e,t)},i)},stop:function(t){var i=e.isFunction(t.before_close)?t.before_close:function(){},n=e.isFunction(t.after_close)?t.after_close:function(){},o=e("#gritter-notice-wrapper");i(o),o.fadeOut(function(){e(this).remove(),n()})},_str_replace:function(e,t,i,n){var o=0,r=0,a="",s="",l=0,c=0,d=[].concat(e),u=[].concat(t),f=i,p=u instanceof Array,h=f instanceof Array;for(f=[].concat(f),n&&(this.window[n]=0),o=0,l=f.length;l>o;o++)if(""!==f[o])for(r=0,c=d.length;c>r;r++)a=f[o]+"",s=p?void 0!==u[r]?u[r]:"":u[0],f[o]=a.split(d[r]).join(s),n&&f[o]!==a&&(this.window[n]+=(a.length-f[o].length)/d[r].length);return h?f:f[0]},_verifyWrapper:function(){0==e("#gritter-notice-wrapper").length&&e("body").append(this._tpl_wrap)}}}(jQuery),"function"!=typeof Object.getPrototypeOf&&("object"==typeof"test".__proto__?Object.getPrototypeOf=function(e){return e.__proto__}:Object.getPrototypeOf=function(e){return e.constructor.prototype}),jQuery(document).ready(function(e){if(/1\.[2-7]\..*/.test(jQuery().jquery)){var t="ActiveScaffold requires jquery 1.8.0 or greater, please use jquery-rails 2.1.x gem or greater";"undefined"!=typeof console?console.error(t):alert(t)}jQuery(document).on("focus",":input",function(){ActiveScaffold.last_focus=this}),jQuery(document).on("blur",":input",function(e){ActiveScaffold.last_focus=e.relatedTarget}),jQuery(document).click(function(e){jQuery(".action_group.dyn > ul").hide()}),jQuery(document).on("ajax:beforeSend","form.as_form",function(e){var t=jQuery(this).closest("form");return 1==t.data("loading")&&ActiveScaffold.disable_form(t),!0}),jQuery(document).on("ajax:complete","form.as_form",function(e){var t=jQuery(this).closest("form");1==t.data("loading")&&ActiveScaffold.enable_form(t)}),jQuery(document).on("ajax:complete","form.live",function(e){ActiveScaffold.focus_first_element_of_form(jQuery(this).closest("form"))}),jQuery(document).on("ajax:error","form.as_form",function(e,t,i,n){var o=jQuery(this).closest("div.active-scaffold");o.length&&ActiveScaffold.report_500_response(o,t)}),jQuery(document).on("submit","form.as_form:not([data-remote])",function(e){var t=jQuery(this).closest("form");return 1==t.data("loading")&&setTimeout("ActiveScaffold.disable_form('"+t.attr("id")+"')",10),!0}),jQuery(document).on("ajax:before","a.as_action",function(e){var t=ActiveScaffold.ActionLink.get(jQuery(this));if(t){if(t.is_disabled())return!1;t.loading_indicator&&t.loading_indicator.css("visibility","visible"),t.disable()}return!0}),jQuery(document).on("ajax:success","a.as_action",function(e,t){var i=ActiveScaffold.ActionLink.get(jQuery(this));return i&&(i.position?(i.insert(t),i.hide_target&&i.target.hide()):(i.tag.hasClass("toggle")&&(i.tag.closest(".action_group,.actions").find(".toggle.active").removeClass("active"),i.tag.addClass("active")),i.enable()),jQuery(this).trigger("as:action_success",i),i.loading_indicator&&i.loading_indicator.css("visibility","hidden")),!0}),jQuery(document).on("ajax:error","a.as_action",function(e,t,i,n){var o=ActiveScaffold.ActionLink.get(jQuery(this));return o&&(ActiveScaffold.report_500_response(o.scaffold_id(),t),o.enable()),!0}),jQuery(document).on("ajax:before","a.as_cancel",function(e){var t=jQuery(this),i=ActiveScaffold.find_action_link(t);if(i){var n=t.attr("href"),o=i.tag.data("cancel-refresh")||t.data("refresh");if(!o||!n)return i.close(),!1}return!0}),jQuery(document).on("ajax:success","a.as_cancel",function(e){var t=jQuery(this),i=ActiveScaffold.find_action_link(t);if(i&&i.position)i.close();else if(t.hasClass("reset")){var n=t.closest("form");n.is(".search")?n.find(":input:visible:not([type=submit])").val(""):n.trigger("reset")}return!0}),jQuery(document).on("ajax:error","a.as_cancel",function(e,t,i,n){var o=ActiveScaffold.find_action_link(jQuery(this));return o&&ActiveScaffold.report_500_response(o.scaffold_id(),t),!0}),jQuery(document).on("ajax:before","a.as_sort",function(e){var t=jQuery(this),i=t.data("page-history");return i&&addActiveScaffoldPageToHistory(t.attr("href"),i),t.closest("th").addClass("loading"),!0}),jQuery(document).on("ajax:error","a.as_sort",function(e,t,i,n){var o=jQuery(this).closest(".active-scaffold");return ActiveScaffold.report_500_response(o,t),jQuery(this).closest("th").removeClass("loading"),!0}),jQuery(document).on("mouseenter mouseleave","td.in_place_editor_field",function(e){var t=jQuery(this),i=t.find("span.in_place_editor_field");return"mouseenter"==e.type&&(t.hasClass("empty")||"undefined"==typeof i.data("editInPlace"))&&t.find("span").addClass("hover"),"mouseleave"==e.type&&(t.hasClass("empty")||"undefined"==typeof i.data("editInPlace"))&&t.find("span").removeClass("hover"),!0}),jQuery(document).on("click","td.in_place_editor_field, th.as_marked-column_heading",function(e){var t=jQuery(this).find("span.in_place_editor_field");t.data("addEmptyOnCancel",jQuery(this).hasClass("empty")),jQuery(this).removeClass("empty"),t.data("editInPlace")?t.trigger("click.editInPlace"):ActiveScaffold.in_place_editor_field_clicked(t)}),jQuery(document).on("ajax:before","a.as_paginate",function(e){var t=jQuery(this),i=t.data("page-history");return i&&addActiveScaffoldPageToHistory(t.attr("href"),i),t.prevAll("img.loading-indicator").css("visibility","visible"),!0}),jQuery(document).on("ajax:error","a.as_paginate",function(e,t,i,n){var o=jQuery(this).closest(".active-scaffold");return ActiveScaffold.report_500_response(o,t),!0}),jQuery(document).on("ajax:complete","a.as_paginate",function(e){return jQuery(this).prevAll("img.loading-indicator").css("visibility","hidden"),!0}),jQuery(document).on("ajax:before","a.as_add_existing, a.as_replace_existing",function(e){var t=jQuery(this).prev();t.is(":input")||(t=t.find(":input"));var i=t.val();return i?(jQuery(this).data("href")||jQuery(this).data("href",jQuery(this).attr("href")),jQuery(this).attr("href",jQuery(this).data("href").replace("--ID--",i)),!0):!1}),jQuery(document).on("ajax:complete",".action_group.dyn > ul a",function(e){var t=ActiveScaffold.find_action_link(e.target);t.loading_indicator&&t.loading_indicator.css("visibility","hidden"),jQuery(e.target).closest(".action_group.dyn > ul").remove()}),jQuery(document).on("change","input.update_form:not(.recordselect), textarea.update_form, select.update_form, .checkbox-list.update_form input:checkbox",function(t){var i,n,o=jQuery(this),r=o.closest(".checkbox-list");return r.is(".checkbox-list")?(i=r.find(":checked").map(function(t){return e(this).val()}).toArray(),n=(o.is(":checked")?"_added=":"_removed=")+o.val()):(i=o.is("input:checkbox:not(:checked)")?null:o.val(),r=o),ActiveScaffold.update_column(r,r.data("update_url"),r.data("update_send_form"),o.attr("id"),i,n),!0}),jQuery(document).on("click","a.refresh-link",function(t){t.preventDefault();var i,n=jQuery(this),o=n.prev();o.is(".checkbox-list")?(i=o.find(":checked").map(function(t){return e(this).val()}).toArray(),o=o.parent().find("input:checkbox")):i=o.is("input:checkbox:not(:checked)")?null:o.val(),ActiveScaffold.update_column(o,n.attr("href"),n.data("update_send_form"),o.attr("id"),i)}),jQuery(document).on("click","a.visibility-toggle",function(e){var t=jQuery(this),i=jQuery("#"+t.data("toggable"));return e.preventDefault(),i.toggle(),t.html(i.is(":hidden")?t.data("show"):t.data("hide")),!1}),jQuery(document).on("recordselect:change","input.recordselect.update_form",function(e,t,i){var n=jQuery(this);return ActiveScaffold.update_column(n,n.data("update_url"),n.data("update_send_form"),n.attr("id"),t),!0}),jQuery(document).on("change","select.as_search_range_option",function(e){var t=jQuery(this);return ActiveScaffold["BETWEEN"==t.val()?"show":"hide"](t.closest("dd").find(".as_search_range_between")),ActiveScaffold["null"==t.val()||"not_null"==t.val()?"hide":"show"](t.attr("id").replace(/_opt/,"_numeric")),!0}),jQuery(document).on("change","select.as_search_date_time_option",function(e){var t=jQuery(this);return ActiveScaffold["PAST"!=t.val()&&"FUTURE"!=t.val()&&"RANGE"!=t.val()?"show":"hide"](t.attr("id").replace(/_opt/,"_numeric")),ActiveScaffold["PAST"==t.val()||"FUTURE"==t.val()?"show":"hide"](t.attr("id").replace(/_opt/,"_trend")),ActiveScaffold["RANGE"==t.val()?"show":"hide"](t.attr("id").replace(/_opt/,"_range")),!0}),jQuery(document).on("change","select.as_update_date_operator",function(e){return ActiveScaffold["REPLACE"==jQuery(this).val()?"show":"hide"](jQuery(this).next()),ActiveScaffold["REPLACE"==jQuery(this).val()?"hide":"show"](jQuery(this).next().next()),!0}),jQuery(document).on("click",".active-scaffold .sub-form a.destroy",function(t){t.preventDefault(),ActiveScaffold.delete_subform_record(e(this).data("delete-id"))}),jQuery(document).on("click",".hover_click",function(e){var t=jQuery(this),i=t.children("ul").first();return i.is(":visible")?t.find("ul").hide():i.show(),!1}),jQuery(document).on("click",".hover_click a.as_action",function(e){var t=jQuery(this).closest(".hover_click");return t.length&&t.find("ul").hide(),!0}),jQuery(document).on("click",".message a.close",function(e){ActiveScaffold.hide(jQuery(this).closest(".message")),e.preventDefault()}),ActiveScaffold.load_embedded(document),ActiveScaffold.enable_js_form_buttons(document),ActiveScaffold.live_search(document),ActiveScaffold.auto_paginate(document),ActiveScaffold.draggable_lists(".draggable-lists",document),ActiveScaffold.config.warn_changes&&ActiveScaffold.setup_warn_changes(),jQuery(document).on("as:element_updated",function(e){ActiveScaffold.load_embedded(e.target),ActiveScaffold.enable_js_form_buttons(e.target),ActiveScaffold.live_search(e.target),ActiveScaffold.draggable_lists(".draggable-lists",e.target)}),jQuery(document).on("as:element_updated",".active-scaffold",function(t){if(t.target==this){var i=e(this).find("form.search");i.length&&ActiveScaffold.focus_first_element_of_form(i)}}),jQuery(document).on("as:action_success","a.as_action",function(e,t){ActiveScaffold.load_embedded(t.adapter),ActiveScaffold.enable_js_form_buttons(t.adapter),ActiveScaffold.live_search(t.adapter),ActiveScaffold.auto_paginate(t.adapter),ActiveScaffold.draggable_lists(".draggable-lists",t.adapter)})}),function(){var e=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(i){function n(){!e&&this.init&&this.init.apply(this,arguments)}var o=this.prototype;e=!0;var r=new this;e=!1;for(var a in i)r[a]="function"==typeof i[a]&&"function"==typeof o[a]&&t.test(i[a])?function(e,t){return function(){var i=this._super;this._super=o[e];var n=t.apply(this,arguments);return this._super=i,n}}(a,i[a]):i[a];return n.prototype=r,n.constructor=n,n.extend=arguments.callee,n}}(),"undefined"==typeof jQuery.fn.delayedObserver&&!function(e){e.extend(e.fn,{delayedObserver:function(t,i,n){return this.each(function(){var o=e(this),r=n||{};o.data("oldval",o.val()).data("delay",i||.5).data("condition",r.condition||function(){return e(this).data("oldval")==e(this).val()}).data("callback",t)[r.event||"keyup"](function(){o.data("condition").apply(o)||(o.data("timer")&&clearTimeout(o.data("timer")),o.data("timer",setTimeout(function(){var e=o.data("callback");e&&e.apply(o)},1e3*o.data("delay"))),o.data("oldval",o.val()))})})}})}(jQuery);var ActiveScaffold={last_focus:null,live_search:function(e){jQuery("form.search.live input[type=search]",e).delayedObserver(function(){jQuery(this).parent().trigger("submit")},ActiveScaffold.config.live_search_delay||.5)},auto_paginate:function(e){var t=jQuery(".active-scaffold-pagination.auto-paginate a:first",e);t.length&&(jQuery(".active-scaffold-pagination.auto-paginate",e).hide(),ActiveScaffold.auto_load_page(t.attr("href"),{auto_pagination:!0}))},auto_load_page:function(e,t){jQuery.get(e,t,null,"script")},enable_js_form_buttons:function(e){jQuery(".as-js-button",e).show()},load_embedded:function(e){jQuery(".active-scaffold-component .load-embedded",e).each(function(e,t){t=jQuery(t),t.closest(".active-scaffold-component").load(t.attr("href"),function(){jQuery(this).trigger("as:element_updated")})})},records_for:function(e){return"string"==typeof e&&(e="#"+e),jQuery(e).children(".record")},stripe:function(e){var t=!1,i=this.records_for(e);i.each(function(e,i){row=jQuery(i),"SCRIPT"==i.tagName||row.hasClass("create")||row.hasClass("update")||row.hasClass("inline-adapter")||row.hasClass("active-scaffold-calculations")||(t?row.addClass("even-record"):row.removeClass("even-record"),t=!t)})},hide_empty_message:function(e){0!=this.records_for(e).length&&jQuery(e).parent().find("tbody.messages p.empty-message").hide()},reload_if_empty:function(e,t){0==this.records_for(e).length&&this.reload(t)},reload:function(e){jQuery.getScript(e)},removeSortClasses:function(e){"string"==typeof e&&(e="#"+e),e=jQuery(e),e.find("td.sorted").each(function(e,t){jQuery(t).removeClass("sorted")}),e.find("th.sorted").each(function(e,t){t=jQuery(t),t.removeClass("sorted"),t.removeClass("asc"),t.removeClass("desc")})},decrement_record_count:function(e){"string"==typeof e&&(e="#"+e),e=jQuery(e),count=e.find("span.active-scaffold-records").last(),count&&count.html(parseInt(count.html(),10)-1)},increment_record_count:function(e){"string"==typeof e&&(e="#"+e),e=jQuery(e),count=e.find("span.active-scaffold-records").last(),count&&count.html(parseInt(count.html(),10)+1)},update_row:function(e,t){var i=!1,n=null;"string"==typeof e&&(e="#"+e),e=jQuery(e),e.hasClass("even-record")&&(i=!0),n=this.replace(e,t),n&&(i===!0&&n.addClass("even-record"),ActiveScaffold.highlight(n))},replace:function(e,t){"string"==typeof e&&(e="#"+e),e=jQuery(e);var i="string"==typeof t?jQuery.parseHTML(jQuery.trim(t),!0):t;return i=jQuery(i),e.length?(e.replaceWith(i),i.trigger("as:element_updated"),i):null},replace_html:function(e,t){return"string"==typeof e&&(e="#"+e),e=jQuery(e),e.length&&(e.html(t),e.trigger("as:element_updated")),e},append:function(e,t){return"string"==typeof e&&(e="#"+e),e=jQuery(e),e.append(t),e.trigger("as:element_updated"),e},remove:function(e,t){"string"==typeof e&&(e="#"+e),jQuery(e).trigger("as:element_removed").remove(),t&&t()},update_inplace_edit:function(e,t,i){"string"==typeof e&&(e="#"+e),this.replace_html(jQuery(e),t),jQuery(e).closest("td")[i?"addClass":"removeClass"]("empty")},hide:function(e){"string"==typeof e&&(e="#"+e),jQuery(e).hide()},show:function(e){"string"==typeof e&&(e="#"+e),jQuery(e).show()},reset_form:function(e){"string"==typeof e&&(e="#"+e),jQuery(e).get(0).reset()},disable_form:function(e,t){"string"==typeof e&&(e="#"+e),e=jQuery(e);var i=jQuery("#"+e.attr("id").replace(/-form$/,"-loading-indicator"));!t&&i&&i.css("visibility","visible"),jQuery("input[type=submit]",e).attr("disabled","disabled"),jQuery(".sub-form a.destroy",e).addClass("disabled"),jQuery.fn.droppable&&jQuery(".draggable-list",e).sortable("disable"),jQuery("input:enabled,select:enabled,textarea:enabled",e).attr("disabled","disabled").attr("data-remove-disabled",!0)},enable_form:function(e,t){"string"==typeof e&&(e="#"+e),e=jQuery(e);var i=jQuery("#"+e.attr("id").replace(/-form$/,"-loading-indicator"));!t&&i&&i.css("visibility","hidden"),jQuery("input[type=submit]",e).removeAttr("disabled"),jQuery(".sub-form a.destroy.disabled",e).removeClass("disabled"),jQuery.fn.droppable&&jQuery(".draggable-list",e).sortable("enable"),jQuery("input[data-remove-disabled],select[data-remove-disabled],textarea[data-remove-disabled]",e).removeAttr("disabled data-remove-disabled")},focus_first_element_of_form:function(e,t){"string"==typeof e&&(e="#"+e),"undefined"==typeof t&&(t=jQuery(e).is("form")?"":"form ");var i=jQuery(t+":input:visible:first",jQuery(e));if(!i.is(".no-autofocus :input")){i.focus();try{i[0]&&i[0].value&&(i[0].selectionStart=i[0].selectionEnd=i[0].value.length)}catch(n){}}},create_record_row:function(e,t,i){"string"==typeof e&&(e="#"+e),tbody=jQuery(e).find("tbody.records").first();var n;if("top"==i.insert_at)tbody.prepend(t),n=tbody.children("tr.record:first-child");else if("bottom"==i.insert_at){var o=tbody.children("tr.record, tr.inline-adapter");n=o.length>0?o.last().after(t).next():tbody.append(t).children().last()}else if("object"==typeof i.insert_at){var r,a,s,l;i.insert_at.after?(r="after",a="next"):(r="before",a="prev"),(l=i.insert_at[r])&&(s=tbody.children("#"+l)),s&&s.length&&(n=s[r](t)[a]())}this.stripe(tbody),this.hide_empty_message(tbody),this.increment_record_count(tbody.closest("div.active-scaffold")),this.highlight(n),n.trigger("as:element_created")},create_record_row_from_url:function(e,t,i){jQuery.get(t,function(t){ActiveScaffold.create_record_row(e.scaffold(),t,i),e.close()})},delete_record_row:function(e,t){"string"==typeof e&&(e="#"+e),e=jQuery(e);var i=e.closest("tbody.records");e.find("a.disabled").each(function(){var e=ActiveScaffold.ActionLink.get(this);e&&e.close()}),ActiveScaffold.remove(e,function(){ActiveScaffold.stripe(i),ActiveScaffold.decrement_record_count(i.closest("div.active-scaffold")),t&&ActiveScaffold.reload_if_empty(i,t)})},delete_subform_record:function(e){"string"==typeof e&&(e="#"+e),e=jQuery(e).closest(".sub-form-record"),this.remove(e)},report_500_response:function(e,t){var i=jQuery(e).find("td.messages-container p.server-error").first();i.is(":visible")?ActiveScaffold.highlight(i):i.show(),t&&i.find(".error-500")[t.status<500?"hide":"show"](),ActiveScaffold.scroll_to(i,"checkInViewport"==ActiveScaffold.config.scroll_on_close)},find_action_link:function(e){return"string"==typeof e&&(e="#"+e),e=jQuery(e),ActiveScaffold.ActionLink.get(e.is(".actions a")?e:e.closest(".as_adapter"))},display_dynamic_action_group:function(e,t){var i;"string"==typeof e&&(e=jQuery("#"+e)),e.closest("td.actions").length?i=e.closest("td").addClass("action_group dyn"):(e.parent("div.actions").length&&e.wrap(jQuery("<div>")),i=e.parent().addClass("action_group dyn")),i.find("> ul").remove(),i.append(t)},scroll_to:function(e,t){"undefined"==typeof t&&(t=!0),"string"==typeof e&&(e="#"+e);var i=jQuery(e).offset().top;if(t){var n=jQuery(window).scrollTop(),o=n+jQuery(window).height();if(i+jQuery(e).height()<=o&&i>=n)return}jQuery(document).scrollTop(i)},process_checkbox_inplace_edit:function(e,t){var i=e.is(":checked"),n=e.closest("td");i===!0&&(t.params+="&value=1"),jQuery.ajax({url:t.url,type:"POST",data:t.params,dataType:t.ajax_data_type,beforeSend:function(i,o){t.beforeSend&&t.beforeSend.call(e,i,o),e.attr("disabled","disabled"),n.closest("tr").find("td.actions .loading-indicator").css("visibility","visible")},complete:function(t){e.removeAttr("disabled")},success:function(e){n.closest("tr").find("td.actions .loading-indicator").css("visibility","hidden")}})},read_inplace_edit_heading_attributes:function(e,t){e.data("ie-cancel-text")&&(t.cancel_button='<button class="inplace_cancel">'+e.data("ie-cancel-text")+"</button>"),e.data("ie-loading-text")&&(t.loading_text=e.data("ie-loading-text")),e.data("ie-saving-text")&&(t.saving_text=e.data("ie-saving-text")),e.data("ie-save-text")&&(t.save_button='<button class="inplace_save">'+e.data("ie-save-text")+"</button>"),e.data("ie-rows")&&(t.textarea_rows=e.data("ie-rows")),e.data("ie-cols")&&(t.textarea_cols=e.data("ie-cols")),e.data("ie-size")&&(t.text_size=e.data("ie-size")),e.data("ie-use-html")&&(t.use_html=e.data("ie-use-html"))},create_inplace_editor:function(e,t){e.removeClass("hover"),e.editInPlace(t),e.trigger("click.editInPlace")},highlight:function(e){"string"==typeof e&&(e=jQuery("#"+e)),"function"==typeof e.effect&&e.effect("highlight",jQuery.extend({},ActiveScaffold.config.highlight),3e3)},create_associated_record_form:function(e,t,i){"string"==typeof e&&(e="#"+e);var e=jQuery(e);if(t=jQuery(t),0==i.singular){if(!(i.id&&jQuery("#"+i.id).size()>0)){var n=e.children("tfoot");n.length?n.before(t):e.append(t)}}else{var o=jQuery("#"+e.attr("id")+" .sub-form-record");o[0]?this.replace(o[0],t):e.prepend(t)}t.trigger("as:element_created"),ActiveScaffold.focus_first_element_of_form(t,"")},render_form_field:function(e,t,i){"string"==typeof e&&(e="#"+e);var e=jQuery(e),n=e.closest(".sub-form-record"),o="";0==n.length&&(n=e.closest("form > ol.form"),o="li"),o=i.is_subform?"":o+":not(.sub-form) ",n=n.find(o+"."+i.field_class).first(),n.length&&(0==i.is_subform?this.replace(n.closest("dl"),t):this.replace_html(n,t))},record_select_onselect:function(e,t,i){jQuery.ajax({url:e.replace("--ID--",i),error:function(e,i,n){ActiveScaffold.report_500_response(t,e)}})},mark_records:function(e,t){"string"==typeof e&&(e="#"+e);var e=jQuery(e);if(t.include_checkboxes){var i=jQuery("#"+e.attr("id")+' > tr.record td.as_marked-column input[type="checkbox"]');i.prop("checked",!!t.checked),i.val(""+!t.checked)}if(t.include_mark_all){var n=e.prevAll("thead").find('th.as_marked-column_heading span input[type="checkbox"]');n.prop("checked",!!t.checked),n.val(""+!t.checked)}},in_place_editor_field_clicked:function(e){if("undefined"==typeof e.data("editInPlace")){var t={show_buttons:!0,hover_class:"hover",element_id:"editor_id",ajax_data_type:"script",delegate:{willCloseEditInPlace:function(e,t){e.data("addEmptyOnCancel")&&e.closest("td").addClass("empty"),e.closest("tr").find("td.actions .loading-indicator").css("visibility","visible")},didCloseEditInPlace:function(e,t){e.closest("tr").find("td.actions .loading-indicator").css("visibility","hidden")}},update_value:"value"},i=jQuery("meta[name=csrf-param]").first(),n=jQuery("meta[name=csrf-token]").first(),o=e.parent(),r=null;if(o.is("td")||o.is("th")||(o=e.parents("td").eq(0)),o.is("td")){var a=o.prevAll("td").length;r=o.closest(".active-scaffold").find("th:eq("+a+")")}else o.is("th")&&(r=o);var s=r.data("ie-render-url"),l=r.data("ie-mode"),c=e.data("ie-id")||"";if(ActiveScaffold.read_inplace_edit_heading_attributes(r,t),e.data("ie-url")?t.url=e.data("ie-url").replace(/__id__/,c):t.url=r.data("ie-url").replace(/__id__/,c),i&&(t.params=i.attr("content")+"="+n.attr("content")),e.closest("div.active-scaffold").data("eid")&&(t.params.length>0&&(t.params+="&"),t.params+="eid="+e.closest("div.active-scaffold").data("eid")),"clone"===l&&(t.clone_id_suffix=c,t.clone_selector="#"+r.attr("id")+" .as_inplace_pattern",t.field_type="clone"),s){var d=!1;r.data("ie-plural")&&(d=!0),t.field_type="remote",t.editor_url=s.replace(/__id__/,c),t.delegate||(t.delegate={}),t.delegate.didOpenEditInPlace=function(e){e.trigger("as:element_updated")}}var u,f;t.beforeSend=function(t,i){switch(e.data("ie-update")){case"update_row":u=e.closest("tr").find(".actions a:not(.disabled)").addClass("disabled");break;case"update_table":var n=e.closest(".as_content");u=n.find(".actions a:not(.disabled)").addClass("disabled"),f=n.find(".as_form"),ActiveScaffold.disable_form(f)}},t.error=t.success=function(){u&&u.removeClass("disabled"),f&&ActiveScaffold.enable_form(f)},"inline_checkbox"===l?ActiveScaffold.process_checkbox_inplace_edit(e.find("input:checkbox"),t):ActiveScaffold.create_inplace_editor(e,t)}},update_column:function(e,t,i,n,o,r){e||(e=jQuery("#"+n));var a=e.closest("form.as_form"),s=null;if(i){var l,c=a;"row"==i&&(c=e.closest(".association-record, form")),s=(l=e.data("update_send_form_selector"))?c.find(l).serialize():c!=a?c.find(":input").serialize():c.serialize(),s+="&_method=&"+jQuery.param({source_id:n}),r&&(s+="&"+r)}else s={value:o},s.source_id=n;jQuery.ajax({url:t,data:s,type:"post",beforeSend:function(t,i){e.nextAll("img.loading-indicator").css("visibility","visible");var n=ActiveScaffold.last_focus;return n&&($(n).blur(),ActiveScaffold.last_focus=n),$.rails.fire(e,"ajax:beforeSend",[t,i])?void e.trigger("ajax:send",t):($(ActiveScaffold.last_focus).focus(),!1)},success:function(t,i,n){a.find("#"+e.attr("id")).trigger("ajax:success",[t,i,n])},complete:function(t,i){if(e=a.find("#"+e.attr("id")),e.nextAll("img.loading-indicator").css("visibility","hidden"),e.trigger("ajax:complete",[t,i]),ActiveScaffold.last_focus){var n=jQuery(ActiveScaffold.last_focus);0==n.closest("body").length&&n.attr("id")&&(n=jQuery("#"+n.attr("id"))),n.focus().select()}},error:function(t,i,n){e=a.find("#"+e.attr("id"));var o=e.closest("div.active-scaffold");o&&ActiveScaffold.report_500_response(o,t),e.trigger("ajax:error",[t,i,n])}})},draggable_lists:function(e,t){var i;jQuery.fn.draggableLists&&(i="string"==typeof e?jQuery(e,t):jQuery(e),i.draggableLists())},setup_warn_changes:function(){var e=$("meta[name=unload-message]").attr("content")||ActiveScaffold.config.unload_message||"This page contains unsaved data that will be lost if you leave this page.";$(document).on("change input",".active-scaffold form:not(.search) input, .active-scaffold form:not(.search) textarea, .active-scaffold form:not(.search) select",function(){$(this).closest("form").addClass("need-confirm")}),$(document).on("click",".active-scaffold .as_cancel:not([data-remote]), .active-scaffold input[type=submit]",function(){$(this).closest("form").removeClass("need-confirm")}),window.onbeforeunload=function(){return $("form.need-confirm").length?e:void 0}}};String.prototype.append_params=function(e){var t=this;-1==t.indexOf("?")?t+="?":t.lastIndexOf("&")!=t.length&&(t+="&");for(var i in e)i&&(t+=i+"="+e[i]+"&");return t=t.substring(0,t.length-1)},ActiveScaffold.Actions=new Object,ActiveScaffold.Actions.Abstract=Class.extend({init:function(e,t,i,n){this.target=jQuery(t),this.loading_indicator=jQuery(i),this.options=n;var o=this;this.links=jQuery.map(e,function(e){var t=o.instantiate_link(e);return t})},instantiate_link:function(e){throw"unimplemented"}}),ActiveScaffold.ActionLink={get:function(e){"string"==typeof e&&(e="#"+e);var e=jQuery(e);if(e.length>0){if(e.data(),"undefined"==typeof e.data("action_link")&&!e.hasClass("as_adapter")){var t=e.closest(".actions");if((0===t.length||t.is("td"))&&(t=e.closest("tr.record")),t.is("tr")){var i=t.find("a.as_action"),n=t.find("td.actions .loading-indicator");n.length||(n=e.parent().find(".loading-indicator")),new ActiveScaffold.Actions.Record(i,t,n)}else t&&t.is("div")&&new ActiveScaffold.Actions.Table(t.find("a.as_action"),t.closest("div.active-scaffold").find("tbody.before-header").first(),t.find(".loading-indicator").first());e=jQuery(e)}return e.data("action_link")}return null}},ActiveScaffold.ActionLink.Abstract=Class.extend({init:function(e,t,i){return this.tag=jQuery(e),this.url=this.tag.attr("href"),this.method=this.tag.data("method")||"get",this.target=t,this.loading_indicator=i,this.hide_target=!1,this.position=this.tag.data("position"),this.action=this.tag.data("action"),this.tag.data("action_link",this),this},open:function(e){this.tag.click()},insert:function(e){throw"unimplemented"},close:function(){if(this.adapter){var e=this;ActiveScaffold.remove(this.adapter,function(){e.enable(),e.hide_target&&e.target.show(),ActiveScaffold.config.scroll_on_close&&ActiveScaffold.scroll_to(e.target.attr("id"),"checkInViewport"==ActiveScaffold.config.scroll_on_close)})}},reload:function(){this.close(),this.open()},get_new_adapter_id:function(){for(var e="adapter_",t=0;jQuery(e+t);)t++;return e+t},enable:function(){return this.tag.removeClass("disabled")},disable:function(){return this.tag.addClass("disabled")},is_disabled:function(){return this.tag.hasClass("disabled")},scaffold_id:function(){return"#"+this.tag.closest("div.active-scaffold").attr("id")},scaffold:function(){return this.tag.closest("div.active-scaffold")},update_flash_messages:function(e){message_node=jQuery(this.scaffold_id().replace(/-active-scaffold/,"-messages")),message_node&&message_node.html(e)},set_adapter:function(e){this.adapter=e,this.adapter.addClass("as_adapter"),this.adapter.data("action_link",this),this.refresh_url&&jQuery(".as_cancel",this.adapter).attr("href",this.refresh_url)},keep_open:function(){return this.tag.data("keep-open")}}),ActiveScaffold.Actions.Record=ActiveScaffold.Actions.Abstract.extend({instantiate_link:function(e){var t=new ActiveScaffold.ActionLink.Record(e,this.target,this.loading_indicator),i=this.target.data("refresh");
return i&&(t.refresh_url=this.target.closest(".records").data("refresh-record").replace("--ID--",i)),t.position&&(t.url=t.url.append_params({adapter:"_list_inline_adapter"}),t.tag.attr("href",t.url)),t.set=this,t}}),ActiveScaffold.ActionLink.Record=ActiveScaffold.ActionLink.Abstract.extend({close_previous_adapter:function(){var e=this;jQuery.each(this.set.links,function(t,i){i.url!=e.url&&i.is_disabled()&&!i.keep_open()&&i.adapter&&ActiveScaffold.remove(i.adapter,function(){i.enable()})})},insert:function(e){this.close_previous_adapter(),"replace"==this.position&&(this.position="after",this.hide_target=!0);var t=this.target.children().length;if(e&&this.position&&(e=jQuery(e),e.find(".inline-adapter-cell:first").attr("colspan",t)),"after"==this.position)this.target.after(e),this.set_adapter(this.target.next());else{if("before"!=this.position)return!1;this.target.before(e),this.set_adapter(this.target.prev())}ActiveScaffold.highlight(this.adapter.find("td")),ActiveScaffold.focus_first_element_of_form(this.adapter)},close:function(e){if(this._super(),e)if("string"==typeof e)ActiveScaffold.update_row(this.target,e);else if(this.refresh_url){var t=this.target;jQuery.get(this.refresh_url,function(e,i,n){ActiveScaffold.update_row(t,n.responseText)})}},enable:function(){var e=this;jQuery.each(this.set.links,function(t,i){i.url==e.url&&i.tag.removeClass("disabled")})},disable:function(){var e=this;jQuery.each(this.set.links,function(t,i){i.url==e.url&&i.tag.addClass("disabled")})},set_opened:function(){"after"==this.position?this.set_adapter(this.target.next()):"before"==this.position&&this.set_adapter(this.target.prev()),this.disable()}}),ActiveScaffold.Actions.Table=ActiveScaffold.Actions.Abstract.extend({instantiate_link:function(e){var t=new ActiveScaffold.ActionLink.Table(e,this.target,this.loading_indicator);return t.position&&(t.url=t.url.append_params({adapter:"_list_inline_adapter"}),t.tag.attr("href",t.url)),t}}),ActiveScaffold.ActionLink.Table=ActiveScaffold.ActionLink.Abstract.extend({insert:function(e){if("top"!=this.position)throw'Unknown position "'+this.position+'"';this.target.prepend(e),this.set_adapter(this.target.children().first()),ActiveScaffold.highlight(this.adapter.find("td").first().children()),ActiveScaffold.focus_first_element_of_form(this.adapter)}}),function(e){function t(e,t){this.settings=e,this.dom=t,this.originalValue=null,this.didInsertDefaultText=!1,this.shouldDelayReinit=!1}function i(e){if(!e.url&&!e.callback)throw new Error("Need to set either url: or callback: option for the inline editor to work.")}function n(e){if(""!==e){var t=new Image;t.src=e}}function o(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function r(e){return void 0===e||null===e?!1:0===e.length?!1:!0}e.fn.editInPlace=function(o){var r=e.extend({},e.fn.editInPlace.defaults,o);return i(r),n(r.saving_image),this.each(function(){var i=e(this);i.data("editInPlace")||(i.data("editInPlace",!0),new t(r,i).init())})},e.fn.editInPlace.defaults={url:"",ajax_data_type:"html",bg_over:"#ffc",bg_out:"transparent",hover_class:"",show_buttons:!1,save_button:'<button class="inplace_save">Save</button>',cancel_button:'<button class="inplace_cancel">Cancel</button>',params:"",field_type:"text",default_text:"(Click here to add text)",use_html:!1,textarea_rows:10,textarea_cols:25,select_text:"Choose new value",select_options:"",text_size:null,editor_url:null,loading_text:"Loading...",saving_text:void 0,saving_image:"",saving_animation_color:"transparent",clone_selector:null,clone_id_suffix:null,value_required:!1,element_id:"element_id",update_value:"update_value",original_value:"original_value",original_html:"original_html",save_if_nothing_changed:!1,on_blur:"save",cancel:"",callback:null,callback_skip_dom_reset:!1,beforeSend:null,success:null,error:null,error_sink:function(e,t){alert(t)},preinit:null,postclose:null,delegate:null};e.extend(t.prototype,{init:function(){this.setDefaultTextIfNeccessary(),this.connectOpeningEvents()},reinit:function(){this.shouldDelayReinit||(this.triggerCallback(this.settings.postclose,this.dom),this.triggerDelegateCall("didCloseEditInPlace"),this.markEditorAsInactive(),this.connectOpeningEvents())},setDefaultTextIfNeccessary:function(){""===this.dom.html()&&(this.dom.html(this.settings.default_text),this.didInsertDefaultText=!0)},connectOpeningEvents:function(){var e=this;this.dom.bind("mouseenter.editInPlace",function(){e.addHoverEffect()}).bind("mouseleave.editInPlace",function(){e.removeHoverEffect()}).bind("click.editInPlace",function(t){e.openEditor(t)})},disconnectOpeningEvents:function(){this.dom.unbind(".editInPlace")},addHoverEffect:function(){this.settings.hover_class?this.dom.addClass(this.settings.hover_class):this.dom.css("background-color",this.settings.bg_over)},removeHoverEffect:function(){this.settings.hover_class?this.dom.removeClass(this.settings.hover_class):this.dom.css("background-color",this.settings.bg_out)},openEditor:function(e){this.shouldOpenEditor(e)&&(this.disconnectOpeningEvents(),this.removeHoverEffect(),this.removeInsertedDefaultTextIfNeccessary(),this.saveOriginalValue(),this.markEditorAsActive(),this.replaceContentWithEditor(),this.setInitialValue(),this.workAroundMissingBlurBug(),this.connectClosingEventsToEditor(),this.triggerDelegateCall("didOpenEditInPlace"))},shouldOpenEditor:function(e){return this.isClickedObjectCancelled(e.target)?!1:!1===this.triggerCallback(this.settings.preinit,this.dom)?!1:!1===this.triggerDelegateCall("shouldOpenEditInPlace",!0,e)?!1:!0},removeInsertedDefaultTextIfNeccessary:function(){this.didInsertDefaultText&&this.dom.html()===this.settings.default_text&&(this.dom.html(""),this.didInsertDefaultText=!1)},isClickedObjectCancelled:function(t){if(!this.settings.cancel)return!1;var i=e(t).parents().andSelf(),n=i.filter(this.settings.cancel);return 0!==n.length},saveOriginalValue:function(){this.settings.use_html?this.originalValue=this.dom.html():this.originalValue=o(this.dom.text())},restoreOriginalValue:function(){this.setClosedEditorContent(this.originalValue)},setClosedEditorContent:function(e){this.settings.use_html?this.dom.html(e):this.dom.text(e)},workAroundMissingBlurBug:function(){var e=this.dom.find(":input");this.dom.parents(":last").find(".editInPlace-active :input").not(e).blur()},replaceContentWithEditor:function(){var e=this.settings.show_buttons?this.settings.save_button+" "+this.settings.cancel_button:"",t=this.createEditorElement();this.dom.html('<form class="inplace_form" style="display: inline; margin: 0; padding: 0;"></form>').find("form").append(t).append(e)},createEditorElement:function(){if(-1===e.inArray(this.settings.field_type,["text","textarea","select","remote","clone"]))throw"Unknown field_type <fnord>, supported are 'text', 'textarea', 'select' and 'remote'";var t=null;if("select"===this.settings.field_type)t=this.createSelectEditor();else if("text"===this.settings.field_type)t=e('<input type="text" '+this.inputNameAndClass()+' size="'+this.settings.text_size+'" />');else if("textarea"===this.settings.field_type)t=e("<textarea "+this.inputNameAndClass()+' rows="'+this.settings.textarea_rows+'"  cols="'+this.settings.textarea_cols+'" />');else if("remote"===this.settings.field_type)t=this.createRemoteGeneratedEditor();else if("clone"===this.settings.field_type)return t=this.cloneEditor();return t},setInitialValue:function(){if("remote"!=this.settings.field_type&&"clone"!=this.settings.field_type){var e=this.triggerDelegateCall("willOpenEditInPlace",this.originalValue),t=this.dom.find(":input");t.val(e),t.val()!==e&&t.val("")}},createRemoteGeneratedEditor:function(){return this.dom.html(this.settings.loading_text),e(e.ajax({url:this.settings.editor_url,async:!1}).responseText)},cloneEditor:function(){var t=this.getPatternNodes(this.settings.clone_selector);if(null==t.editNode)return void alert("did not find any matching node for "+this.settings.clone_selector);var i=t.editNode.clone(),n=null;return i.data("id")&&i.attr("id",i.data("id")+this.settings.clone_id_suffix),i.attr("name","inplace_value"),i.addClass("editor_field"),this.setValue(i,this.originalValue),n=i,t.additionalNodes&&t.additionalNodes.each(function(t,i){var o=e(i).clone();o.data("id")&&o.attr("id",o.data("id")+this.settings.clone_id_suffix),n=n.after(o)}),n},getPatternNodes:function(t){var i={editNode:null,additionalNodes:null},n=e(t),o=n.first();return"undefined"!=typeof o&&(o.hasClass("as_inplace_pattern")&&(n=o.children()),i.editNode=n.first(),i.additionalNodes=n.slice(1)),i},setValue:function(e,t){var i="setValueFor"+e.get(0).nodeName.toLowerCase();"function"==typeof this[i]?this[i](e,t):e.val(t)},setValueForselect:function(e,t){var i=e.children("option:contains('"+t+"')").val();"undefined"!=typeof i&&e.val(i)},inputNameAndClass:function(){return' name="inplace_value" class="inplace_field" '},createSelectEditor:function(){var t=e("<select"+this.inputNameAndClass()+'><option disabled="true" value="">'+this.settings.select_text+"</option></select>"),i=this.settings.select_options;e.isArray(i)||(i=i.split(","));for(var n=0;n<i.length;n++){var r=i[n];e.isArray(r)||(r=r.split(":"));var a=o(r[1]||r[0]),s=o(r[0]),l=e("<option>").val(a).text(s);t.append(l)}return t},connectClosingEventsToEditor:function(){function e(e){return i.handleCancelEditor(e),!1}function t(e){return i.handleSaveEditor(e),!1}var i=this,n=this.dom.find("form");n.find(".inplace_field").focus().select(),n.find(".inplace_cancel").click(e),n.find(".inplace_save").click(t),this.settings.show_buttons||("save"===this.settings.on_blur?n.find(".inplace_field").blur(t):n.find(".inplace_field").blur(e)),n.keyup(function(t){var i=27;return i===t.which?e():void 0}),n.submit(t)},bindSubmitOnEnterInInput:function(){if("textarea"!==this.settings.field_type){var e=this;this.dom.find(":input").keyup(function(t){var i=13;return i===t.which?e.dom.find("form").submit():void 0})}},handleCancelEditor:function(e){if(!1!==this.triggerDelegateCall("shouldCloseEditInPlace",!0,e)){var t=this.dom.find(":input"),i=t.val();i=this.triggerDelegateCall("willCloseEditInPlace",i),this.restoreOriginalValue(),this.reinit()}},handleSaveEditor:function(t){if(!1!==this.triggerDelegateCall("shouldCloseEditInPlace",!0,t)){var i=this.dom.find('[name]:input:not(:button,[name=""])').not("input:checkbox:not(:checked)").not("input:radio:not(:checked)"),n="";if(n=i.length>1?jQuery.map(i,function(t,i){return e(t).val()}):i.val(),n=this.triggerDelegateCall("willCloseEditInPlace",n),this.isDisabledDefaultSelectChoice()||this.isUnchangedInput(n))return void this.handleCancelEditor(t);if(this.didForgetRequiredText(n))return this.handleCancelEditor(t),void this.reportError("Error: You must enter a value to save this field");this.showSaving(n),this.settings.callback?this.handleSubmitToCallback(n):this.handleSubmitToServer(n)}},didForgetRequiredText:function(e){return this.settings.value_required&&(""===e||void 0===e||null===e)},isDisabledDefaultSelectChoice:function(){return this.dom.find("option").eq(0).is(":selected:disabled")},isUnchangedInput:function(e){return!this.settings.save_if_nothing_changed&&this.originalValue===e},showSaving:function(t){if(!this.settings.callback||!this.settings.callback_skip_dom_reset){var i=t;r(this.settings.saving_text)&&(i=this.settings.saving_text),r(this.settings.saving_image)&&(i=e("<img />").attr("src",this.settings.saving_image).attr("alt",i)),this.dom.html(i)}},handleSubmitToCallback:function(e){this.enableOrDisableAnimationCallbacks(!0,!1);var t=this.triggerCallback(this.settings.callback,this.id(),e,this.originalValue,this.settings.params,this.savingAnimationCallbacks());this.settings.callback_skip_dom_reset||(void 0===t?(this.reportError("Error: Failed to save value: "+e),this.restoreOriginalValue()):this.dom.html(t)),this.didCallNoCallbacks()&&(this.enableOrDisableAnimationCallbacks(!1,!1),this.reinit())},handleSubmitToServer:function(t){var i="";if("string"==typeof t)i+=this.settings.update_value+"="+encodeURIComponent(t)+"&";else for(var n=0;n<t.length;n++)i+=this.settings.update_value+"[]="+encodeURIComponent(t[n])+"&";i+=this.settings.element_id+"="+this.dom.attr("id")+(this.settings.params?"&"+this.settings.params:"")+"&"+this.settings.original_html+"="+encodeURIComponent(this.originalValue)+"&"+this.settings.original_value+"="+encodeURIComponent(this.originalValue),this.enableOrDisableAnimationCallbacks(!0,!1),this.didStartSaving();var o=this;e.ajax({url:o.settings.url,type:"POST",data:i,dataType:o.settings.ajax_data_type,beforeSend:function(e,t){o.triggerCallback(o.settings.beforeSend,e,t)},complete:function(e){o.didEndSaving()},success:function(e){if("html"==o.settings.ajax_data_type){var t=e||o.settings.default_text;o.dom.html(t)}o.triggerCallback(o.settings.success,e)},error:function(e){o.dom.html(o.originalHTML),o.settings.error?o.triggerCallback(o.settings.error,e):o.reportError("Failed to save value: "+e.responseText||"Unspecified Error")}})},triggerCallback:function(e){if(e){var t=Array.prototype.slice.call(arguments,1);return e.apply(this.dom[0],t)}},triggerDelegateCall:function(t,i,n){if(!this.settings.delegate||!e.isFunction(this.settings.delegate[t]))return i;var o=this.settings.delegate[t](this.dom,this.settings,n);return void 0===o?i:o},reportError:function(e){this.triggerCallback(this.settings.error_sink,this.id(),e)},id:function(){return this.dom.attr("id")},markEditorAsActive:function(){this.dom.addClass("editInPlace-active")},markEditorAsInactive:function(){this.dom.removeClass("editInPlace-active")},savingAnimationCallbacks:function(){var e=this;return{didStartSaving:function(){e.didStartSaving()},didEndSaving:function(){e.didEndSaving()}}},enableOrDisableAnimationCallbacks:function(e,t){this.didStartSaving.enabled=e,this.didEndSaving.enabled=t},didCallNoCallbacks:function(){return this.didStartSaving.enabled&&!this.didEndSaving.enabled},assertCanCall:function(e){if(!this[e].enabled)throw new Error("Cannot call "+e+" now. See documentation for details.")},didStartSaving:function(){this.assertCanCall("didStartSaving"),this.shouldDelayReinit=!0,this.enableOrDisableAnimationCallbacks(!1,!0),this.startSavingAnimation()},didEndSaving:function(){this.assertCanCall("didEndSaving"),this.shouldDelayReinit=!1,this.enableOrDisableAnimationCallbacks(!1,!1),this.reinit(),this.stopSavingAnimation()},startSavingAnimation:function(){var e=this;this.dom.animate({backgroundColor:this.settings.saving_animation_color},400).animate({backgroundColor:"transparent"},400,"swing",function(){setTimeout(function(){e.startSavingAnimation()},10)})},stopSavingAnimation:function(){this.dom.stop(!0).css({backgroundColor:""})},missingCommaErrorPreventer:""})}(jQuery),ActiveScaffold.config={scroll_on_close:"checkInViewport"},/* ========================================================================
 * Bootstrap: affix.js v3.3.5
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.affix"),r="object"==typeof t&&t;o||n.data("bs.affix",o=new i(this,r)),"string"==typeof t&&o[t]()})}var i=function(t,n){this.options=e.extend({},i.DEFAULTS,n),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.5",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(e,t,i,n){var o=this.$target.scrollTop(),r=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return i>o?"top":!1;if("bottom"==this.affixed)return null!=i?o+this.unpin<=r.top?!1:"bottom":e-n>=o+a?!1:"bottom";var s=null==this.affixed,l=s?o:r.top,c=s?a:t;return null!=i&&i>=o?"top":null!=n&&l+c>=e-n?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},i.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),n=this.options.offset,o=n.top,r=n.bottom,a=Math.max(e(document).height(),e(document.body).height());"object"!=typeof n&&(r=o=n),"function"==typeof o&&(o=n.top(this.$element)),"function"==typeof r&&(r=n.bottom(this.$element));var s=this.getState(a,t,o,r);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-t-r})}};var n=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=i,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var i=e(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),t.call(i,n)})})}(jQuery),/* ========================================================================
 * Bootstrap: alert.js v3.3.5
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.alert");o||i.data("bs.alert",o=new n(this)),"string"==typeof t&&o[t].call(i)})}var i='[data-dismiss="alert"]',n=function(t){e(t).on("click",i,this.close)};n.VERSION="3.3.5",n.TRANSITION_DURATION=150,n.prototype.close=function(t){function i(){a.detach().trigger("closed.bs.alert").remove()}var o=e(this),r=o.attr("data-target");r||(r=o.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var a=e(r);t&&t.preventDefault(),a.length||(a=o.closest(".alert")),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var o=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=o,this},e(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),/* ========================================================================
 * Bootstrap: button.js v3.3.5
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.button"),r="object"==typeof t&&t;o||n.data("bs.button",o=new i(this,r)),"toggle"==t?o.toggle():t&&o.setState(t)})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.5",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(t){var i="disabled",n=this.$element,o=n.is("input")?"val":"html",r=n.data();t+="Text",null==r.resetText&&n.data("resetText",n[o]()),setTimeout(e.proxy(function(){n[o](null==r[t]?this.options[t]:r[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),e&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=t,e.fn.button.Constructor=i,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=e(i.target);n.hasClass("btn")||(n=n.closest(".btn")),t.call(n,"toggle"),e(i.target).is('input[type="radio"]')||e(i.target).is('input[type="checkbox"]')||i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),/* ========================================================================
 * Bootstrap: carousel.js v3.3.5
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.carousel"),r=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t),a="string"==typeof t?t:r.slide;o||n.data("bs.carousel",o=new i(this,r)),"number"==typeof t?o.to(t):a?o[a]():r.interval&&o.pause().cycle()})}var i=function(t,i){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};i.VERSION="3.3.5",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},i.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},i.prototype.getItemForDirection=function(e,t){var i=this.getItemIndex(t),n="prev"==e&&0===i||"next"==e&&i==this.$items.length-1;if(n&&!this.options.wrap)return t;var o="prev"==e?-1:1,r=(i+o)%this.$items.length;return this.$items.eq(r)},i.prototype.to=function(e){var t=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",this.$items.eq(e))},i.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(t,n){var o=this.$element.find(".item.active"),r=n||this.getItemForDirection(t,o),a=this.interval,s="next"==t?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var c=r[0],d=e.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=e(this.$indicators.children()[this.getItemIndex(r)]);u&&u.addClass("active")}var f=e.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(r.addClass(t),r[0].offsetWidth,o.addClass(s),r.addClass(s),o.one("bsTransitionEnd",function(){r.removeClass([t,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(f)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(o.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(f)),a&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=i,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this};var o=function(i){var n,o=e(this),r=e(o.attr("data-target")||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var a=e.extend({},r.data(),o.data()),s=o.attr("data-slide-to");s&&(a.interval=!1),t.call(r,a),s&&r.data("bs.carousel").to(s),i.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var i=e(this);t.call(i,i.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: collapse.js v3.3.5
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){var i,n=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return e(n)}function i(t){return this.each(function(){var i=e(this),o=i.data("bs.collapse"),r=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);!o&&r.toggle&&/show|hide/.test(t)&&(r.toggle=!1),o||i.data("bs.collapse",o=new n(this,r)),"string"==typeof t&&o[t]()})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.5",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(t=o.data("bs.collapse"),t&&t.transitioning))){var r=e.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){o&&o.length&&(i.call(o,"hide"),t||o.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[a](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[i](0).one("bsTransitionEnd",e.proxy(o,this)).emulateTransitionEnd(n.TRANSITION_DURATION):o.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(i,n){var o=e(n);this.addAriaAndCollapsedClass(t(o),o)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(e,t){var i=e.hasClass("in");e.attr("aria-expanded",i),t.toggleClass("collapsed",!i).attr("aria-expanded",i)};var o=e.fn.collapse;e.fn.collapse=i,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=o,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var o=e(this);o.attr("data-target")||n.preventDefault();var r=t(o),a=r.data("bs.collapse"),s=a?"toggle":o.data();i.call(r,s)})}(jQuery),/* ========================================================================
 * Bootstrap: dropdown.js v3.3.5
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){var i=t.attr("data-target");i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&e(i);return n&&n.length?n:t.parent()}function i(i){i&&3===i.which||(e(o).remove(),e(r).each(function(){var n=e(this),o=t(n),r={relatedTarget:this};o.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&e.contains(o[0],i.target)||(o.trigger(i=e.Event("hide.bs.dropdown",r)),i.isDefaultPrevented()||(n.attr("aria-expanded","false"),o.removeClass("open").trigger("hidden.bs.dropdown",r))))}))}function n(t){return this.each(function(){var i=e(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new a(this)),"string"==typeof t&&n[t].call(i)})}var o=".dropdown-backdrop",r='[data-toggle="dropdown"]',a=function(t){e(t).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.5",a.prototype.toggle=function(n){var o=e(this);if(!o.is(".disabled, :disabled")){var r=t(o),a=r.hasClass("open");if(i(),!a){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",i);var s={relatedTarget:this};if(r.trigger(n=e.Event("show.bs.dropdown",s)),n.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},a.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var n=e(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var o=t(n),a=o.hasClass("open");if(!a&&27!=i.which||a&&27==i.which)return 27==i.which&&o.find(r).trigger("focus"),n.trigger("click");var s=" li:not(.disabled):visible a",l=o.find(".dropdown-menu"+s);if(l.length){var c=l.index(i.target);38==i.which&&c>0&&c--,40==i.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=n,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",r,a.prototype.toggle).on("keydown.bs.dropdown.data-api",r,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),/* ========================================================================
 * Bootstrap: tab.js v3.3.5
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.tab");o||n.data("bs.tab",o=new i(this)),"string"==typeof t&&o[t]()})}var i=function(t){this.element=e(t)};i.VERSION="3.3.5",i.TRANSITION_DURATION=150,i.prototype.show=function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=t.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var o=i.find(".active:last a"),r=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(r),t.trigger(a),!a.isDefaultPrevented()&&!r.isDefaultPrevented()){var s=e(n);this.activate(t.closest("li"),i),this.activate(s,s.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},i.prototype.activate=function(t,n,o){function r(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var a=n.find("> .active"),s=o&&e.support.transition&&(a.length&&a.hasClass("fade")||!!n.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",r).emulateTransitionEnd(i.TRANSITION_DURATION):r(),a.removeClass("in")};var n=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=i,e.fn.tab.noConflict=function(){return e.fn.tab=n,this};var o=function(i){i.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),/* ========================================================================
 * Bootstrap: transition.js v3.3.5
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}e.fn.emulateTransitionEnd=function(t){var i=!1,n=this;e(this).one("bsTransitionEnd",function(){i=!0});var o=function(){i||e(n).trigger(e.support.transition.end)};return setTimeout(o,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),/* ========================================================================
 * Bootstrap: scrollspy.js v3.3.5
 * http://getbootstrap.com/javascript/#scrollspy
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(i,n){this.$body=e(document.body),this.$scrollElement=e(e(i).is(document.body)?window:i),this.options=e.extend({},t.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=e(this),o=n.data("bs.scrollspy"),r="object"==typeof i&&i;o||n.data("bs.scrollspy",o=new t(this,r)),"string"==typeof i&&o[i]()})}t.VERSION="3.3.5",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),o=t.data("target")||t.attr("href"),r=/^#./.test(o)&&e(o);return r&&r.length&&r.is(":visible")&&[[r[i]().top+n,o]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),o=this.offsets,r=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),t>=n)return a!=(e=r[r.length-1])&&this.activate(e);if(a&&t<o[0])return this.activeTarget=null,this.clear();for(e=o.length;e--;)a!=r[e]&&t>=o[e]&&(void 0===o[e+1]||t<o[e+1])&&this.activate(r[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=e.fn.scrollspy;e.fn.scrollspy=i,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);i.call(t,t.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: modal.js v3.3.5
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t,n){return this.each(function(){var o=e(this),r=o.data("bs.modal"),a=e.extend({},i.DEFAULTS,o.data(),"object"==typeof t&&t);r||o.data("bs.modal",r=new i(this,a)),"string"==typeof t?r[t](n):a.show&&r.show(n)})}var i=function(t,i){this.options=i,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.5",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},i.prototype.show=function(t){var n=this,o=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),o&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var r=e.Event("shown.bs.modal",{relatedTarget:t});o?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(r)}))},i.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(t){var n=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&o;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;r?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=i,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=e(this),o=n.attr("href"),r=e(n.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),a=r.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(o)&&o},r.data(),n.data());n.is("a")&&i.preventDefault(),r.one("show.bs.modal",function(e){e.isDefaultPrevented()||r.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),t.call(r,a,this)})}(jQuery),/* ========================================================================
 * Bootstrap: tooltip.js v3.3.5
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.tooltip"),r="object"==typeof t&&t;(o||!/destroy|hide/.test(t))&&(o||n.data("bs.tooltip",o=new i(this,r)),"string"==typeof t&&o[t]())})}var i=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};i.VERSION="3.3.5",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(t,i,n){if(this.enabled=!0,this.type=t,this.$element=e(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),r=o.length;r--;){var a=o[r];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},i.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&e.each(this._options,function(e,n){i[e]!=n&&(t[e]=n)}),t},i.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),t instanceof e.Event&&(i.inState["focusin"==t.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},i.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),t instanceof e.Event&&(i.inState["focusout"==t.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())},i.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var o=this,r=this.tip(),a=this.getUID(this.type);this.setContent(),r.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&r.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(s);c&&(s=s.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),u=r[0].offsetWidth,f=r[0].offsetHeight;if(c){var p=s,h=this.getPosition(this.$viewport);s="bottom"==s&&d.bottom+f>h.bottom?"top":"top"==s&&d.top-f<h.top?"bottom":"right"==s&&d.right+u>h.width?"left":"left"==s&&d.left-u<h.left?"right":s,r.removeClass(p).addClass(s)}var m=this.getCalculatedOffset(s,d,u,f);this.applyPlacement(m,s);var g=function(){var e=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==e&&o.leave(o)};e.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",g).emulateTransitionEnd(i.TRANSITION_DURATION):g()}},i.prototype.applyPlacement=function(t,i){var n=this.tip(),o=n[0].offsetWidth,r=n[0].offsetHeight,a=parseInt(n.css("margin-top"),10),s=parseInt(n.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top+=a,t.left+=s,e.offset.setOffset(n[0],e.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),n.addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;"top"==i&&c!=r&&(t.top=t.top+r-c);var d=this.getViewportAdjustedDelta(i,t,l,c);d.left?t.left+=d.left:t.top+=d.top;var u=/top|bottom/.test(i),f=u?2*d.left-o+l:2*d.top-r+c,p=u?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(f,n[0][p],u)},i.prototype.replaceArrow=function(e,t,i){this.arrow().css(i?"left":"top",50*(1-e/t)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},i.prototype.hide=function(t){function n(){"in"!=o.hoverState&&r.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),t&&t()}var o=this,r=e(this.$tip),a=e.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(r.removeClass("in"),e.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(t){t=t||this.$element;var i=t[0],n="BODY"==i.tagName,o=i.getBoundingClientRect();null==o.width&&(o=e.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var r=n?{top:0,left:0}:t.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=n?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},o,a,s,r)},i.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},i.prototype.getViewportAdjustedDelta=function(e,t,i,n){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-r-a.scroll,l=t.top+r-a.scroll+n;s<a.top?o.top=a.top-s:l>a.top+a.height&&(o.top=a.top+a.height-l)}else{var c=t.left-r,d=t.left+r+i;c<a.left?o.left=a.left-c:d>a.right&&(o.left=a.left+a.width-d)}return o},i.prototype.getTitle=function(){var e,t=this.$element,i=this.options;return e=t.attr("data-original-title")||("function"==typeof i.title?i.title.call(t[0]):i.title)},i.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(t){var i=this;t&&(i=e(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i))),t?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null})};var n=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=i,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery),/* ========================================================================
 * Bootstrap: popover.js v3.3.5
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.popover"),r="object"==typeof t&&t;(o||!/destroy|hide/.test(t))&&(o||n.data("bs.popover",o=new i(this,r)),"string"==typeof t&&o[t]())})}var i=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.5",i.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=i,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),$(document).ajaxError(function(e,t){var i=t.getResponseHeader("X-Message");i&&alert(i)});